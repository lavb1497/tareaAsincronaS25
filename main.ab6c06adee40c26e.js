"use strict";(self.webpackChunkactividad_25=self.webpackChunkactividad_25||[]).push([[179],{360:()=>{function De(t){return"function"==typeof t}function ru(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Bl=ru(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function oo(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class wn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(De(r))try{r()}catch(s){e=s instanceof Bl?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{xT(s)}catch(o){e=e??[],o instanceof Bl?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Bl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)xT(e);else{if(e instanceof wn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&oo(n,e)}remove(e){const{_finalizers:n}=this;n&&oo(n,e),e instanceof wn&&e._removeParent(this)}}wn.EMPTY=(()=>{const t=new wn;return t.closed=!0,t})();const ST=wn.EMPTY;function AT(t){return t instanceof wn||t&&"closed"in t&&De(t.remove)&&De(t.add)&&De(t.unsubscribe)}function xT(t){De(t)?t():t.unsubscribe()}const Wi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},$l={setTimeout(t,e,...n){const{delegate:r}=$l;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=$l;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function MT(t){$l.setTimeout(()=>{const{onUnhandledError:e}=Wi;if(!e)throw t;e(t)})}function kT(){}const C2=ig("C",void 0,void 0);function ig(t,e,n){return{kind:t,value:e,error:n}}let Ki=null;function jl(t){if(Wi.useDeprecatedSynchronousErrorHandling){const e=!Ki;if(e&&(Ki={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ki;if(Ki=null,n)throw r}}else t()}class sg extends wn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,AT(e)&&e.add(this)):this.destination=R2}static create(e,n,r){return new iu(e,n,r)}next(e){this.isStopped?ag(function S2(t){return ig("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ag(function T2(t){return ig("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ag(C2,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const x2=Function.prototype.bind;function og(t,e){return x2.call(t,e)}class M2{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Gl(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Gl(r)}else Gl(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Gl(n)}}}class iu extends sg{constructor(e,n,r){let i;if(super(),De(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Wi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&og(e.next,s),error:e.error&&og(e.error,s),complete:e.complete&&og(e.complete,s)}):i=e}this.destination=new M2(i)}}function Gl(t){Wi.useDeprecatedSynchronousErrorHandling?function A2(t){Wi.useDeprecatedSynchronousErrorHandling&&Ki&&(Ki.errorThrown=!0,Ki.error=t)}(t):MT(t)}function ag(t,e){const{onStoppedNotification:n}=Wi;n&&$l.setTimeout(()=>n(t,e))}const R2={closed:!0,next:kT,error:function k2(t){throw t},complete:kT},ug="function"==typeof Symbol&&Symbol.observable||"@@observable";function Qi(t){return t}function RT(t){return 0===t.length?Qi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Pe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function P2(t){return t&&t instanceof sg||function O2(t){return t&&De(t.next)&&De(t.error)&&De(t.complete)}(t)&&AT(t)}(n)?n:new iu(n,r,i);return jl(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=NT(r))((i,s)=>{const o=new iu({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ug](){return this}pipe(...n){return RT(n)(this)}toPromise(n){return new(n=NT(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function NT(t){var e;return null!==(e=t??Wi.Promise)&&void 0!==e?e:Promise}const F2=ru(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Nr=(()=>{class t extends Pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new OT(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new F2}next(n){jl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){jl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){jl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?ST:(this.currentObservers=null,s.push(n),new wn(()=>{this.currentObservers=null,oo(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Pe;return n.source=this,n}}return t.create=(e,n)=>new OT(e,n),t})();class OT extends Nr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:ST}}function PT(t){return De(t?.lift)}function mt(t){return e=>{if(PT(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function at(t,e,n,r,i){return new L2(t,e,n,r,i)}class L2 extends sg{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function se(t,e){return mt((n,r)=>{let i=0;n.subscribe(at(r,s=>{r.next(t.call(e,s,i++))}))})}function LT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Yi(t){return this instanceof Yi?(this.v=t,this):new Yi(t)}function B2(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Yi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function $2(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function UT(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const BT=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function $T(t){return De(t?.then)}function jT(t){return De(t[ug])}function GT(t){return Symbol.asyncIterator&&De(t?.[Symbol.asyncIterator])}function HT(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const qT=function G2(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function zT(t){return De(t?.[qT])}function WT(t){return B2(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Yi(n.read());if(i)return yield Yi(void 0);yield yield Yi(r)}}finally{n.releaseLock()}})}function KT(t){return De(t?.getReader)}function Wn(t){if(t instanceof Pe)return t;if(null!=t){if(jT(t))return function H2(t){return new Pe(e=>{const n=t[ug]();if(De(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(BT(t))return function q2(t){return new Pe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if($T(t))return function z2(t){return new Pe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,MT)})}(t);if(GT(t))return QT(t);if(zT(t))return function W2(t){return new Pe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(KT(t))return function K2(t){return QT(WT(t))}(t)}throw HT(t)}function QT(t){return new Pe(e=>{(function Q2(t,e){var n,r,i,s;return function V2(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=$2(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Or(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Et(t,e,n=1/0){return De(e)?Et((r,i)=>se((s,o)=>e(r,s,i,o))(Wn(t(r,i))),n):("number"==typeof e&&(n=e),mt((r,i)=>function Y2(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let y=!1;Wn(n(g,l++)).subscribe(at(e,I=>{i?.(I),s?f(I):e.next(I)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const I=u.shift();o?Or(e,o,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return t.subscribe(at(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function ao(t=1/0){return Et(Qi,t)}const ur=new Pe(t=>t.complete());function lg(t){return t[t.length-1]}function YT(t){return De(lg(t))?t.pop():void 0}function su(t){return function X2(t){return t&&De(t.schedule)}(lg(t))?t.pop():void 0}function Hl(t,e=0){return mt((n,r)=>{n.subscribe(at(r,i=>Or(r,t,()=>r.next(i),e),()=>Or(r,t,()=>r.complete(),e),i=>Or(r,t,()=>r.error(i),e)))})}function ql(t,e=0){return mt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function ZT(t,e){if(!t)throw new Error("Iterable cannot be null");return new Pe(n=>{Or(n,e,()=>{const r=t[Symbol.asyncIterator]();Or(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function tt(t,e){return e?function s$(t,e){if(null!=t){if(jT(t))return function e$(t,e){return Wn(t).pipe(ql(e),Hl(e))}(t,e);if(BT(t))return function n$(t,e){return new Pe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if($T(t))return function t$(t,e){return Wn(t).pipe(ql(e),Hl(e))}(t,e);if(GT(t))return ZT(t,e);if(zT(t))return function r$(t,e){return new Pe(n=>{let r;return Or(n,e,()=>{r=t[qT](),Or(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>De(r?.return)&&r.return()})}(t,e);if(KT(t))return function i$(t,e){return ZT(WT(t),e)}(t,e)}throw HT(t)}(t,e):Wn(t)}function dg(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new iu({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function Ee(t){for(let e in t)if(t[e]===Ee)return e;throw Error("Could not find renamed property on target object.")}function hg(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function be(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(be).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function fg(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const u$=Ee({__forward_ref__:Ee});function Ce(t){return t.__forward_ref__=Ce,t.toString=function(){return be(this())},t}function H(t){return pg(t)?t():t}function pg(t){return"function"==typeof t&&t.hasOwnProperty(u$)&&t.__forward_ref__===Ce}function gg(t){return t&&!!t.\u0275providers}const XT="https://g.co/ng/security#xss";class S extends Error{constructor(e,n){super(function zl(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}(e,n)),this.code=e}}function Z(t){return"string"==typeof t?t:null==t?"":String(t)}function Wl(t,e){throw new S(-201,!1)}function Fn(t,e){null==t&&function ye(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ft(t){return{providers:t.providers||[],imports:t.imports||[]}}function Kl(t){return JT(t,Ql)||JT(t,t0)}function JT(t,e){return t.hasOwnProperty(e)?t[e]:null}function e0(t){return t&&(t.hasOwnProperty(mg)||t.hasOwnProperty(y$))?t[mg]:null}const Ql=Ee({\u0275prov:Ee}),mg=Ee({\u0275inj:Ee}),t0=Ee({ngInjectableDef:Ee}),y$=Ee({ngInjectorDef:Ee});var z=(()=>((z=z||{})[z.Default=0]="Default",z[z.Host=1]="Host",z[z.Self=2]="Self",z[z.SkipSelf=4]="SkipSelf",z[z.Optional=8]="Optional",z))();let yg;function Ln(t){const e=yg;return yg=t,e}function n0(t,e,n){const r=Kl(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&z.Optional?null:void 0!==e?e:void Wl(be(t))}const Te=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ou={},_g="__NG_DI_FLAG__",Yl="ngTempTokenPath",w$=/\n/gm,r0="__source";let au;function uo(t){const e=au;return au=t,e}function E$(t,e=z.Default){if(void 0===au)throw new S(-203,!1);return null===au?n0(t,void 0,e):au.get(t,e&z.Optional?null:void 0,e)}function $(t,e=z.Default){return(function _$(){return yg}()||E$)(H(t),e)}function le(t,e=z.Default){return $(t,Zl(e))}function Zl(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function vg(t){const e=[];for(let n=0;n<t.length;n++){const r=H(t[n]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,s=z.Default;for(let o=0;o<r.length;o++){const a=r[o],u=D$(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push($(i,s))}else e.push($(r))}return e}function uu(t,e){return t[_g]=e,t.prototype[_g]=e,t}function D$(t){return t[_g]}function gi(t){return{toString:t}.toString()}var Kn=(()=>((Kn=Kn||{})[Kn.OnPush=0]="OnPush",Kn[Kn.Default=1]="Default",Kn))(),cr=(()=>{return(t=cr||(cr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",cr;var t})();const Pr={},ge=[],Xl=Ee({\u0275cmp:Ee}),wg=Ee({\u0275dir:Ee}),Ig=Ee({\u0275pipe:Ee}),o0=Ee({\u0275mod:Ee}),Fr=Ee({\u0275fac:Ee}),cu=Ee({__NG_ELEMENT_ID__:Ee});let T$=0;function mi(t){return gi(()=>{const n=!0===t.standalone,r={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Kn.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||ge,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||cr.Emulated,id:"c"+T$++,styles:t.styles||ge,_:null,setInput:null,schemas:t.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},s=t.dependencies,o=t.features;return i.inputs=c0(t.inputs,r),i.outputs=c0(t.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(a0).filter(u0):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(Kt).filter(u0):null,i})}function a0(t){return _e(t)||Lt(t)}function u0(t){return null!==t}function Wt(t){return gi(()=>({type:t.type,bootstrap:t.bootstrap||ge,declarations:t.declarations||ge,imports:t.imports||ge,exports:t.exports||ge,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function c0(t,e){if(null==t)return Pr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const K=mi;function _e(t){return t[Xl]||null}function Lt(t){return t[wg]||null}function Kt(t){return t[Ig]||null}function En(t,e){const n=t[o0]||null;if(!n&&!0===e)throw new Error(`Type ${be(t)} does not have '\u0275mod' property.`);return n}function Dn(t){return Array.isArray(t)&&"object"==typeof t[1]}function Yn(t){return Array.isArray(t)&&!0===t[1]}function bg(t){return 0!=(4&t.flags)}function fu(t){return t.componentOffset>-1}function rd(t){return 1==(1&t.flags)}function Zn(t){return null!==t.template}function x$(t){return 0!=(256&t[2])}function Xi(t,e){return t.hasOwnProperty(Fr)?t[Fr]:null}class R${constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Vn(){return g0}function g0(t){return t.type.prototype.ngOnChanges&&(t.setInput=O$),N$}function N$(){const t=y0(this),e=t?.current;if(e){const n=t.previous;if(n===Pr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function O$(t,e,n,r){const i=this.declaredInputs[n],s=y0(t)||function P$(t,e){return t[m0]=e}(t,{previous:Pr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new R$(u&&u.currentValue,e,a===Pr),t[r]=e}Vn.ngInherit=!0;const m0="__ngSimpleChanges__";function y0(t){return t[m0]||null}function Dt(t){for(;Array.isArray(t);)t=t[0];return t}function id(t,e){return Dt(e[t])}function bn(t,e){return Dt(e[t.index])}function w0(t,e){return t.data[e]}function Cn(t,e){const n=e[t];return Dn(n)?n:n[0]}function sd(t){return 64==(64&t[2])}function yi(t,e){return null==e?null:t[e]}function I0(t){t[18]=0}function Tg(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const X={lFrame:N0(null),bindingsEnabled:!0};function D0(){return X.bindingsEnabled}function E(){return X.lFrame.lView}function de(){return X.lFrame.tView}function bt(){let t=T0();for(;null!==t&&64===t.type;)t=t.parent;return t}function T0(){return X.lFrame.currentTNode}function dr(t,e){const n=X.lFrame;n.currentTNode=t,n.isParent=e}function Sg(){return X.lFrame.isParent}function mo(){return X.lFrame.bindingIndex++}function K$(t,e){const n=X.lFrame;n.bindingIndex=n.bindingRootIndex=t,xg(e)}function xg(t){X.lFrame.currentDirectiveIndex=t}function kg(t){X.lFrame.currentQueryIndex=t}function Y$(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function k0(t,e,n){if(n&z.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&z.Host||(i=Y$(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=X.lFrame=R0();return r.currentTNode=e,r.lView=t,!0}function Rg(t){const e=R0(),n=t[1];X.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function R0(){const t=X.lFrame,e=null===t?null:t.child;return null===e?N0(t):e}function N0(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function O0(){const t=X.lFrame;return X.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const P0=O0;function Ng(){const t=O0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Zt(){return X.lFrame.selectedIndex}function Ji(t){X.lFrame.selectedIndex=t}function Fe(){const t=X.lFrame;return w0(t.tView,t.selectedIndex)}function od(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function ad(t,e,n){F0(t,e,3,n)}function ud(t,e,n,r){(3&t[2])===n&&F0(t,e,n,r)}function Og(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function F0(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(sj(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function sj(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class gu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Fg(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];V0(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function L0(t){return 3===t||4===t||6===t}function V0(t){return 64===t.charCodeAt(0)}function mu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||U0(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function U0(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function B0(t){return-1!==t}function cd(t){return 32767&t}function ld(t,e){let n=function cj(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Lg=!0;function dd(t){const e=Lg;return Lg=t,e}let lj=0;const hr={};function hd(t,e){const n=G0(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Vg(r.data,t),Vg(e,null),Vg(r.blueprint,null));const i=Ug(t,e),s=t.injectorIndex;if(B0(i)){const o=cd(i),a=ld(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Vg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function G0(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ug(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=Y0(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Bg(t,e,n){!function dj(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(cu)&&(r=n[cu]),null==r&&(r=n[cu]=lj++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function H0(t,e,n){if(n&z.Optional||void 0!==t)return t;Wl()}function q0(t,e,n,r){if(n&z.Optional&&void 0===r&&(r=null),!(n&(z.Self|z.Host))){const i=t[9],s=Ln(void 0);try{return i?i.get(e,r,n&z.Optional):n0(e,r,n&z.Optional)}finally{Ln(s)}}return H0(r,0,n)}function z0(t,e,n,r=z.Default,i){if(null!==t){if(1024&e[2]){const o=function mj(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=W0(s,o,n,r|z.Self,hr);if(a!==hr)return a;let u=s.parent;if(!u){const c=o[21];if(c){const l=c.get(n,hr,r);if(l!==hr)return l}u=Y0(o),o=o[15]}s=u}return i}(t,e,n,r,hr);if(o!==hr)return o}const s=W0(t,e,n,r,hr);if(s!==hr)return s}return q0(e,n,r,i)}function W0(t,e,n,r,i){const s=function pj(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(cu)?t[cu]:void 0;return"number"==typeof e?e>=0?255&e:gj:e}(n);if("function"==typeof s){if(!k0(e,t,r))return r&z.Host?H0(i,0,r):q0(e,n,r,i);try{const o=s(r);if(null!=o||r&z.Optional)return o;Wl()}finally{P0()}}else if("number"==typeof s){let o=null,a=G0(t,e),u=-1,c=r&z.Host?e[16][6]:null;for((-1===a||r&z.SkipSelf)&&(u=-1===a?Ug(t,e):e[a+8],-1!==u&&Q0(r,!1)?(o=e[1],a=cd(u),e=ld(u,e)):a=-1);-1!==a;){const l=e[1];if(K0(s,a,l.data)){const d=fj(a,e,n,o,r,c);if(d!==hr)return d}u=e[a+8],-1!==u&&Q0(r,e[1].data[a+8]===c)&&K0(s,a,e)?(o=l,a=cd(u),e=ld(u,e)):a=-1}}return i}function fj(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=function fd(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Zn(f)&&f.type===n)return u}return null}(a,o,n,null==r?fu(a)&&Lg:r!=o&&0!=(3&a.type),i&z.Host&&s===a);return null!==l?es(e,o,l,a):hr}function es(t,e,n,r){let i=t[n];const s=e.data;if(function oj(t){return t instanceof gu}(i)){const o=i;o.resolving&&function c$(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,`Circular dependency in DI detected for ${t}${n}`)}(function me(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Z(t)}(s[n]));const a=dd(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Ln(o.injectImpl):null;k0(t,r,z.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function ij(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=g0(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&Ln(u),dd(a),o.resolving=!1,P0()}}return i}function K0(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Q0(t,e){return!(t&z.Self||t&z.Host&&e)}class _o{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return z0(this._tNode,this._lView,e,Zl(r),n)}}function gj(){return new _o(bt(),E())}function Ct(t){return gi(()=>{const e=t.prototype.constructor,n=e[Fr]||$g(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Fr]||$g(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function $g(t){return pg(t)?()=>{const e=$g(H(t));return e&&e()}:Xi(t)}function Y0(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[6]:null}const wo="__parameters__";function Eo(t,e,n){return gi(()=>{const r=function jg(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(wo)?u[wo]:Object.defineProperty(u,wo,{value:[]})[wo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class L{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ts(t,e){t.forEach(n=>Array.isArray(n)?ts(n,e):e(n))}function X0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function gd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Tn(t,e,n){let r=Do(t,e);return r>=0?t[1|r]=n:(r=~r,function wj(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Hg(t,e){const n=Do(t,e);if(n>=0)return t[1|n]}function Do(t,e){return function J0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Xt=uu(Eo("Optional"),8),wu=uu(Eo("SkipSelf"),4);var cn=(()=>((cn=cn||{})[cn.Important=1]="Important",cn[cn.DashCase=2]="DashCase",cn))();const Yg=new Map;let jj=0;const Xg="__ngContext__";function Bt(t,e){Dn(e)?(t[Xg]=e[20],function Hj(t){Yg.set(t[20],t)}(e)):t[Xg]=e}function em(t,e){return undefined(t,e)}function bu(t){const e=t[3];return Yn(e)?e[3]:e}function tm(t){return vS(t[13])}function nm(t){return vS(t[4])}function vS(t){for(;null!==t&&!Yn(t);)t=t[4];return t}function Co(t,e,n,r,i){if(null!=r){let s,o=!1;Yn(r)?s=r:Dn(r)&&(o=!0,r=r[0]);const a=Dt(r);0===t&&null!==n?null==i?CS(e,n,a):ns(e,n,a,i||null,!0):1===t&&null!==n?ns(e,n,a,i||null,!0):2===t?function cm(t,e,n){const r=vd(t,e);r&&function lG(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function fG(t,e,n,r,i){const s=n[7];s!==Dt(n)&&Co(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];Cu(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function im(t,e,n){return t.createElement(e,n)}function IS(t,e){const n=t[9],r=n.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Tg(i,-1)),n.splice(r,1)}function sm(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&IS(i,r),e>0&&(t[n-1][4]=r[4]);const s=gd(t,10+e);!function nG(t,e){Cu(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function ES(t,e){if(!(128&e[2])){const n=e[11];n.destroyNode&&Cu(t,e,n,3,null,null),function sG(t){let e=t[13];if(!e)return om(t[1],t);for(;e;){let n=null;if(Dn(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Dn(e)&&om(e[1],e),e=e[3];null===e&&(e=t),Dn(e)&&om(e[1],e),n=e&&e[4]}e=n}}(e)}}function om(t,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function cG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof gu)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function uG(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(t,e),1===e[1].type&&e[11].destroy();const n=e[17];if(null!==n&&Yn(e[3])){n!==e[3]&&IS(n,e);const r=e[19];null!==r&&r.detachView(t)}!function qj(t){Yg.delete(t[20])}(e)}}function DS(t,e,n){return function bS(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===cr.None||s===cr.Emulated)return null}return bn(r,n)}}(t,e.parent,n)}function ns(t,e,n,r,i){t.insertBefore(e,n,r,i)}function CS(t,e,n){t.appendChild(e,n)}function TS(t,e,n,r,i){null!==r?ns(t,e,n,r,i):CS(t,e,n)}function vd(t,e){return t.parentNode(e)}let hm,Dd,xS=function AS(t,e,n){return 40&t.type?bn(t,n):null};function wd(t,e,n,r){const i=DS(t,r,e),s=e[11],a=function SS(t,e,n){return xS(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)TS(s,i,n[u],a,!1);else TS(s,i,n,a,!1)}function Id(t,e){if(null!==e){const n=e.type;if(3&n)return bn(e,t);if(4&n)return um(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Id(t,r);{const i=t[e.index];return Yn(i)?um(-1,i):Dt(i)}}if(32&n)return em(e,t)()||Dt(t[e.index]);{const r=kS(t,e);return null!==r?Array.isArray(r)?r[0]:Id(bu(t[16]),r):Id(t,e.next)}}return null}function kS(t,e){return null!==e?t[16][6].projection[e.projection]:null}function um(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Id(r,i)}return e[7]}function lm(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Bt(Dt(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)lm(t,e,n.child,r,i,s,!1),Co(e,t,i,a,s);else if(32&u){const c=em(n,r);let l;for(;l=c();)Co(e,t,i,l,s);Co(e,t,i,a,s)}else 16&u?RS(t,e,r,n,i,s):Co(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Cu(t,e,n,r,i,s){lm(n,r,t.firstChild,e,i,s,!1)}function RS(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Co(e,t,i,u[c],s);else lm(t,e,u,o[3],i,s,!0)}function NS(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function OS(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Fg(t,e,r),null!==i&&NS(t,e,i),null!==s&&function gG(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function VS(t){return function fm(){if(void 0===Dd&&(Dd=null,Te.trustedTypes))try{Dd=Te.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Dd}()?.createScriptURL(t)||t}class US{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${XT})`}}function _i(t){return t instanceof US?t.changingThisBreaksApplicationSecurity:t}function Tu(t,e){const n=function CG(t){return t instanceof US&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${XT})`)}return n===e}const xG=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var nt=(()=>((nt=nt||{})[nt.NONE=0]="NONE",nt[nt.HTML=1]="HTML",nt[nt.STYLE=2]="STYLE",nt[nt.SCRIPT=3]="SCRIPT",nt[nt.URL=4]="URL",nt[nt.RESOURCE_URL=5]="RESOURCE_URL",nt))();function zS(t){const e=Au();return e?e.sanitize(nt.URL,t)||"":Tu(t,"URL")?_i(t):function pm(t){return(t=String(t)).match(xG)?t:"unsafe:"+t}(Z(t))}function WS(t){const e=Au();if(e)return VS(e.sanitize(nt.RESOURCE_URL,t)||"");if(Tu(t,"ResourceURL"))return VS(_i(t));throw new S(904,!1)}function Au(){const t=E();return t&&t[12]}const Cd=new L("ENVIRONMENT_INITIALIZER"),QS=new L("INJECTOR",-1),YS=new L("INJECTOR_DEF_TYPES");class ZS{get(e,n=ou){if(n===ou){const r=new Error(`NullInjectorError: No provider for ${be(e)}!`);throw r.name="NullInjectorError",r}return n}}function jG(...t){return{\u0275providers:XS(0,t),\u0275fromNgModule:!0}}function XS(t,...e){const n=[],r=new Set;let i;return ts(e,s=>{const o=s;_m(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&JS(i,n),n}function JS(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];vm(i,s=>{e.push(s)})}}function _m(t,e,n,r){if(!(t=H(t)))return!1;let i=null,s=e0(t);const o=!s&&_e(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=e0(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)_m(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{ts(s.imports,l=>{_m(l,e,n,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&JS(c,e)}if(!a){const c=Xi(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:ge},{provide:YS,useValue:i,multi:!0},{provide:Cd,useValue:()=>$(i),multi:!0})}const u=s.providers;null==u||a||vm(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function vm(t,e){for(let n of t)gg(n)&&(n=n.\u0275providers),Array.isArray(n)?vm(n,e):e(n)}const GG=Ee({provide:String,useValue:Ee});function wm(t){return null!==t&&"object"==typeof t&&GG in t}function is(t){return"function"==typeof t}const Im=new L("Set Injector scope."),Td={},qG={};let Em;function Sd(){return void 0===Em&&(Em=new ZS),Em}class $r{}class nA extends $r{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bm(e,o=>this.processProvider(o)),this.records.set(QS,To(void 0,this)),i.has("environment")&&this.records.set($r,To(void 0,this));const s=this.records.get(Im);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(YS.multi,ge,z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=uo(this),r=Ln(void 0);try{return e()}finally{uo(n),Ln(r)}}get(e,n=ou,r=z.Default){this.assertNotDestroyed(),r=Zl(r);const i=uo(this),s=Ln(void 0);try{if(!(r&z.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function YG(t){return"function"==typeof t||"object"==typeof t&&t instanceof L}(e)&&Kl(e);a=u&&this.injectableDefInScope(u)?To(Dm(e),Td):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&z.Self?Sd():this.parent).get(e,n=r&z.Optional&&n===ou?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Yl]=o[Yl]||[]).unshift(be(e)),i)throw o;return function b$(t,e,n,r){const i=t[Yl];throw e[r0]&&i.unshift(e[r0]),t.message=function C$(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=be(e);if(Array.isArray(e))i=e.map(be).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):be(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(w$,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Yl]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Ln(s),uo(i)}}resolveInjectorInitializers(){const e=uo(this),n=Ln(void 0);try{const r=this.get(Cd.multi,ge,z.Self);for(const i of r)i()}finally{uo(e),Ln(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(be(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let n=is(e=H(e))?e:H(e&&e.provide);const r=function WG(t){return wm(t)?To(void 0,t.useValue):To(rA(t),Td)}(e);if(is(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=To(void 0,Td,!0),i.factory=()=>vg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Td&&(n.value=qG,n.value=n.factory()),"object"==typeof n.value&&n.value&&function QG(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=H(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Dm(t){const e=Kl(t),n=null!==e?e.factory:Xi(t);if(null!==n)return n;if(t instanceof L)throw new S(204,!1);if(t instanceof Function)return function zG(t){const e=t.length;if(e>0)throw function vu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new S(204,!1);const n=function g$(t){const e=t&&(t[Ql]||t[t0]);if(e){const n=function m$(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new S(204,!1)}function rA(t,e,n){let r;if(is(t)){const i=H(t);return Xi(i)||Dm(i)}if(wm(t))r=()=>H(t.useValue);else if(function tA(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...vg(t.deps||[]));else if(function eA(t){return!(!t||!t.useExisting)}(t))r=()=>$(H(t.useExisting));else{const i=H(t&&(t.useClass||t.provide));if(!function KG(t){return!!t.deps}(t))return Xi(i)||Dm(i);r=()=>new i(...vg(t.deps))}return r}function To(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function bm(t,e){for(const n of t)Array.isArray(n)?bm(n,e):n&&gg(n)?bm(n.\u0275providers,e):e(n)}class ZG{}class iA{}class JG{resolveComponentFactory(e){throw function XG(t){const e=Error(`No component factory found for ${be(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let xu=(()=>{class t{}return t.NULL=new JG,t})();function eH(){return So(bt(),E())}function So(t,e){return new Sn(bn(t,e))}let Sn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=eH,t})();class oA{}let jr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function nH(){const t=E(),n=Cn(bt().index,t);return(Dn(n)?n:t)[11]}(),t})(),rH=(()=>{class t{}return t.\u0275prov=q({token:t,providedIn:"root",factory:()=>null}),t})();class Ao{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const aA=new Ao("15.1.1"),Cm={};function Sm(t){return t.ngOriginalError}class xo{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Sm(e);for(;n&&Sm(n);)n=Sm(n);return n||null}}function Gr(t){return t instanceof Function?t():t}function cA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const lA="ng-template";function pH(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==cA(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function dA(t){return 4===t.type&&t.value!==lA}function gH(t,e,n){return e===(4!==t.type||n?t.value:lA)}function mH(t,e,n){let r=4;const i=t.attrs||[],s=function vH(t){for(let e=0;e<t.length;e++)if(L0(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!gH(t,u,n)||""===u&&1===e.length){if(Xn(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!pH(t.attrs,c,n)){if(Xn(r))return!1;o=!0}continue}const d=yH(8&r?"class":u,i,dA(t),n);if(-1===d){if(Xn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==cA(f,c,0)||2&r&&c!==h){if(Xn(r))return!1;o=!0}}}}else{if(!o&&!Xn(r)&&!Xn(u))return!1;if(o&&Xn(u))continue;o=!1,r=u|1&r}}return Xn(r)||o}function Xn(t){return 0==(1&t)}function yH(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function wH(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function hA(t,e,n=!1){for(let r=0;r<e.length;r++)if(mH(t,e[r],n))return!0;return!1}function fA(t,e){return t?":not("+e.trim()+")":e}function EH(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Xn(o)&&(e+=fA(s,i),i=""),r=o,s=s||!Xn(r);n++}return""!==i&&(e+=fA(s,i)),e}const J={};function ko(t){pA(de(),E(),Zt()+t,!1)}function pA(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&ad(e,s,n)}else{const s=t.preOrderHooks;null!==s&&ud(e,s,0,n)}Ji(n)}function _A(t,e=null,n=null,r){const i=vA(t,e,n,r);return i.resolveInjectorInitializers(),i}function vA(t,e=null,n=null,r,i=new Set){const s=[n||ge,jG(t)];return r=r||("object"==typeof t?void 0:be(t)),new nA(s,e||Sd(),r||null,i)}let An=(()=>{class t{static create(n,r){if(Array.isArray(n))return _A({name:""},r,n,"");{const i=n.name??"";return _A({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=ou,t.NULL=new ZS,t.\u0275prov=q({token:t,providedIn:"any",factory:()=>$(QS)}),t.__NG_ELEMENT_ID__=-1,t})();function C(t,e=z.Default){const n=E();return null===n?$(t,e):z0(bt(),n,H(t),e)}function SA(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];kg(n[r]),o.contentQueries(2,e[s],s)}}}function xd(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==l||t&&1024&t[2])&&(d[2]|=1024),I0(d),d[3]=d[15]=t,d[8]=n,d[10]=o||t&&t[10],d[11]=a||t&&t[11],d[12]=u||t&&t[12]||null,d[9]=c||t&&t[9]||null,d[6]=s,d[20]=function Gj(){return jj++}(),d[21]=l,d[16]=2==e.type?t[16]:d,d}function No(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Rm(t,e,n,r,i){const s=T0(),o=Sg(),u=t.data[e]=function KH(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function W$(){return X.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function pu(){const t=X.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return dr(s,!0),s}function Mu(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Nm(t,e,n){Rg(e);try{const r=t.viewQuery;null!==r&&Gm(1,r,n);const i=t.template;null!==i&&AA(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&SA(t,e),t.staticViewQueries&&Gm(2,t.viewQuery,n);const s=t.components;null!==s&&function qH(t,e){for(let n=0;n<e.length;n++)fq(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Ng()}}function Md(t,e,n,r){const i=e[2];if(128!=(128&i)){Rg(e);try{I0(e),function A0(t){return X.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&AA(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&ad(e,c,null)}else{const c=t.preOrderHooks;null!==c&&ud(e,c,0,null),Og(e,0)}if(function dq(t){for(let e=tm(t);null!==e;e=nm(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r];512&i[2]||Tg(i[3],1),i[2]|=512}}}(e),function lq(t){for(let e=tm(t);null!==e;e=nm(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];sd(r)&&Md(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&SA(t,e),o){const c=t.contentCheckHooks;null!==c&&ad(e,c)}else{const c=t.contentHooks;null!==c&&ud(e,c,1),Og(e,1)}!function GH(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Ji(~i);else{const s=i,o=n[++r],a=n[++r];K$(o,s),a(2,e[s])}}}finally{Ji(-1)}}(t,e);const a=t.components;null!==a&&function HH(t,e){for(let n=0;n<e.length;n++)hq(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Gm(2,u,r),o){const c=t.viewCheckHooks;null!==c&&ad(e,c)}else{const c=t.viewHooks;null!==c&&ud(e,c,2),Og(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Tg(e[3],-1))}finally{Ng()}}}function AA(t,e,n,r,i){const s=Zt(),o=2&r;try{Ji(-1),o&&e.length>22&&pA(t,e,22,!1),n(r,i)}finally{Ji(s)}}function Om(t,e,n){if(bg(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function Pm(t,e,n){D0()&&(function eq(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;fu(n)&&function aq(t,e,n){const r=bn(e,t),i=xA(n),s=t[10],o=kd(t,xd(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||hd(n,e),Bt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=es(e,t,a,n);Bt(c,e),null!==o&&uq(0,a-i,c,u,0,o),Zn(u)&&(Cn(n.index,e)[8]=es(e,t,a,n))}}(t,e,n,bn(n,e)),64==(64&n.flags)&&PA(t,e,n))}function Fm(t,e,n=bn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function xA(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Lm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Lm(t,e,n,r,i,s,o,a,u,c){const l=22+r,d=l+i,h=function zH(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:J);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function kA(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?RA(n,e,i,s):r.hasOwnProperty(i)&&RA(n,e,r[i],s)}return n}function RA(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function NA(t,e){const n=Cn(e,t);16&n[2]||(n[2]|=32)}function Vm(t,e,n,r){let i=!1;if(D0()){const s=null===r?null:{"":-1},o=function nq(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(hA(e,o.selectors,!1))if(r||(r=[]),Zn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Um(t,e,a.length)}else r.unshift(o),Um(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let a,u;null===o?a=u=null:[a,u]=o,null!==a&&(i=!0,OA(t,e,n,a,s,u)),s&&function rq(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new S(-301,!1);r.push(e[i],s)}}}(n,r,s)}return n.mergedAttrs=mu(n.mergedAttrs,n.attrs),i}function OA(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Bg(hd(n,e),t,r[c].type);!function sq(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Mu(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=mu(n.mergedAttrs,l.hostAttrs),oq(t,n,e,u,l),iq(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function QH(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=kA(d.inputs,l,u,h?h.inputs:null),c=kA(d.outputs,l,c,p);const g=null===u||null===o||dA(e)?null:cq(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function PA(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function Q$(){return X.lFrame.currentDirectiveIndex}();try{Ji(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];xg(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&tq(u,c)}}finally{Ji(-1),xg(o)}}function tq(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Um(t,e,n){e.componentOffset=n,(t.components||(t.components=[])).push(e.index)}function iq(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Zn(e)&&(n[""]=t)}}function oq(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Xi(i.type)),o=new gu(s,Zn(i),C);t.blueprint[r]=o,n[r]=o,function XH(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function JH(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Mu(t,n,i.hostVars,J),i)}function fr(t,e,n,r,i,s){const o=bn(t,e);!function Bm(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?Z(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[11],o,s,t.value,n,r,i)}function uq(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function cq(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function FA(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null]}function hq(t,e){const n=Cn(e,t);if(sd(n)){const r=n[1];48&n[2]?Md(r,n,r.template,n[8]):n[5]>0&&$m(n)}}function $m(t){for(let r=tm(t);null!==r;r=nm(r))for(let i=10;i<r.length;i++){const s=r[i];if(sd(s))if(512&s[2]){const o=s[1];Md(o,s,o.template,s[8])}else s[5]>0&&$m(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Cn(n[r],t);sd(i)&&i[5]>0&&$m(i)}}function fq(t,e){const n=Cn(e,t),r=n[1];(function pq(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Nm(r,n,n[8])}function kd(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function jm(t){for(;t;){t[2]|=32;const e=bu(t);if(x$(t)&&!e)return t;t=e}return null}function Rd(t,e,n,r=!0){const i=e[10];i.begin&&i.begin();try{Md(t,e,t.template,n)}catch(o){throw r&&BA(e,o),o}finally{i.end&&i.end()}}function Gm(t,e,n){kg(0),e(t,n)}function LA(t){return t[7]||(t[7]=[])}function VA(t){return t.cleanup||(t.cleanup=[])}function BA(t,e){const n=t[9],r=n?n.get(xo,null):null;r&&r.handleError(e)}function Hm(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Nd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=fg(i,a):2==s&&(r=fg(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Od(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Dt(s)),Yn(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&Od(u[1],u,c,r)}const o=n.type;if(8&o)Od(t,e,n.child,r);else if(32&o){const a=em(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=kS(e,n);if(Array.isArray(a))r.push(...a);else{const u=bu(e[16]);Od(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class ku{get rootNodes(){const e=this._lView,n=e[1];return Od(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Yn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(sm(e,r),gd(n,r))}this._attachedToViewContainer=!1}ES(this._lView[1],this._lView)}onDestroy(e){!function MA(t,e,n,r){const i=LA(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&VA(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){jm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Rd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function iG(t,e){Cu(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}class gq extends ku{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Rd(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class $A extends xu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=_e(e);return new Ru(n,this.ngModule)}}function jA(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class yq{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Zl(r);const i=this.injector.get(e,Cm,r);return i!==Cm||n===Cm?i:this.parentInjector.get(e,n,r)}}class Ru extends iA{get inputs(){return jA(this.componentDef.inputs)}get outputs(){return jA(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function DH(t){return t.map(EH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof $r?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new yq(e,s):e,a=o.get(oA,null);if(null===a)throw new S(407,!1);const u=o.get(rH,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function WH(t,e,n){return t.selectRootElement(e,n===cr.ShadowDom)}(c,r,this.componentDef.encapsulation):im(c,l,function mq(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=Lm(0,null,null,1,0,null,null,null,null,null),p=xd(null,f,null,h,null,null,a,c,u,o,null);let g,y;Rg(p);try{const I=this.componentDef;let D,v=null;I.findHostDirectiveDefs?(D=[],v=new Map,I.findHostDirectiveDefs(I,D,v),D.push(I)):D=[I];const R=function vq(t,e){const n=t[1];return t[22]=e,No(n,22,2,"#host",null)}(p,d),V=function wq(t,e,n,r,i,s,o,a){const u=i[1];!function Iq(t,e,n,r){for(const i of t)e.mergedAttrs=mu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Nd(e,e.mergedAttrs,!0),null!==n&&OS(r,n,e))}(r,t,e,o);const c=s.createRenderer(e,n),l=xd(i,xA(n),null,n.onPush?32:16,i[t.index],t,s,c,a||null,null,null);return u.firstCreatePass&&Um(u,t,r.length-1),kd(i,l),i[t.index]=l}(R,d,I,D,p,a,c);y=w0(f,22),d&&function Dq(t,e,n,r){if(r)Fg(t,n,["ng-version",aA.full]);else{const{attrs:i,classes:s}=function bH(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Xn(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Fg(t,n,i),s&&s.length>0&&NS(t,n,s.join(" "))}}(c,I,d,r),void 0!==n&&function bq(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(y,this.ngContentSelectors,n),g=function Eq(t,e,n,r,i,s){const o=bt(),a=i[1],u=bn(o,i);OA(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Bt(es(i,a,o.directiveStart+l,o),i);PA(a,i,o),u&&Bt(u,i);const c=es(i,a,o.directiveStart+o.componentOffset,o);if(t[8]=i[8]=c,null!==s)for(const l of s)l(c,e);return Om(a,o,t),c}(V,I,D,v,p,[Cq]),Nm(f,p,null)}finally{Ng()}return new _q(this.componentType,g,So(y,p),p,y)}}class _q extends ZG{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new gq(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;Hm(s[1],s,i,e,n),NA(s,this._tNode.index)}}get injector(){return new _o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Cq(){const t=bt();od(E()[1],t)}function ve(t){let e=function GA(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Zn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=qm(t.inputs),o.declaredInputs=qm(t.declaredInputs),o.outputs=qm(t.outputs);const a=i.hostBindings;a&&xq(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&Sq(t,u),c&&Aq(t,c),hg(t.inputs,i.inputs),hg(t.declaredInputs,i.declaredInputs),hg(t.outputs,i.outputs),Zn(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===ve&&(n=!1)}}e=Object.getPrototypeOf(e)}!function Tq(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=mu(i.hostAttrs,n=mu(n,i.hostAttrs))}}(r)}function qm(t){return t===Pr?{}:t===ge?[]:t}function Sq(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function Aq(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function xq(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let Pd=null;function ss(){if(!Pd){const t=Te.Symbol;if(t&&t.iterator)Pd=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Pd=r)}}}return Pd}function Fd(t){return!!function zm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&ss()in t)}function $t(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function gr(t,e,n,r){const i=E();return $t(i,mo(),e)&&(de(),fr(Fe(),i,t,e,n,r)),gr}function Vd(t,e,n){const r=E();return $t(r,mo(),e)&&function xn(t,e,n,r,i,s,o,a){const u=bn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(Hm(t,n,l,r,i),fu(e)&&NA(n,e.index)):3&e.type&&(r=function YH(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(de(),Fe(),r,t,e,r[11],n,!1),Vd}function Wm(t,e,n,r,i){const o=i?"class":"style";Hm(t,n,e.inputs[o],o,r)}function We(t,e,n,r){const i=E(),s=de(),o=22+t,a=i[11],u=i[o]=im(a,e,function rj(){return X.lFrame.currentNamespace}()),c=s.firstCreatePass?function jq(t,e,n,r,i,s,o){const a=e.consts,c=No(e,t,2,i,yi(a,s));return Vm(e,n,c,yi(a,o)),null!==c.attrs&&Nd(c,c.attrs,!1),null!==c.mergedAttrs&&Nd(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];return dr(c,!0),OS(a,u,c),32!=(32&c.flags)&&wd(s,i,u,c),0===function $$(){return X.lFrame.elementDepthCount}()&&Bt(u,i),function j$(){X.lFrame.elementDepthCount++}(),rd(c)&&(Pm(s,i,c),Om(s,c,i)),null!==r&&Fm(i,c),We}function ke(){let t=bt();Sg()?function Ag(){X.lFrame.isParent=!1}():(t=t.parent,dr(t,!1));const e=t;!function G$(){X.lFrame.elementDepthCount--}();const n=de();return n.firstCreatePass&&(od(n,t),bg(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function aj(t){return 0!=(8&t.flags)}(e)&&Wm(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function uj(t){return 0!=(16&t.flags)}(e)&&Wm(n,e,E(),e.stylesWithoutHost,!1),ke}function mr(t,e,n,r){return We(t,e,n,r),ke(),mr}function Ou(t){return!!t&&"function"==typeof t.then}const Ym=function sx(t){return!!t&&"function"==typeof t.subscribe};function dn(t,e,n,r){const i=E(),s=de(),o=bt();return function ax(t,e,n,r,i,s,o){const a=rd(r),c=t.firstCreatePass&&VA(t),l=e[8],d=LA(e);let h=!0;if(3&r.type||o){const g=bn(r,e),y=o?o(g):g,I=d.length,D=o?R=>o(Dt(R[r.index])):r.index;let v=null;if(!o&&a&&(v=function Hq(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,h=!1;else{s=cx(r,e,l,s,!1);const R=n.listen(y,i,s);d.push(s,R),c&&c.push(i,D,I,I+1)}}else s=cx(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let y=0;y<g;y+=2){const V=e[p[y]][p[y+1]].subscribe(s),B=d.length;d.push(s,V),c&&c.push(i,r.index,B,-(B+1))}}}(s,i,i[11],o,t,e,r),dn}function ux(t,e,n,r){try{return!1!==n(r)}catch(i){return BA(t,i),!1}}function cx(t,e,n,r,i){return function s(o){if(o===Function)return r;jm(t.componentOffset>-1?Cn(t.index,e):e);let u=ux(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=ux(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function lx(t=1){return function Z$(t){return(X.lFrame.contextLView=function X$(t,e){for(;t>0;)e=e[15],t--;return e}(t,X.lFrame.contextLView))[8]}(t)}function Ud(t,e){return t<<17|e<<2}function vi(t){return t>>17&32767}function Xm(t){return 2|t}function as(t){return(131068&t)>>2}function Jm(t,e){return-131069&t|e<<2}function ey(t){return 1|t}function wx(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?vi(s):as(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];Jq(t[a],e)&&(u=!0,t[a+1]=r?ey(l):Xm(l)),a=r?vi(l):as(l)}u&&(t[n+1]=r?Xm(s):ey(s))}function Jq(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Do(t,e)>=0}function Bd(t,e){return function Jn(t,e,n,r){const i=E(),s=de(),o=function Ur(t){const e=X.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function xx(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Zt()],o=function Ax(t,e){return e>=t.expandoStartIndex}(t,n);(function Nx(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function uz(t,e,n,r){const i=function Mg(t){const e=X.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Pu(n=ty(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=ty(i,t,e,n,r),null===s){let u=function cz(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==as(r))return t[vi(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=ty(null,t,e,u[1],r),u=Pu(u,e.attrs,r),function lz(t,e,n,r){t[vi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function dz(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Pu(r,t[s].hostAttrs,n);return Pu(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function Zq(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=vi(o),u=as(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||Do(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=vi(t[a+1]);t[r+1]=Ud(h,a),0!==h&&(t[h+1]=Jm(t[h+1],r)),t[a+1]=function Qq(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Ud(a,0),0!==a&&(t[a+1]=Jm(t[a+1],r)),a=r;else t[r+1]=Ud(u,0),0===a?a=r:t[u+1]=Jm(t[u+1],r),u=r;c&&(t[r+1]=Xm(t[r+1])),wx(t,l,r,!0),wx(t,l,r,!1),function Xq(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Do(s,e)>=0&&(n[r+1]=ey(n[r+1]))}(e,l,t,r,s),o=Ud(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==J&&$t(i,o,e)&&function kx(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function Yq(t){return 1==(1&t)}(c)?Rx(u,e,n,i,as(c),o):void 0;$d(l)||($d(s)||function Kq(t){return 2==(2&t)}(c)&&(s=Rx(u,null,n,i,a,o)),function pG(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:cn.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=cn.Important),t.setStyle(n,r,i,s))}}(r,o,id(Zt(),n),i,s))}(s,s.data[Zt()],i,i[11],t,i[o+1]=function pz(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=be(_i(t)))),t}(e,n),r,o)}(t,e,null,!0),Bd}function ty(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Pu(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Pu(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Tn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Rx(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===J&&(h=d?ge:void 0);let f=d?Hg(h,r):l===r?h:void 0;if(c&&!$d(f)&&(f=Hg(u,r)),$d(f)&&(a=f,o))return a;const p=t[i+1];i=o?vi(p):as(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Hg(u,r))}return a}function $d(t){return void 0!==t}function jt(t,e=""){const n=E(),r=de(),i=t+22,s=r.firstCreatePass?No(r,i,1,e,null):r.data[i],o=n[i]=function rm(t,e){return t.createText(e)}(n[11],e);wd(r,n,o,s),dr(s,!1)}function Fu(t){return ny("",t,""),Fu}function ny(t,e,n){const r=E(),i=function Po(t,e,n,r){return $t(t,mo(),n)?e+Z(n)+r:J}(r,t,e,n);return i!==J&&function Hr(t,e,n){const r=id(e,t);!function wS(t,e,n){t.setValue(e,n)}(t[11],r,n)}(r,Zt(),i),ny}const qo="en-US";let tM=qo;function sy(t,e,n,r,i){if(t=H(t),Array.isArray(t))for(let s=0;s<t.length;s++)sy(t[s],e,n,r,i);else{const s=de(),o=E();let a=is(t)?t:H(t.provide),u=rA(t);const c=bt(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(is(t)||!t.multi){const f=new gu(u,i,C),p=ay(a,e,i?l:l+h,d);-1===p?(Bg(hd(c,o),s,a),oy(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=ay(a,e,l+h,d),p=ay(a,e,l,l+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){Bg(hd(c,o),s,a);const I=function RW(t,e,n,r,i){const s=new gu(t,n,C);return s.multi=[],s.index=e,s.componentProviders=0,TM(s,i,r&&!n),s}(i?kW:MW,n.length,i,r,u);!i&&y&&(n[p].providerFactory=I),oy(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(I),o.push(I)}else oy(s,t,f>-1?f:p,TM(n[i?p:f],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function oy(t,e,n,r){const i=is(e),s=function HG(t){return!!t.useClass}(e);if(i||s){const u=(s?H(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function TM(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ay(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function MW(t,e,n,r){return uy(this.multi,[])}function kW(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=es(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),uy(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],uy(i,s);return s}function uy(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Re(t,e=[]){return n=>{n.providersResolver=(r,i)=>function xW(t,e,n){const r=de();if(r.firstCreatePass){const i=Zn(t);sy(n,r.data,r.blueprint,i,!0),sy(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class zo{}class SM{}class AM extends zo{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $A(this);const r=En(e);this._bootstrapComponents=Gr(r.bootstrap),this._r3Injector=vA(e,n,[{provide:zo,useValue:this},{provide:xu,useValue:this.componentFactoryResolver}],be(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class cy extends SM{constructor(e){super(),this.moduleType=e}create(e){return new AM(this.moduleType,e)}}class OW extends zo{constructor(e,n,r){super(),this.componentFactoryResolver=new $A(this),this.instance=null;const i=new nA([...e,{provide:zo,useValue:this},{provide:xu,useValue:this.componentFactoryResolver}],n||Sd(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function zd(t,e,n=null){return new OW(t,e,n).injector}let PW=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=XS(0,n.type),i=r.length>0?zd([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=q({token:t,providedIn:"environment",factory:()=>new t($($r))}),t})();function xM(t){t.getStandaloneInjector=e=>e.get(PW).getOrCreateStandaloneInjector(t)}function dy(t){return e=>{setTimeout(t,void 0,e)}}const je=class a3 extends Nr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=dy(s),i&&(i=dy(i)),o&&(o=dy(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof wn&&e.add(a),a}};let qr=(()=>{class t{}return t.__NG_ELEMENT_ID__=d3,t})();const c3=qr,l3=class extends c3{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tViews,i=xd(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),Nm(r,i,e),new ku(i)}};function d3(){return function Wd(t,e){return 4&t.type?new l3(e,t,So(t,e)):null}(bt(),E())}let tr=(()=>{class t{}return t.__NG_ELEMENT_ID__=h3,t})();function h3(){return function GM(t,e){let n;const r=e[t.index];if(Yn(r))n=r;else{let i;if(8&t.type)i=Dt(r);else{const s=e[11];i=s.createComment("");const o=bn(t,e);ns(s,vd(s,o),i,function dG(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=FA(r,e,i,t),kd(e,n)}return new $M(n,t,e)}(bt(),E())}const f3=tr,$M=class extends f3{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return So(this._hostTNode,this._hostLView)}get injector(){return new _o(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ug(this._hostTNode,this._hostLView);if(B0(e)){const n=ld(e,this._hostLView),r=cd(e);return new _o(n[1].data[r+8],n)}return new _o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=jM(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function _u(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new Ru(_e(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get($r,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(function B$(t){return Yn(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new $M(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function oG(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],X0(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function aG(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=64}(i,r,o,s);const a=um(s,o),u=r[11],c=vd(u,o[7]);return null!==c&&function rG(t,e,n,r,i,s){r[0]=i,r[6]=e,Cu(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),X0(fy(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=jM(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=sm(this._lContainer,n);r&&(gd(fy(this._lContainer),n),ES(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=sm(this._lContainer,n);return r&&null!=gd(fy(this._lContainer),n)?new ku(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function jM(t){return t[8]}function fy(t){return t[8]||(t[8]=[])}function Qd(...t){}const Yd=new L("Application Initializer");let Zd=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Qd,this.reject=Qd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Ou(s))n.push(s);else if(Ym(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)($(Yd,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const qu=new L("AppId",{providedIn:"root",factory:function mk(){return`${Dy()}${Dy()}${Dy()}`}});function Dy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const yk=new L("Platform Initializer"),Xd=new L("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_k=new L("appBootstrapListener");let $3=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const zr=new L("LocaleId",{providedIn:"root",factory:()=>le(zr,z.Optional|z.SkipSelf)||function j3(){return typeof $localize<"u"&&$localize.locale||qo}()});class H3{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let vk=(()=>{class t{compileModuleSync(n){return new cy(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Gr(En(n).declarations).reduce((o,a)=>{const u=_e(a);return u&&o.push(new Ru(u)),o},[]);return new H3(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const W3=(()=>Promise.resolve(0))();function by(t){typeof Zone>"u"?W3.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Le{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new je(!1),this.onMicrotaskEmpty=new je(!1),this.onStable=new je(!1),this.onError=new je(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function K3(){let t=Te.requestAnimationFrame,e=Te.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Z3(t){const e=()=>{!function Y3(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Te,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ty(t),t.isCheckStableRunning=!0,Cy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ty(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Ek(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Dk(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return Ek(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Dk(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Ty(t),Cy(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Le.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(Le.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Q3,Qd,Qd);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const Q3={};function Cy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ty(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Ek(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Dk(t){t._nesting--,Cy(t)}class X3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new je,this.onMicrotaskEmpty=new je,this.onStable=new je,this.onError=new je}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const bk=new L(""),Jd=new L("");let xy,Sy=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,xy||(function J3(t){xy=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Le.assertNotInAngularZone(),by(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())by(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)($(Le),$(Ay),$(Jd))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),Ay=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return xy?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),wi=null;const Ck=new L("AllowMultipleToken"),My=new L("PlatformDestroyListeners");class Tk{constructor(e,n){this.name=e,this.token=n}}function Ak(t,e,n=[]){const r=`Platform: ${e}`,i=new L(r);return(s=[])=>{let o=ky();if(!o||o.injector.get(Ck,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function n4(t){if(wi&&!wi.get(Ck,!1))throw new S(400,!1);wi=t;const e=t.get(Mk);(function Sk(t){const e=t.get(yk,null);e&&e.forEach(n=>n())})(t)}(function xk(t=[],e){return An.create({name:e,providers:[{provide:Im,useValue:"platform"},{provide:My,useValue:new Set([()=>wi=null])},...t]})}(a,r))}return function i4(t){const e=ky();if(!e)throw new S(401,!1);return e}()}}function ky(){return wi?.get(Mk)??null}let Mk=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function Rk(t,e){let n;return n="noop"===t?new X3:("zone.js"===t?void 0:t)||new Le(e),n}(r?.ngZone,function kk(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Le,useValue:i}];return i.run(()=>{const o=An.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),u=a.injector.get(xo,null);if(!u)throw new S(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{th(this._modules,a),c.unsubscribe()})}),function Nk(t,e,n){try{const r=n();return Ou(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(Zd);return c.runInitializers(),c.donePromise.then(()=>(function nM(t){Fn(t,"Expected localeId to be defined"),"string"==typeof t&&(tM=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(zr,qo)||qo),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=Ok({},r);return function e4(t,e,n){const r=new cy(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(eh);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new S(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(My,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)($(An))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function Ok(t,e){return Array.isArray(e)?e.reduce(Ok,t):{...t,...e}}let eh=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Pe(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Pe(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Le.assertNotInAngularZone(),by(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Le.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function o$(...t){const e=su(t),n=function J2(t,e){return"number"==typeof lg(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Wn(r[0]):ao(n)(tt(r,e)):ur}(s,o.pipe(function a$(t={}){const{connector:e=(()=>new Nr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return mt((g,y)=>{c++,!d&&!l&&h();const I=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=dg(p,i))}),I.subscribe(y),!o&&c>0&&(o=new iu({next:D=>I.next(D),error:D=>{d=!0,h(),a=dg(f,n,D),I.error(D)},complete:()=>{l=!0,h(),a=dg(f,r),I.complete()}}),Wn(g).subscribe(o))})(s)}}()))}bootstrap(n,r){const i=n instanceof iA;if(!this._injector.get(Zd).done)throw!i&&function co(t){const e=_e(t)||Lt(t)||Kt(t);return null!==e&&e.standalone}(n),new S(405,false);let o;o=i?n:this._injector.get(xu).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function t4(t){return t.isBoundToModule}(o)?void 0:this._injector.get(zo),c=o.create(An.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(bk,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),th(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;th(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(_k,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>th(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new S(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)($(Le),$($r),$(xo))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function th(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let nh=(()=>{class t{}return t.__NG_ELEMENT_ID__=o4,t})();function o4(t){return function a4(t,e,n){if(fu(t)&&!n){const r=Cn(t.index,e);return new ku(r,r)}return 47&t.type?new ku(e[16],e):null}(bt(),E(),16==(16&t))}class Uk{constructor(){}supports(e){return Fd(e)}create(e){return new f4(e)}}const h4=(t,e)=>e;class f4{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||h4}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<$k(r,i,s)?n:r,a=$k(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Fd(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function Fq(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[ss()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new p4(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new Bk),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Bk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class p4{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class g4{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Bk{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new g4,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $k(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Gk(){return new sh([new Uk])}let sh=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Gk()),deps:[[t,new wu,new Xt]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new S(901,!1)}}return t.\u0275prov=q({token:t,providedIn:"root",factory:Gk}),t})();const w4=Ak(null,"core",[]);let I4=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)($(eh))},t.\u0275mod=Wt({type:t}),t.\u0275inj=Ft({}),t})();function Qo(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let Fy=null;function vr(){return Fy}class b4{}const hn=new L("DocumentToken");let Ly=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return function C4(){return $(qk)}()},providedIn:"platform"}),t})();const T4=new L("Location Initialized");let qk=(()=>{class t extends Ly{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vr().getBaseHref(this._doc)}onPopState(n){const r=vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){zk()?this._history.pushState(n,r,i):this._location.hash=i}replaceState(n,r,i){zk()?this._history.replaceState(n,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)($(hn))},t.\u0275prov=q({token:t,factory:function(){return function S4(){return new qk($(hn))}()},providedIn:"platform"}),t})();function zk(){return!!window.history.pushState}function Vy(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Wk(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Kr(t){return t&&"?"!==t[0]?"?"+t:t}let ls=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return le(Qk)},providedIn:"root"}),t})();const Kk=new L("appBaseHref");let Qk=(()=>{class t extends ls{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??le(hn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Vy(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Kr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Kr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Kr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(Ly),$(Kk,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),A4=(()=>{class t extends ls{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Vy(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Kr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Kr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(Ly),$(Kk,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),Uy=(()=>{class t{constructor(n){this._subject=new je,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function k4(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(Wk(Yk(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Kr(r))}normalize(n){return t.stripTrailingSlash(function M4(t,e){return t&&new RegExp(`^${t}([/;?#]|$)`).test(e)?e.substring(t.length):e}(this._basePath,Yk(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Kr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Kr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Kr,t.joinWithSlash=Vy,t.stripTrailingSlash=Wk,t.\u0275fac=function(n){return new(n||t)($(ls))},t.\u0275prov=q({token:t,factory:function(){return function x4(){return new Uy($(ls))}()},providedIn:"root"}),t})();function Yk(t){return t.replace(/\/index.html$/,"")}class y8{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let uR=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new y8(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),cR(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{cR(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(C(tr),C(qr),C(sh))},t.\u0275dir=K({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function cR(t,e){t.context.$implicit=e.item}let e_=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Ft({}),t})();let K8=(()=>{class t{}return t.\u0275prov=q({token:t,providedIn:"root",factory:()=>new Q8($(hn),window)}),t})();class Q8{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Y8(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=pR(this.window.history)||pR(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function pR(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class b6 extends b4{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class r_ extends b6{static makeCurrent(){!function D4(t){Fy||(Fy=t)}(new r_)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function C6(){return Yu=Yu||document.querySelector("base"),Yu?Yu.getAttribute("href"):null}();return null==n?null:function T6(t){mh=mh||document.createElement("a"),mh.setAttribute("href",t);const e=mh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Yu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function p8(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let mh,Yu=null;const wR=new L("TRANSITION_ID"),A6=[{provide:Yd,useFactory:function S6(t,e,n){return()=>{n.get(Zd).donePromise.then(()=>{const r=vr(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[wR,hn,An],multi:!0}];let M6=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const yh=new L("EventManagerPlugins");let _h=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)($(yh),$(Le))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class IR{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=vr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let ER=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),Zu=(()=>{class t extends ER{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(DR),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(DR))}}return t.\u0275fac=function(n){return new(n||t)($(hn))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();function DR(t){vr().remove(t)}const i_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},s_=/%COMP%/g;function o_(t,e){return e.flat(100).map(n=>n.replace(s_,t))}function TR(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let a_=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new u_(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case cr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new F6(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case cr.ShadowDom:return new L6(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=o_(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)($(_h),$(Zu),$(qu))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();class u_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(i_[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(AR(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(AR(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=i_[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=i_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(cn.DashCase|cn.Important)?e.style.setProperty(n,r,i&cn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&cn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,TR(r)):this.eventManager.addEventListener(e,n,TR(r))}}function AR(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class F6 extends u_{constructor(e,n,r,i){super(e),this.component=r;const s=o_(i+"-"+r.id,r.styles);n.addStyles(s),this.contentAttr=function N6(t){return"_ngcontent-%COMP%".replace(s_,t)}(i+"-"+r.id),this.hostAttr=function O6(t){return"_nghost-%COMP%".replace(s_,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class L6 extends u_{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=o_(i.id,i.styles);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let V6=(()=>{class t extends IR{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)($(hn))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const xR=["alt","control","meta","shift"],U6={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},B6={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let $6=(()=>{class t extends IR{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vr().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),xR.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=U6[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),xR.forEach(o=>{o!==i&&(0,B6[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)($(hn))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();const kR=[{provide:Xd,useValue:"browser"},{provide:yk,useValue:function j6(){r_.makeCurrent()},multi:!0},{provide:hn,useFactory:function H6(){return function vG(t){hm=t}(document),document},deps:[]}],q6=Ak(w4,"browser",kR),RR=new L(""),NR=[{provide:Jd,useClass:class x6{addToWindow(e){Te.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Te.getAllAngularTestabilities=()=>e.getAllTestabilities(),Te.getAllAngularRootElements=()=>e.getAllRootElements(),Te.frameworkStabilizers||(Te.frameworkStabilizers=[]),Te.frameworkStabilizers.push(r=>{const i=Te.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?vr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:bk,useClass:Sy,deps:[Le,Ay,Jd]},{provide:Sy,useClass:Sy,deps:[Le,Ay,Jd]}],OR=[{provide:Im,useValue:"root"},{provide:xo,useFactory:function G6(){return new xo},deps:[]},{provide:yh,useClass:V6,multi:!0,deps:[hn,Le,Xd]},{provide:yh,useClass:$6,multi:!0,deps:[hn]},{provide:a_,useClass:a_,deps:[_h,Zu,qu]},{provide:oA,useExisting:a_},{provide:ER,useExisting:Zu},{provide:Zu,useClass:Zu,deps:[hn]},{provide:_h,useClass:_h,deps:[yh,Le]},{provide:class Z8{},useClass:M6,deps:[]},[]];let z6=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:qu,useValue:n.appId},{provide:wR,useExisting:qu},A6]}}}return t.\u0275fac=function(n){return new(n||t)($(RR,12))},t.\u0275mod=Wt({type:t}),t.\u0275inj=Ft({providers:[...OR,...NR],imports:[e_,I4]}),t})(),PR=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)($(hn))},t.\u0275prov=q({token:t,factory:function(n){let r=null;return r=n?new n:function K6(){return new PR($(hn))}(),r},providedIn:"root"}),t})();function G(...t){return tt(t,su(t))}typeof window<"u"&&window;class sr extends Nr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const vh=ru(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:nK}=Array,{getPrototypeOf:rK,prototype:iK,keys:sK}=Object;function VR(t){if(1===t.length){const e=t[0];if(nK(e))return{args:e,keys:null};if(function oK(t){return t&&"object"==typeof t&&rK(t)===iK}(e)){const n=sK(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:aK}=Array;function UR(t){return se(e=>function uK(t,e){return aK(e)?t(...e):t(e)}(t,e))}function BR(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function $R(...t){const e=su(t),n=YT(t),{args:r,keys:i}=VR(t);if(0===r.length)return tt([],e);const s=new Pe(function cK(t,e,n=Qi){return r=>{jR(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)jR(e,()=>{const c=tt(t[u],e);let l=!1;c.subscribe(at(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>BR(i,o):Qi));return n?s.pipe(UR(n)):s}function jR(t,e,n){t?Or(n,t,e):e()}function d_(...t){return function lK(){return ao(1)}()(tt(t,su(t)))}function GR(t){return new Pe(e=>{Wn(t()).subscribe(e)})}function Xu(t,e){const n=De(t)?t:()=>t,r=i=>i.error(n());return new Pe(e?i=>e.schedule(r,0,i):r)}function h_(){return mt((t,e)=>{let n=null;t._refCount++;const r=at(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class HR extends Pe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,PT(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new wn;const n=this.getSubject();e.add(this.source.subscribe(at(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=wn.EMPTY)}return e}refCount(){return h_()(this)}}function wr(t,e){return mt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(at(r,u=>{i?.unsubscribe();let c=0;const l=s++;Wn(t(u,l)).subscribe(i=at(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Ju(t){return t<=0?()=>ur:mt((e,n)=>{let r=0;e.subscribe(at(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ei(t,e){return mt((n,r)=>{let i=0;n.subscribe(at(r,s=>t.call(e,s,i++)&&r.next(s)))})}function wh(t){return mt((e,n)=>{let r=!1;e.subscribe(at(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function qR(t=hK){return mt((e,n)=>{let r=!1;e.subscribe(at(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function hK(){return new vh}function Di(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ei((i,s)=>t(i,s,r)):Qi,Ju(1),n?wh(e):qR(()=>new vh))}function ds(t,e){return De(e)?Et(t,e,1):Et(t,1)}function Tt(t,e,n){const r=De(t)||e||n?{next:t,error:e,complete:n}:t;return r?mt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(at(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Qi}function bi(t){return mt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(at(n,void 0,void 0,o=>{s=Wn(t(o,bi(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function fK(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(at(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function zR(t,e){return mt(fK(t,e,arguments.length>=2,!0))}function f_(t){return t<=0?()=>ur:mt((e,n)=>{let r=[];e.subscribe(at(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function WR(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ei((i,s)=>t(i,s,r)):Qi,f_(1),n?wh(e):qR(()=>new vh))}function p_(t){return mt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ie="primary",ec=Symbol("RouteTitle");class mK{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Yo(t){return new mK(t)}function yK(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ir(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!KR(t[i],e[i]))return!1;return!0}function KR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function QR(t){return Array.prototype.concat.apply([],t)}function YR(t){return t.length>0?t[t.length-1]:null}function St(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ci(t){return Ym(t)?t:Ou(t)?tt(Promise.resolve(t)):G(t)}const Ih=!1,vK={exact:function JR(t,e,n){if(!fs(t.segments,e.segments)||!Eh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!JR(t.children[r],e.children[r],n))return!1;return!0},subset:eN},ZR={exact:function wK(t,e){return Ir(t,e)},subset:function IK(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>KR(t[n],e[n]))},ignored:()=>!0};function XR(t,e,n){return vK[n.paths](t.root,e.root,n.matrixParams)&&ZR[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function eN(t,e,n){return tN(t,e,e.segments,n)}function tN(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!fs(i,n)||e.hasChildren()||!Eh(i,n,r))}if(t.segments.length===n.length){if(!fs(t.segments,n)||!Eh(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!eN(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(fs(t.segments,i)&&Eh(t.segments,i,r)&&t.children[ie])&&tN(t.children[ie],e,s,r)}}function Eh(t,e,n){return e.every((r,i)=>ZR[n](t[i].parameters,r.parameters))}class hs{constructor(e=new oe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yo(this.queryParams)),this._queryParamMap}toString(){return bK.serialize(this)}}class oe{constructor(e,n){this.segments=e,this.children=n,this.parent=null,St(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dh(this)}}class tc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Yo(this.parameters)),this._parameterMap}toString(){return iN(this)}}function fs(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let nc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return new g_},providedIn:"root"}),t})();class g_{parse(e){const n=new NK(e);return new hs(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${rc(e.root,!0)}`,r=function SK(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${bh(n)}=${bh(i)}`).join("&"):`${bh(n)}=${bh(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function CK(t){return encodeURI(t)}(e.fragment)}`:""}`}}const bK=new g_;function Dh(t){return t.segments.map(e=>iN(e)).join("/")}function rc(t,e){if(!t.hasChildren())return Dh(t);if(e){const n=t.children[ie]?rc(t.children[ie],!1):"",r=[];return St(t.children,(i,s)=>{s!==ie&&r.push(`${s}:${rc(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function DK(t,e){let n=[];return St(t.children,(r,i)=>{i===ie&&(n=n.concat(e(r,i)))}),St(t.children,(r,i)=>{i!==ie&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===ie?[rc(t.children[ie],!1)]:[`${i}:${rc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ie]?`${Dh(t)}/${n[0]}`:`${Dh(t)}/(${n.join("//")})`}}function nN(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bh(t){return nN(t).replace(/%3B/gi,";")}function m_(t){return nN(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ch(t){return decodeURIComponent(t)}function rN(t){return Ch(t.replace(/\+/g,"%20"))}function iN(t){return`${m_(t.path)}${function TK(t){return Object.keys(t).map(e=>`;${m_(e)}=${m_(t[e])}`).join("")}(t.parameters)}`}const AK=/^[^\/()?;=#]+/;function Th(t){const e=t.match(AK);return e?e[0]:""}const xK=/^[^=?&#]+/,kK=/^[^&#]+/;class NK{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new oe([],{}):new oe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ie]=new oe(e,n)),r}parseSegment(){const e=Th(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new S(4009,Ih);return this.capture(e),new tc(Ch(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Th(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Th(this.remaining);i&&(r=i,this.capture(r))}e[Ch(n)]=Ch(r)}parseQueryParam(e){const n=function MK(t){const e=t.match(xK);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function RK(t){const e=t.match(kK);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=rN(n),s=rN(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Th(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new S(4010,Ih);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ie);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ie]:new oe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new S(4011,Ih)}}function y_(t){return t.segments.length>0?new oe([],{[ie]:t}):t}function Sh(t){const e={};for(const r of Object.keys(t.children)){const s=Sh(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function OK(t){if(1===t.numberOfChildren&&t.children[ie]){const e=t.children[ie];return new oe(t.segments.concat(e.segments),e.children)}return t}(new oe(t.segments,e))}function ps(t){return t instanceof hs}function LK(t,e,n,r,i){if(0===n.length)return Zo(e.root,e.root,e.root,r,i);const s=function aN(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new oN(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return St(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new oN(n,e,r)}(n);return s.toRoot()?Zo(e.root,e.root,new oe([],{}),r,i):function o(u){const c=function UK(t,e,n,r){if(t.isAbsolute)return new Xo(e.root,!0,0);if(-1===r)return new Xo(n,n===e.root,0);return function uN(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new Xo(r,!1,i-s)}(n,r+(ic(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,u),l=c.processChildren?oc(c.segmentGroup,c.index,s.commands):v_(c.segmentGroup,c.index,s.commands);return Zo(e.root,c.segmentGroup,l,r,i)}(t.snapshot?._lastPathIndex)}function ic(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function sc(t){return"object"==typeof t&&null!=t&&t.outlets}function Zo(t,e,n,r,i){let o,s={};r&&St(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:sN(t,e,n);const a=y_(Sh(o));return new hs(a,s,i)}function sN(t,e,n){const r={};return St(t.children,(i,s)=>{r[s]=i===e?n:sN(i,e,n)}),new oe(t.segments,r)}class oN{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ic(r[0]))throw new S(4003,!1);const i=r.find(sc);if(i&&i!==YR(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xo{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function v_(t,e,n){if(t||(t=new oe([],{})),0===t.segments.length&&t.hasChildren())return oc(t,e,n);const r=function $K(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(sc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!lN(u,c,o))return s;r+=2}else{if(!lN(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new oe(t.segments.slice(0,r.pathIndex),{});return s.children[ie]=new oe(t.segments.slice(r.pathIndex),t.children),oc(s,0,i)}return r.match&&0===i.length?new oe(t.segments,{}):r.match&&!t.hasChildren()?w_(t,e,n):r.match?oc(t,0,i):w_(t,e,n)}function oc(t,e,n){if(0===n.length)return new oe(t.segments,{});{const r=function BK(t){return sc(t[0])?t[0].outlets:{[ie]:t}}(n),i={};return St(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=v_(t.children[o],e,s))}),St(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new oe(t.segments,i)}}function w_(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(sc(s)){const u=jK(s.outlets);return new oe(r,u)}if(0===i&&ic(n[0])){r.push(new tc(t.segments[e].path,cN(n[0]))),i++;continue}const o=sc(s)?s.outlets[ie]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&ic(a)?(r.push(new tc(o,cN(a))),i+=2):(r.push(new tc(o,{})),i++)}return new oe(r,{})}function jK(t){const e={};return St(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=w_(new oe([],{}),0,n))}),e}function cN(t){const e={};return St(t,(n,r)=>e[r]=`${n}`),e}function lN(t,e,n){return t==n.path&&Ir(e,n.parameters)}const ac="imperative";class Er{constructor(e,n){this.id=e,this.url=n}}class I_ extends Er{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gs extends Er{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ah extends Er{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dN extends Er{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class hN extends Er{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class GK extends Er{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HK extends Er{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qK extends Er{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zK extends Er{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WK extends Er{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KK{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class QK{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class YK{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZK{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XK{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JK{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fN{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let t5=(()=>{class t{createUrlTree(n,r,i,s,o,a){return LK(n||r.root,i,s,o,a)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),n5=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(e){return t5.\u0275fac(e)},providedIn:"root"}),t})();class pN{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=E_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=E_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=D_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return D_(e,this._root).map(n=>n.value)}}function E_(t,e){if(t===e.value)return e;for(const n of e.children){const r=E_(t,n);if(r)return r}return null}function D_(t,e){if(t===e.value)return[e];for(const n of e.children){const r=D_(t,n);if(r.length)return r.unshift(e),r}return[]}class Yr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Jo(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class gN extends pN{constructor(e,n){super(e),this.snapshot=n,b_(this,e)}toString(){return this.snapshot.toString()}}function mN(t,e){const n=function r5(t,e){const o=new xh([],{},{},"",{},ie,e,null,t.root,-1,{});return new _N("",new Yr(o,[]))}(t,e),r=new sr([new tc("",{})]),i=new sr({}),s=new sr({}),o=new sr({}),a=new sr(""),u=new ea(r,i,o,a,s,ie,e,n.root);return u.snapshot=n.root,new gN(new Yr(u,[]),n)}class ea{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(se(c=>c[ec]))??G(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(se(e=>Yo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(se(e=>Yo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yN(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function i5(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class xh{get title(){return this.data?.[ec]}constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Yo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _N extends pN{constructor(e,n){super(n),this.url=e,b_(this,n)}toString(){return vN(this._root)}}function b_(t,e){e.value._routerState=t,e.children.forEach(n=>b_(t,n))}function vN(t){const e=t.children.length>0?` { ${t.children.map(vN).join(", ")} } `:"";return`${t.value}${e}`}function C_(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ir(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ir(e.params,n.params)||t.params.next(n.params),function _K(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ir(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ir(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function T_(t,e){const n=Ir(t.params,e.params)&&function EK(t,e){return fs(t,e)&&t.every((n,r)=>Ir(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||T_(t.parent,e.parent))}function uc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function o5(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return uc(t,r,i);return uc(t,r)})}(t,e,n);return new Yr(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>uc(t,a)),o}}const r=function a5(t){return new ea(new sr(t.url),new sr(t.params),new sr(t.queryParams),new sr(t.fragment),new sr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>uc(t,s));return new Yr(r,i)}}const S_="ngNavigationCancelingError";function wN(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=ps(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=IN(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function IN(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[S_]=!0,r.cancellationCode=e,n&&(r.url=n),r}function EN(t){return DN(t)&&ps(t.url)}function DN(t){return t&&t[S_]}class u5{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new cc,this.attachRef=null}}let cc=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new u5,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Mh=!1;let A_=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ie,this.activateEvents=new je,this.deactivateEvents=new je,this.attachEvents=new je,this.detachEvents=new je,this.parentContexts=le(cc),this.location=le(tr),this.changeDetector=le(nh),this.environmentInjector=le($r)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,Mh);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,Mh);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,Mh);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new S(4013,Mh);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new c5(n,a,i.injector);if(r&&function l5(t){return!!t.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=K({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Vn]}),t})();class c5{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ea?this.route:e===cc?this.childContexts:this.parent.get(e,n)}}let x_=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=mi({type:t,selectors:[["ng-component"]],standalone:!0,features:[xM],decls:1,vars:0,template:function(n,r){1&n&&mr(0,"router-outlet")},dependencies:[A_],encapsulation:2}),t})();function bN(t,e){return t.providers&&!t._injector&&(t._injector=zd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function k_(t){const e=t.children&&t.children.map(k_),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ie&&(n.component=x_),n}function Hn(t){return t.outlet||ie}function CN(t,e){const n=t.filter(r=>Hn(r)===e);return n.push(...t.filter(r=>Hn(r)!==e)),n}function lc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class g5{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),C_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Jo(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),St(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Jo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Jo(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=Jo(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new JK(s.value.snapshot))}),e.children.length&&this.forwardEvent(new ZK(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(C_(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),C_(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=lc(i.snapshot),u=a?.get(xu)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class TN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class kh{constructor(e,n){this.component=e,this.route=n}}function m5(t,e,n){const r=t._root;return dc(r,e?e._root:null,n,[r.value])}function ta(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function p$(t){return null!==Kl(t)}(t)?e.get(t):t:r}function dc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Jo(e);return t.children.forEach(o=>{(function _5(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function v5(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!fs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!fs(t.url,e.url)||!Ir(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!T_(t,e)||!Ir(t.queryParams,e.queryParams);default:return!T_(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new TN(r)):(s.data=o.data,s._resolvedData=o._resolvedData),dc(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new kh(a.outlet.component,o))}else o&&hc(e,a,i),i.canActivateChecks.push(new TN(r)),dc(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),St(s,(o,a)=>hc(o,n.getContext(a),i)),i}function hc(t,e,n){const r=Jo(t),i=t.value;St(r,(s,o)=>{hc(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new kh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function fc(t){return"function"==typeof t}function R_(t){return t instanceof vh||"EmptyError"===t?.name}const Rh=Symbol("INITIAL_VALUE");function na(){return wr(t=>$R(t.map(e=>e.pipe(Ju(1),function dK(...t){const e=su(t);return mt((n,r)=>{(e?d_(t,n,e):d_(t,n)).subscribe(r)})}(Rh)))).pipe(se(e=>{for(const n of e)if(!0!==n){if(n===Rh)return Rh;if(!1===n||n instanceof hs)return n}return!0}),Ei(e=>e!==Rh),Ju(1)))}function SN(t){return function N2(...t){return RT(t)}(Tt(e=>{if(ps(e))throw wN(0,e)}),se(e=>!0===e))}const N_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function AN(t,e,n,r,i){const s=O_(t,e,n);return s.matched?function F5(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?G(i.map(o=>{const a=ta(o,t);return Ci(function C5(t){return t&&fc(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(na(),SN()):G(!0)}(r=bN(e,r),e,n).pipe(se(o=>!0===o?s:{...N_})):G(s)}function O_(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...N_}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||yK)(n,t,e);if(!i)return{...N_};const s={};St(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Nh(t,e,n,r){if(n.length>0&&function U5(t,e,n){return n.some(r=>Oh(t,e,r)&&Hn(r)!==ie)}(t,n,r)){const s=new oe(e,function V5(t,e,n,r){const i={};i[ie]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Hn(s)!==ie){const o=new oe([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[Hn(s)]=o}return i}(t,e,r,new oe(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function B5(t,e,n){return n.some(r=>Oh(t,e,r))}(t,n,r)){const s=new oe(t.segments,function L5(t,e,n,r,i){const s={};for(const o of r)if(Oh(t,n,o)&&!i[Hn(o)]){const a=new oe([],{});a._sourceSegment=t,a._segmentIndexShift=e.length,s[Hn(o)]=a}return{...i,...s}}(t,e,n,r,t.children));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const i=new oe(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function Oh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function xN(t,e,n,r){return!!(Hn(t)===r||r!==ie&&Oh(e,n,t))&&("**"===t.path||O_(e,t,n).matched)}function MN(t,e,n){return 0===e.length&&!t.children[n]}const Ph=!1;class Fh{constructor(e){this.segmentGroup=e||null}}class kN{constructor(e){this.urlTree=e}}function pc(t){return Xu(new Fh(t))}function RN(t){return Xu(new kN(t))}class H5{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Nh(this.urlTree.root,[],[],this.config).segmentGroup,n=new oe(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,ie).pipe(se(s=>this.createUrlTree(Sh(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(bi(s=>{if(s instanceof kN)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Fh?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ie).pipe(se(i=>this.createUrlTree(Sh(i),e.queryParams,e.fragment))).pipe(bi(i=>{throw i instanceof Fh?this.noMatchError(i):i}))}noMatchError(e){return new S(4002,Ph)}createUrlTree(e,n,r){const i=y_(e);return new hs(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(se(s=>new oe([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return tt(i).pipe(ds(s=>{const o=r.children[s],a=CN(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(se(u=>({segment:u,outlet:s})))}),zR((s,o)=>(s[o.outlet]=o.segment,s),{}),WR())}expandSegment(e,n,r,i,s,o){return tt(r).pipe(ds(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(bi(c=>{if(c instanceof Fh)return G(null);throw c}))),Di(a=>!!a),bi((a,u)=>{if(R_(a))return MN(n,i,s)?G(new oe([],{})):pc(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return xN(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):pc(n):pc(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?RN(s):this.lineralizeSegments(r,s).pipe(Et(o=>{const a=new oe(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=O_(n,i,s);if(!a)return pc(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?RN(d):this.lineralizeSegments(i,d).pipe(Et(h=>this.expandSegment(e,n,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=bN(r,e),r.loadChildren?(r._loadedRoutes?G({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(se(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new oe(i,{})))):G(new oe(i,{}))):AN(n,r,i,e).pipe(wr(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Et(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=Nh(n,a,u,h),g=new oe(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(se(v=>new oe(a,v)));if(0===h.length&&0===p.length)return G(new oe(a,{}));const y=Hn(r)===s;return this.expandSegment(d,g,h,p,y?ie:s,!0).pipe(se(D=>new oe(a.concat(D.segments),D.children)))})):pc(n)))}getChildConfig(e,n,r){return n.children?G({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?G({routes:n._loadedRoutes,injector:n._loadedInjector}):function P5(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?G(!0):G(i.map(o=>{const a=ta(o,t);return Ci(function I5(t){return t&&fc(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(na(),SN())}(e,n,r).pipe(Et(i=>i?this.configLoader.loadChildren(e,n).pipe(Tt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function j5(t){return Xu(IN(Ph,3))}())):G({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return G(r);if(i.numberOfChildren>1||!i.children[ie])return Xu(new S(4e3,Ph));i=i.children[ie]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new hs(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return St(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return St(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new oe(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new S(4001,Ph);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class z5{}class Q5{constructor(e,n,r,i,s,o,a){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=Nh(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ie).pipe(se(n=>{if(null===n)return null;const r=new xh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ie,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Yr(r,n),s=new _N(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=yN(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return tt(Object.keys(r.children)).pipe(ds(i=>{const s=r.children[i],o=CN(n,i);return this.processSegmentGroup(e,o,s,i)}),zR((i,s)=>i&&s?(i.push(...s),i):null),function pK(t,e=!1){return mt((n,r)=>{let i=0;n.subscribe(at(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),wh(null),WR(),se(i=>{if(null===i)return null;const s=ON(i);return function Y5(t){t.sort((e,n)=>e.value.outlet===ie?-1:n.value.outlet===ie?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return tt(n).pipe(ds(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),Di(o=>!!o),bi(o=>{if(R_(o))return MN(r,i,s)?G([]):G(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!xN(n,r,i,s))return G(null);let o;if("**"===n.path){const a=i.length>0?YR(i).parameters:{},u=FN(r)+i.length;o=G({snapshot:new xh(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,LN(n),Hn(n),n.component??n._loadedComponent??null,n,PN(r),u,VN(n)),consumedSegments:[],remainingSegments:[]})}else o=AN(r,n,i,e).pipe(se(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=FN(r)+u.length;return{snapshot:new xh(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,LN(n),Hn(n),n.component??n._loadedComponent??null,n,PN(r),d,VN(n)),consumedSegments:u,remainingSegments:c}}));return o.pipe(wr(a=>{if(null===a)return G(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function Z5(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=Nh(r,c,l,h.filter(y=>void 0===y.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(se(y=>null===y?null:[new Yr(u,y)]));if(0===h.length&&0===p.length)return G([new Yr(u,[])]);const g=Hn(n)===s;return this.processSegment(d,h,f,p,g?ie:s).pipe(se(y=>null===y?null:[new Yr(u,y)]))}))}}function X5(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ON(t){const e=[],n=new Set;for(const r of t){if(!X5(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=ON(r.children);e.push(new Yr(r.value,i))}return e.filter(r=>!n.has(r))}function PN(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function FN(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function LN(t){return t.data||{}}function VN(t){return t.resolve||{}}function UN(t){return"string"==typeof t.title||null===t.title}function P_(t){return wr(e=>{const n=t(e);return n?tt(n).pipe(se(()=>e)):G(e)})}const ra=new L("ROUTES");let F_=(()=>{class t{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return G(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Ci(n.loadComponent()).pipe(se($N),Tt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),p_(()=>{this.componentLoaders.delete(n)})),i=new HR(r,()=>new Nr).pipe(h_());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(se(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(n).injector,c=QR(u.get(ra,[],z.Self|z.Optional)));return{routes:c.map(k_),injector:u}}),p_(()=>{this.childrenLoaders.delete(r)})),o=new HR(s,()=>new Nr).pipe(h_());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return Ci(n()).pipe(se($N),Et(i=>i instanceof SM||Array.isArray(i)?G(i):tt(this.compiler.compileModuleAsync(i))))}}return t.\u0275fac=function(n){return new(n||t)($(An),$(vk))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function $N(t){return function a7(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Vh=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Nr,this.configLoader=le(F_),this.environmentInjector=le($r),this.urlSerializer=le(nc),this.rootContexts=le(cc),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new QK(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new KK(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new sr({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ac,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ei(r=>0!==r.id),se(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),wr(r=>{let i=!1,s=!1;return G(r).pipe(Tt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),wr(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new dN(o.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),ur}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return jN(o.source)&&(n.browserUrlTree=o.extractedUrl),G(o).pipe(wr(l=>{const d=this.transitions?.getValue();return this.events.next(new I_(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?ur:Promise.resolve(l)}),function q5(t,e,n,r){return wr(i=>function G5(t,e,n,r,i){return new H5(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(se(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),Tt(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function e7(t,e,n,r,i){return Et(s=>function K5(t,e,n,r,i,s,o="emptyOnly"){return new Q5(t,e,n,r,i,o,s).recognize().pipe(wr(a=>null===a?function W5(t){return new Pe(e=>e.error(t))}(new z5):G(a)))}(t,e,n,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(se(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Tt(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new GK(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new I_(l,this.urlSerializer.serialize(d),h,f);this.events.next(g);const y=mN(d,this.rootComponentType).snapshot;return G(r={...o,targetSnapshot:y,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new dN(o.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),ur}}),Tt(o=>{const a=new HK(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),se(o=>r={...o,guards:m5(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function S5(t,e){return Et(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?G({...n,guardsResult:!0}):function A5(t,e,n,r){return tt(t).pipe(Et(i=>function O5(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?G(s.map(a=>{const u=lc(e)??i,c=ta(a,u);return Ci(function b5(t){return t&&fc(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Di())})).pipe(na()):G(!0)}(i.component,i.route,n,e,r)),Di(i=>!0!==i,!0))}(o,r,i,t).pipe(Et(a=>a&&function w5(t){return"boolean"==typeof t}(a)?function x5(t,e,n,r){return tt(e).pipe(ds(i=>d_(function k5(t,e){return null!==t&&e&&e(new YK(t)),G(!0)}(i.route.parent,r),function M5(t,e){return null!==t&&e&&e(new XK(t)),G(!0)}(i.route,r),function N5(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function y5(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>GR(()=>G(o.guards.map(u=>{const c=lc(o.node)??n,l=ta(u,c);return Ci(function D5(t){return t&&fc(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Di())})).pipe(na())));return G(s).pipe(na())}(t,i.path,n),function R5(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return G(!0);const i=r.map(s=>GR(()=>{const o=lc(e)??n,a=ta(s,o);return Ci(function E5(t){return t&&fc(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Di())}));return G(i).pipe(na())}(t,i.route,n))),Di(i=>!0!==i,!0))}(r,s,t,e):G(a)),se(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Tt(o=>{if(r.guardsResult=o.guardsResult,ps(o.guardsResult))throw wN(0,o.guardsResult);const a=new qK(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Ei(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),P_(o=>{if(o.guards.canActivateChecks.length)return G(o).pipe(Tt(a=>{const u=new zK(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),wr(a=>{let u=!1;return G(a).pipe(function t7(t,e){return Et(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return G(n);let s=0;return tt(i).pipe(ds(o=>function n7(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!UN(i)&&(s[ec]=i.title),function r7(t,e,n,r){const i=function i7(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return G({});const s={};return tt(i).pipe(Et(o=>function s7(t,e,n,r){const i=lc(e)??r,s=ta(t,i);return Ci(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Di(),Tt(a=>{s[o]=a}))),f_(1),function gK(t){return se(()=>t)}(s),bi(o=>R_(o)?ur:Xu(o)))}(s,t,e,r).pipe(se(o=>(t._resolvedData=o,t.data=yN(t,n).resolve,i&&UN(i)&&(t.data[ec]=i.title),null)))}(o.route,r,t,e)),Tt(()=>s++),f_(1),Et(o=>s===i.length?G(n):ur))})}(n.paramsInheritanceStrategy,this.environmentInjector),Tt({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Tt(a=>{const u=new WK(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),P_(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Tt(l=>{u.component=l}),se(()=>{})));for(const l of u.children)c.push(...a(l));return c};return $R(a(o.targetSnapshot.root)).pipe(wh(),Ju(1))}),P_(()=>this.afterPreactivation()),se(o=>{const a=function s5(t,e,n){const r=uc(t,e._root,n?n._root:void 0);return new gN(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Tt(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n)=>se(r=>(new g5(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o)),Tt({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new gs(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),p_(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),bi(o=>{if(s=!0,DN(o)){EN(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new Ah(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),EN(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||jN(r.source)};n.scheduleNavigation(u,ac,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new hN(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return ur}))}))}cancelNavigationTransition(n,r,i){const s=new Ah(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function jN(t){return t!==ac}let GN=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ie);return r}getResolvedTitleForRoute(n){return n.data[ec]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return le(u7)},providedIn:"root"}),t})(),u7=(()=>{class t extends GN{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)($(PR))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),c7=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return le(d7)},providedIn:"root"}),t})();class l7{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let d7=(()=>{class t extends l7{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(t)))(r||t)}}(),t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Uh=new L("",{providedIn:"root",factory:()=>({})});let f7=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:function(){return le(p7)},providedIn:"root"}),t})(),p7=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function g7(t){throw t}function m7(t,e,n){return e.parse("/")}const y7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Mn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=le($3),this.isNgZoneEnabled=!1,this.options=le(Uh,{optional:!0})||{},this.errorHandler=this.options.errorHandler||g7,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||m7,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=le(f7),this.routeReuseStrategy=le(c7),this.urlCreationStrategy=le(n5),this.titleStrategy=le(GN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=QR(le(ra,{optional:!0})??[]),this.navigationTransitions=le(Vh),this.urlSerializer=le(nc),this.location=le(Uy),this.isNgZoneEnabled=le(Le)instanceof Le&&Le.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new hs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=mN(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ac,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(k_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ps(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,ac,null,r)}navigate(n,r={skipLocationChange:!1}){return function v7(t){for(let e=0;e<t.length;e++){if(null==t[e])throw new S(4008,!1)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...y7}:!1===r?{..._7}:r,ps(n))return XR(this.currentUrlTree,n,i);const s=this.parseUrl(n);return XR(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c,l;return o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h}),l="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Bh=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Nr;const u=o.nativeElement.tagName;this.isAnchorElement="A"===u||"AREA"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof gs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(n){this._preserveFragment=Qo(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=Qo(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=Qo(n)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function KS(t,e,n){return function $G(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?WS:zS}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(n){return new(n||t)(C(Mn),C(ea),function pd(t){return function hj(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(L0(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(bt(),t)}("tabindex"),C(jr),C(Sn),C(ls))},t.\u0275dir=K({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&dn("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&gr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Vn]}),t})();class qN{}let E7=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ei(n=>n instanceof gs),ds(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=zd(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return tt(i).pipe(ao())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):G(null);const s=i.pipe(Et(o=>null===o?G(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?tt([s,this.loader.loadComponent(r)]).pipe(ao()):s})}}return t.\u0275fac=function(n){return new(n||t)($(Mn),$(vk),$($r),$(qN),$(F_))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const L_=new L("");let zN=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof I_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof gs&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof fN&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new fN(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function TA(){throw new Error("invalid")}()},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();function ms(t,e){return{\u0275kind:t,\u0275providers:e}}function KN(){const t=le(An);return e=>{const n=t.get(eh);if(e!==n.components[0])return;const r=t.get(Mn),i=t.get(QN);1===t.get(U_)&&r.initialNavigation(),t.get(YN,null,z.Optional)?.setUpPreloading(),t.get(L_,null,z.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const QN=new L("",{factory:()=>new Nr}),U_=new L("",{providedIn:"root",factory:()=>1});const YN=new L("");function S7(t){return ms(0,[{provide:YN,useExisting:E7},{provide:qN,useExisting:t}])}const ZN=new L("ROUTER_FORROOT_GUARD"),A7=[Uy,{provide:nc,useClass:g_},Mn,cc,{provide:ea,useFactory:function WN(t){return t.routerState.root},deps:[Mn]},F_,[]];function x7(){return new Tk("Router",Mn)}let XN=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[A7,[],{provide:ra,multi:!0,useValue:n},{provide:ZN,useFactory:N7,deps:[[Mn,new Xt,new wu]]},{provide:Uh,useValue:r||{}},r?.useHash?{provide:ls,useClass:A4}:{provide:ls,useClass:Qk},{provide:L_,useFactory:()=>{const t=le(K8),e=le(Le),n=le(Uh),r=le(Vh),i=le(nc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new zN(i,r,t,e,n)}},r?.preloadingStrategy?S7(r.preloadingStrategy).\u0275providers:[],{provide:Tk,multi:!0,useFactory:x7},r?.initialNavigation?O7(r):[],[{provide:JN,useFactory:KN},{provide:_k,multi:!0,useExisting:JN}]]}}static forChild(n){return{ngModule:t,providers:[{provide:ra,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)($(ZN,8))},t.\u0275mod=Wt({type:t}),t.\u0275inj=Ft({imports:[x_]}),t})();function N7(t){return"guarded"}function O7(t){return["disabled"===t.initialNavigation?ms(3,[{provide:Yd,multi:!0,useFactory:()=>{const e=le(Mn);return()=>{e.setUpLocationChangeListener()}}},{provide:U_,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?ms(2,[{provide:U_,useValue:0},{provide:Yd,multi:!0,deps:[An],useFactory:e=>{const n=e.get(T4,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const s=e.get(Mn),o=e.get(QN);(function r(i){e.get(Mn).events.pipe(Ei(o=>o instanceof gs||o instanceof Ah||o instanceof hN),se(o=>o instanceof gs||o instanceof Ah&&(0===o.code||1===o.code)&&null),Ei(o=>null!==o),Ju(1)).subscribe(()=>{i()})})(()=>{i(!0)}),e.get(Vh).afterPreactivation=()=>(i(!0),o.closed?G(void 0):o),s.initialNavigation()}))}}]).\u0275providers:[]]}const JN=new L("");function e1(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){e1(s,r,i,o,a,"next",u)}function a(u){e1(s,r,i,o,a,"throw",u)}o(void 0)})}}let t1=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(C(jr),C(Sn))},t.\u0275dir=K({type:t}),t})(),ys=(()=>{class t extends t1{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(t)))(r||t)}}(),t.\u0275dir=K({type:t,features:[ve]}),t})();const Dr=new L("NgValueAccessor"),V7={provide:Dr,useExisting:Ce(()=>$h),multi:!0},B7=new L("CompositionEventMode");let $h=(()=>{class t extends t1{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function U7(){const t=vr()?vr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(C(jr),C(Sn),C(B7,8))},t.\u0275dir=K({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&dn("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Re([V7]),ve]}),t})();const Gt=new L("NgValidators"),Si=new L("NgAsyncValidators");function h1(t){return null!=t}function f1(t){return Ou(t)?tt(t):t}function p1(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function g1(t,e){return e.map(n=>n(t))}function m1(t){return t.map(e=>function G7(t){return!t.validate}(e)?e:n=>e.validate(n))}function B_(t){return null!=t?function y1(t){if(!t)return null;const e=t.filter(h1);return 0==e.length?null:function(n){return p1(g1(n,e))}}(m1(t)):null}function $_(t){return null!=t?function _1(t){if(!t)return null;const e=t.filter(h1);return 0==e.length?null:function(n){return function F7(...t){const e=YT(t),{args:n,keys:r}=VR(t),i=new Pe(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Wn(n[l]).subscribe(at(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?BR(r,a):a),s.complete())}))}});return e?i.pipe(UR(e)):i}(g1(n,e).map(f1)).pipe(se(p1))}}(m1(t)):null}function v1(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function w1(t){return t._rawValidators}function I1(t){return t._rawAsyncValidators}function j_(t){return t?Array.isArray(t)?t:[t]:[]}function Gh(t,e){return Array.isArray(t)?t.includes(e):t===e}function E1(t,e){const n=j_(e);return j_(t).forEach(i=>{Gh(n,i)||n.push(i)}),n}function D1(t,e){return j_(e).filter(n=>!Gh(t,n))}class b1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=B_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class tn extends b1{get formDirective(){return null}get path(){return null}}class Ai extends b1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class C1{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let T1=(()=>{class t extends C1{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(C(Ai,2))},t.\u0275dir=K({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Bd("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ve]}),t})(),S1=(()=>{class t extends C1{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(C(tn,10))},t.\u0275dir=K({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Bd("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[ve]}),t})();const mc="VALID",qh="INVALID",sa="PENDING",yc="DISABLED";function z_(t){return(zh(t)?t.validators:t)||null}function W_(t,e){return(zh(e)?e.asyncValidators:t)||null}function zh(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class k1{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===mc}get invalid(){return this.status===qh}get pending(){return this.status==sa}get disabled(){return this.status===yc}get enabled(){return this.status!==yc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(E1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(E1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(D1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(D1(e,this._rawAsyncValidators))}hasValidator(e){return Gh(this._rawValidators,e)}hasAsyncValidator(e){return Gh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=sa,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=yc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=mc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mc||this.status===sa)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yc:mc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=sa,this._hasOwnPendingAsyncValidator=!0;const n=f1(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new je,this.statusChanges=new je}_calculateStatus(){return this._allControlsDisabled()?yc:this.errors?qh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sa)?sa:this._anyControlsHaveStatus(qh)?qh:mc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Y7(t){return Array.isArray(t)?B_(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Z7(t){return Array.isArray(t)?$_(t):t||null}(this._rawAsyncValidators)}}class Wh extends k1{constructor(e,n,r){super(z_(n),W_(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function M1(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new S(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function x1(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new S(1e3,"");if(!r[n])throw new S(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const oa=new L("CallSetDisabledState",{providedIn:"root",factory:()=>Kh}),Kh="always";function _c(t,e,n=Kh){K_(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function e9(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&R1(t,e)})}(t,e),function n9(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function t9(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&R1(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function J7(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Yh(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Xh(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Zh(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function K_(t,e){const n=w1(t);null!==e.validator?t.setValidators(v1(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=I1(t);null!==e.asyncValidator?t.setAsyncValidators(v1(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Zh(e._rawValidators,i),Zh(e._rawAsyncValidators,i)}function Xh(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=w1(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=I1(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return Zh(e._rawValidators,r),Zh(e._rawAsyncValidators,r),n}function R1(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function P1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function F1(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const wc=class extends k1{constructor(e=null,n,r){super(z_(n),W_(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=F1(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){P1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){P1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){F1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let $1=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=K({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),G1=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Ft({}),t})();const J_=new L("NgModelWithFormControlWarning"),m9={provide:tn,useExisting:Ce(()=>Jh)};let Jh=(()=>{class t extends tn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new je,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Xh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return _c(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Yh(n.control||null,n,!1),function o9(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function O1(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Yh(r||null,n),(t=>t instanceof wc)(i)&&(_c(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function N1(t,e){K_(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function r9(t,e){return Xh(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){K_(this.form,this),this._oldForm&&Xh(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(n){return new(n||t)(C(Gt,10),C(Si,10),C(oa,8))},t.\u0275dir=K({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&dn("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Re([m9]),ve,Vn]}),t})();const v9={provide:Ai,useExisting:Ce(()=>nv)};let nv=(()=>{class t extends Ai{set isDisabled(n){}constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new je,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Z_(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===$h?n=s:function s9(t){return Object.getPrototypeOf(t.constructor)===ys}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function Y_(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function Qh(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(C(tn,13),C(Gt,10),C(Si,10),C(Dr,10),C(J_,8))},t.\u0275dir=K({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Re([v9]),ve,Vn]}),t})(),sO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Ft({imports:[G1]}),t})(),P9=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:oa,useValue:n.callSetDisabledState??Kh}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Ft({imports:[sO]}),t})(),F9=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:J_,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:oa,useValue:n.callSetDisabledState??Kh}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Ft({imports:[sO]}),t})();const oO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},av={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ef=function(t){return function(t){const e=oO(t);return av.encodeByteArray(e,!0)}(t).replace(/\./g,"")},tf=function(t){try{return av.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},nf=()=>{try{return function j9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&tf(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}};class rf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function kn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function uv(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function vs(){try{return"object"==typeof indexedDB}catch{return!1}}function Ic(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function cv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class or extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,br.prototype.create)}}class br{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function tQ(t,e){return t.replace(nQ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new or(i,`${this.serviceName}: ${o} (${i}).`,r)}}const nQ=/\{\$([^}]+)}/g;function lv(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(cO(s)&&cO(o)){if(!lv(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function cO(t){return null!==t&&"object"==typeof t}function lO(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class iQ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function sQ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=dv),void 0===i.error&&(i.error=dv),void 0===i.complete&&(i.complete=dv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dv(){}function fv(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function qn(t){return t&&t._delegate?t._delegate:t}class Ht{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ws="[DEFAULT]";class dQ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function fQ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ws})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ws){return this.instances.has(e)}getOptions(e=ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===ws?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=ws){return this.component?this.component.multipleInstances?e:ws:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dQ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const pv=[];var he=(()=>{return(t=he||(he={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",he;var t})();const dO={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},gQ=he.INFO,mQ={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},yQ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=mQ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class aa{constructor(e){this.name=e,this._logLevel=gQ,this._logHandler=yQ,this._userLogHandler=null,pv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?dO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}let hO,fO;const pO=new WeakMap,gv=new WeakMap,gO=new WeakMap,mv=new WeakMap,yv=new WeakMap;let _v={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return gv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||gO.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function CQ(t){return"function"==typeof t?function bQ(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function wQ(){return fO||(fO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(vv(this),e),Zr(pO.get(this))}:function(...e){return Zr(t.apply(vv(this),e))}:function(e,...n){const r=t.call(vv(this),e,...n);return gO.set(r,e.sort?e.sort():[e]),Zr(r)}}(t):(t instanceof IDBTransaction&&function EQ(t){if(gv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});gv.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function vQ(){return hO||(hO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,_v):t)}function Zr(t){if(t instanceof IDBRequest)return function IQ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Zr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pO.set(n,t)}).catch(()=>{}),yv.set(e,t),e}(t);if(mv.has(t))return mv.get(t);const e=CQ(t);return e!==t&&(mv.set(t,e),yv.set(e,t)),e}const vv=t=>yv.get(t);function af(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Zr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Zr(o.result),u.oldVersion,u.newVersion,Zr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function wv(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Zr(n).then(()=>{})}const TQ=["get","getKey","getAll","getAllKeys","count"],SQ=["put","add","delete","clear"],Iv=new Map;function mO(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Iv.get(e))return Iv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=SQ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!TQ.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Iv.set(e,s),s}!function DQ(t){_v=t(_v)}(t=>({...t,get:(e,n,r)=>mO(e,n)||t.get(e,n,r),has:(e,n)=>!!mO(e,n)||t.has(e,n)}));class AQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function xQ(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Ev="@firebase/app",Is=new aa("@firebase/app"),uf="[DEFAULT]",tY={[Ev]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Es=new Map,cf=new Map;function nY(t,e){try{t.container.addComponent(e)}catch(n){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nn(t){const e=t.name;if(cf.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;cf.set(e,t);for(const n of Es.values())nY(n,t);return!0}function lf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Xr=new br("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class iY{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ht("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}const df="9.16.0";function _O(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:uf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Xr.create("bad-app-name",{appName:String(i)});if(n||(n=(()=>{var t;return null===(t=nf())||void 0===t?void 0:t.config})()),!n)throw Xr.create("no-options");const s=Es.get(i);if(s){if(lv(n,s.options)&&lv(r,s.config))return s;throw Xr.create("duplicate-app",{appName:i})}const o=new pQ(i);for(const u of cf.values())o.addComponent(u);const a=new iY(n,r,o);return Es.set(i,a),a}function vO(t=uf){const e=Es.get(t);if(!e&&t===uf)return _O();if(!e)throw Xr.create("no-app",{appName:t});return e}function wO(){return Array.from(Es.values())}function Qe(t,e,n){var r;let i=null!==(r=tY[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Is.warn(a.join(" "))}nn(new Ht(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Ec="firebase-heartbeat-store";let bv=null;function IO(){return bv||(bv=af("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ec)}}).catch(t=>{throw Xr.create("idb-open",{originalErrorMessage:t.message})})),bv}function Cv(){return(Cv=m(function*(t){try{return(yield IO()).transaction(Ec).objectStore(Ec).get(DO(t))}catch(e){if(e instanceof or)Is.warn(e.message);else{const n=Xr.create("idb-get",{originalErrorMessage:e?.message});Is.warn(n.message)}}})).apply(this,arguments)}function EO(t,e){return Tv.apply(this,arguments)}function Tv(){return(Tv=m(function*(t,e){try{const r=(yield IO()).transaction(Ec,"readwrite");return yield r.objectStore(Ec).put(e,DO(t)),r.done}catch(n){if(n instanceof or)Is.warn(n.message);else{const r=Xr.create("idb-set",{originalErrorMessage:n?.message});Is.warn(r.message)}}})).apply(this,arguments)}function DO(t){return`${t.name}!${t.options.appId}`}class lY{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hY(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=bO();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=bO(),{heartbeatsToSend:r,unsentEntries:i}=function dY(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),CO(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),CO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=ef(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function bO(){return(new Date).toISOString().substring(0,10)}class hY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!vs()&&Ic().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function aY(t){return Cv.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return EO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return EO(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function CO(t){return ef(JSON.stringify({version:2,heartbeats:t})).length}!function fY(t){nn(new Ht("platform-logger",e=>new AQ(e),"PRIVATE")),nn(new Ht("heartbeat",e=>new lY(e),"PRIVATE")),Qe(Ev,"0.9.1",t),Qe(Ev,"0.9.1","esm2017"),Qe("fire-js","")}(""),Qe("firebase","9.16.0","app");const TO="@firebase/installations",Sv="0.6.1",AO=`w:${Sv}`,xO="FIS_v2",Jr=new br("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function MO(t){return t instanceof or&&t.code.includes("request-failed")}function Av({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function kO(t){return{token:t.token,requestStatus:2,expiresIn:IY(t.expiresIn),creationTime:Date.now()}}function xv(t,e){return Mv.apply(this,arguments)}function Mv(){return(Mv=m(function*(t,e){const r=(yield e.json()).error;return Jr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function RO({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function NO(t,{refreshToken:e}){const n=RO(t);return n.append("Authorization",function EY(t){return`${xO} ${t}`}(e)),n}function kv(t){return Rv.apply(this,arguments)}function Rv(){return(Rv=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function IY(t){return Number(t.replace("s","000"))}function DY(t,e){return Nv.apply(this,arguments)}function Nv(){return(Nv=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Av(t),i=RO(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:xO,appId:t.appId,sdkVersion:AO})},u=yield kv(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:kO(c.authToken)}}throw yield xv("Create Installation",u)})).apply(this,arguments)}function OO(t){return new Promise(e=>{setTimeout(e,t)})}const CY=/^[cdef][\w-]{21}$/;function TY(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function SY(t){return function bY(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return CY.test(n)?n:""}catch{return""}}function ua(t){return`${t.appName}!${t.appId}`}const ca=new Map;function PO(t,e){const n=ua(t);FO(n,e),function MY(t,e){const n=function LO(){return!Ds&&"BroadcastChannel"in self&&(Ds=new BroadcastChannel("[Firebase] FID Change"),Ds.onmessage=t=>{FO(t.data.key,t.data.fid)}),Ds}();n&&n.postMessage({key:t,fid:e}),function VO(){0===ca.size&&Ds&&(Ds.close(),Ds=null)}()}(n,e)}function FO(t,e){const n=ca.get(t);if(n)for(const r of n)r(e)}let Ds=null;const bs="firebase-installations-store";let Pv=null;function Fv(){return Pv||(Pv=af("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(bs)}})),Pv}function hf(t,e){return Lv.apply(this,arguments)}function Lv(){return(Lv=m(function*(t,e){const n=ua(t),i=(yield Fv()).transaction(bs,"readwrite"),s=i.objectStore(bs),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&PO(t,e.fid),e})).apply(this,arguments)}function Vv(t){return Uv.apply(this,arguments)}function Uv(){return(Uv=m(function*(t){const e=ua(t),r=(yield Fv()).transaction(bs,"readwrite");yield r.objectStore(bs).delete(e),yield r.done})).apply(this,arguments)}function Dc(t,e){return Bv.apply(this,arguments)}function Bv(){return(Bv=m(function*(t,e){const n=ua(t),i=(yield Fv()).transaction(bs,"readwrite"),s=i.objectStore(bs),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&PO(t,a.fid),a})).apply(this,arguments)}function $v(t){return jv.apply(this,arguments)}function jv(){return(jv=m(function*(t){let e;const n=yield Dc(t.appConfig,r=>{const i=NY(r),s=OY(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function NY(t){return BO(t||{fid:TY(),registrationStatus:0})}function OY(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Jr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function PY(t,e){return Gv.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:FY(t)}:{installationEntry:e}}function Gv(){return(Gv=m(function*(t,e){try{const n=yield DY(t,e);return hf(t.appConfig,n)}catch(n){throw MO(n)&&409===n.customData.serverCode?yield Vv(t.appConfig):yield hf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function FY(t){return Hv.apply(this,arguments)}function Hv(){return(Hv=m(function*(t){let e=yield UO(t.appConfig);for(;1===e.registrationStatus;)yield OO(100),e=yield UO(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield $v(t);return r||n}return e})).apply(this,arguments)}function UO(t){return Dc(t,e=>{if(!e)throw Jr.create("installation-not-found");return BO(e)})}function BO(t){return function LY(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function VY(t,e){return qv.apply(this,arguments)}function qv(){return(qv=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=UY(t,n),i=NO(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:AO,appId:t.appId}})},u=yield kv(()=>fetch(r,a));if(u.ok)return kO(yield u.json());throw yield xv("Generate Auth Token",u)})).apply(this,arguments)}function UY(t,{fid:e}){return`${Av(t)}/${e}/authTokens:generate`}function zv(t){return Wv.apply(this,arguments)}function Wv(){return(Wv=m(function*(t,e=!1){let n;const r=yield Dc(t.appConfig,s=>{if(!jO(s))throw Jr.create("not-registered");const o=s.authToken;if(!e&&jY(o))return s;if(1===o.requestStatus)return n=BY(t,e),s;{if(!navigator.onLine)throw Jr.create("app-offline");const a=HY(s);return n=$Y(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function BY(t,e){return Kv.apply(this,arguments)}function Kv(){return(Kv=m(function*(t,e){let n=yield $O(t.appConfig);for(;1===n.authToken.requestStatus;)yield OO(100),n=yield $O(t.appConfig);const r=n.authToken;return 0===r.requestStatus?zv(t,e):r})).apply(this,arguments)}function $O(t){return Dc(t,e=>{if(!jO(e))throw Jr.create("not-registered");return function qY(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function $Y(t,e){return Qv.apply(this,arguments)}function Qv(){return(Qv=m(function*(t,e){try{const n=yield VY(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield hf(t.appConfig,r),n}catch(n){if(!MO(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield hf(t.appConfig,r)}else yield Vv(t.appConfig);throw n}})).apply(this,arguments)}function jO(t){return void 0!==t&&2===t.registrationStatus}function jY(t){return 2===t.requestStatus&&!function GY(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function HY(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Yv(){return(Yv=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield $v(e);return r?r.catch(console.error):zv(e).catch(console.error),n.fid})).apply(this,arguments)}function Zv(){return(Zv=m(function*(t,e=!1){const n=t;return yield KY(n),(yield zv(n,e)).token})).apply(this,arguments)}function KY(t){return Xv.apply(this,arguments)}function Xv(){return(Xv=m(function*(t){const{registrationPromise:e}=yield $v(t);e&&(yield e)})).apply(this,arguments)}function tw(t){return Jr.create("missing-app-config-values",{valueName:t})}const GO="installations",JY=t=>{const e=t.getProvider("app").getImmediate(),n=function ZY(t){if(!t||!t.options)throw tw("App Configuration");if(!t.name)throw tw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw tw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:lf(e,"heartbeat"),_delete:()=>Promise.resolve()}},eZ=t=>{const n=lf(t.getProvider("app").getImmediate(),GO).getImmediate();return{getId:()=>function zY(t){return Yv.apply(this,arguments)}(n),getToken:i=>function WY(t){return Zv.apply(this,arguments)}(n,i)}};(function tZ(){nn(new Ht(GO,JY,"PUBLIC")),nn(new Ht("installations-internal",eZ,"PRIVATE"))})(),Qe(TO,Sv),Qe(TO,Sv,"esm2017");const nw="@firebase/remote-config",pn=new br("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class hZ{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function fZ(t=navigator){return t.languages&&t.languages[0]||t.language}class pZ{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:fZ()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((I,D)=>{e.signal.addEventListener(()=>{const v=new Error("The operation was aborted.");v.name="AbortError",D(v)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(I){let D="fetch-client-network";throw"AbortError"===I?.name&&(D="fetch-timeout"),pn.create(D,{originalErrorMessage:I?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,y;if(200===h.status){let I;try{I=yield h.json()}catch(D){throw pn.create("fetch-client-parse",{originalErrorMessage:D?.message})}g=I.entries,y=I.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(g={}),304!==f&&200!==f)throw pn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class yZ{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function gZ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(pn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function mZ(t){if(!(t instanceof or&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+fv(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class wZ{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pf(t,e){const n=t.target.error||void 0;return pn.create(e,{originalErrorMessage:n&&n?.message})}const Cs="app_namespace_store";class bZ{constructor(e,n,r,i=function DZ(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(pf(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Cs,{keyPath:"compositeKey"})}}catch(n){e(pn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Cs],"readonly").objectStore(Cs),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(pf(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(pn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Cs],"readwrite").objectStore(Cs),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(pf(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(pn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Cs],"readwrite").objectStore(Cs),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(pf(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(pn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class CZ{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function SZ(){return aw.apply(this,arguments)}function aw(){return(aw=m(function*(){if(!vs())return!1;try{return yield Ic()}catch{return!1}})).apply(this,arguments)}!function TZ(){nn(new Ht("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw pn.create("registration-window");if(!vs())throw pn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw pn.create("registration-project-id");if(!o)throw pn.create("registration-api-key");if(!a)throw pn.create("registration-app-id");const u=new bZ(a,r.name,n=n||"firebase"),c=new CZ(u),l=new aa(nw);l.logLevel=he.ERROR;const d=new pZ(i,df,n,s,o,a),h=new yZ(d,u),f=new hZ(h,u,c,l),p=new wZ(r,f,c,u,l);return function cZ(t){const e=qn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Qe(nw,"0.4.1"),Qe(nw,"0.4.1","esm2017")}();const AZ="/firebase-messaging-sw.js",xZ="/firebase-cloud-messaging-push-scope",WO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",KO="google.c.a.c_id",kZ="google.c.a.c_l",RZ="google.c.a.ts",NZ="google.c.a.e";var la=(()=>{return(t=la||(la={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",la;var t})();function ei(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function OZ(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const uw="fcm_token_details_db",QO="fcm_token_object_Store";function FZ(t){return cw.apply(this,arguments)}function cw(){return cw=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(uw))return null;let e=null;return(yield af(uw,5,{upgrade:(r=m(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(QO))return;const c=a.objectStore(QO),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ei(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ei(d.auth),p256dh:ei(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ei(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ei(d.auth),p256dh:ei(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ei(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield wv(uw),yield wv("fcm_vapid_details_db"),yield wv("undefined"),LZ(e)?e:null;var r}),cw.apply(this,arguments)}function LZ(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Ts="firebase-messaging-store";let lw=null;function dw(){return lw||(lw=af("firebase-messaging-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ts)}})),lw}function YO(t){return hw.apply(this,arguments)}function hw(){return(hw=m(function*(t){const e=mw(t),r=yield(yield dw()).transaction(Ts).objectStore(Ts).get(e);if(r)return r;{const i=yield FZ(t.appConfig.senderId);if(i)return yield fw(t,i),i}})).apply(this,arguments)}function fw(t,e){return pw.apply(this,arguments)}function pw(){return(pw=m(function*(t,e){const n=mw(t),i=(yield dw()).transaction(Ts,"readwrite");return yield i.objectStore(Ts).put(e,n),yield i.done,e})).apply(this,arguments)}function BZ(t){return gw.apply(this,arguments)}function gw(){return(gw=m(function*(t){const e=mw(t),r=(yield dw()).transaction(Ts,"readwrite");yield r.objectStore(Ts).delete(e),yield r.done})).apply(this,arguments)}function mw({appConfig:t}){return t.appId}const At=new br("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function jZ(t,e){return yw.apply(this,arguments)}function yw(){return(yw=m(function*(t,e){const n=yield Iw(t),r=XO(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(ww(t.appConfig),i)).json()}catch(o){throw At.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw At.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw At.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function GZ(t,e){return _w.apply(this,arguments)}function _w(){return(_w=m(function*(t,e){const n=yield Iw(t),r=XO(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${ww(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw At.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw At.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw At.create("token-update-no-token");return s.token})).apply(this,arguments)}function ZO(t,e){return vw.apply(this,arguments)}function vw(){return(vw=m(function*(t,e){const r={method:"DELETE",headers:yield Iw(t)};try{const s=yield(yield fetch(`${ww(t.appConfig)}/${e}`,r)).json();if(s.error)throw At.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw At.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function ww({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function Iw(t){return Ew.apply(this,arguments)}function Ew(){return(Ew=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function XO({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==WO&&(i.web.applicationPubKey=r),i}const HZ=6048e5;function qZ(t){return Dw.apply(this,arguments)}function Dw(){return(Dw=m(function*(t){const e=yield WZ(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ei(e.getKey("auth")),p256dh:ei(e.getKey("p256dh"))},r=yield YO(t.firebaseDependencies);if(r){if(KZ(r.subscriptionOptions,n))return Date.now()>=r.createTime+HZ?zZ(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield ZO(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return eP(t.firebaseDependencies,n)}return eP(t.firebaseDependencies,n)})).apply(this,arguments)}function JO(t){return bw.apply(this,arguments)}function bw(){return(bw=m(function*(t){const e=yield YO(t.firebaseDependencies);e&&(yield ZO(t.firebaseDependencies,e.token),yield BZ(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function zZ(t,e){return Cw.apply(this,arguments)}function Cw(){return(Cw=m(function*(t,e){try{const n=yield GZ(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield fw(t.firebaseDependencies,r),n}catch(n){throw yield JO(t),n}})).apply(this,arguments)}function eP(t,e){return Tw.apply(this,arguments)}function Tw(){return(Tw=m(function*(t,e){const r={token:yield jZ(t,e),createTime:Date.now(),subscriptionOptions:e};return yield fw(t,r),r.token})).apply(this,arguments)}function WZ(t,e){return Sw.apply(this,arguments)}function Sw(){return(Sw=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:OZ(e)})})).apply(this,arguments)}function KZ(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function tP(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function QZ(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function YZ(t,e){e.data&&(t.data=e.data)}(e,t),function ZZ(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function XZ(t){return"object"==typeof t&&!!t&&KO in t}function nP(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Aw(t){return At.create("missing-app-config-values",{valueName:t})}nP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),nP("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class eX{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function JZ(t){if(!t||!t.options)throw Aw("App Configuration Object");if(!t.name)throw Aw("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Aw(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function rP(t){return xw.apply(this,arguments)}function xw(){return(xw=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(AZ,{scope:xZ}),t.swRegistration.update().catch(()=>{})}catch(e){throw At.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function tX(t,e){return Mw.apply(this,arguments)}function Mw(){return(Mw=m(function*(t,e){if(!e&&!t.swRegistration&&(yield rP(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw At.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function nX(t,e){return kw.apply(this,arguments)}function kw(){return(kw=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=WO)})).apply(this,arguments)}function Rw(){return(Rw=m(function*(t,e){if(!navigator)throw At.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw At.create("permission-blocked");return yield nX(t,e?.vapidKey),yield tX(t,e?.serviceWorkerRegistration),qZ(t)})).apply(this,arguments)}function rX(t,e,n){return Nw.apply(this,arguments)}function Nw(){return(Nw=m(function*(t,e,n){const r=iX(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[KO],message_name:n[kZ],message_time:n[RZ],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function iX(t){switch(t){case la.NOTIFICATION_CLICKED:return"notification_open";case la.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ow(){return(Ow=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===la.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(tP(n)):t.onMessageHandler.next(tP(n)));const r=n.data;XZ(r)&&"1"===r[NZ]&&(yield rX(t,n.messageType,r))})).apply(this,arguments)}const sP="@firebase/messaging",oX=t=>{const e=new eX(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function sX(t,e){return Ow.apply(this,arguments)}(e,n)),e},aX=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function iP(t,e){return Rw.apply(this,arguments)}(e,r)}};function aP(){return Pw.apply(this,arguments)}function Pw(){return(Pw=m(function*(){try{yield Ic()}catch{return!1}return typeof window<"u"&&vs()&&cv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function uX(){nn(new Ht("messaging",oX,"PUBLIC")),nn(new Ht("messaging-internal",aX,"PRIVATE")),Qe(sP,"0.12.1"),Qe(sP,"0.12.1","esm2017")}();const gf="analytics",dX="firebase_id",pX="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",uP="https://www.googletagmanager.com/gtag/js",xt=new aa("@firebase/analytics");function cP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function gX(t,e){const n=document.createElement("script");n.src=`${uP}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function yX(t,e,n,r,i,s){return Vw.apply(this,arguments)}function Vw(){return(Vw=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield cP(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){xt.error(a)}t("config",i,s)})).apply(this,arguments)}function _X(t,e,n,r,i){return Uw.apply(this,arguments)}function Uw(){return(Uw=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield cP(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){xt.error(s)}})).apply(this,arguments)}function IX(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(uP)&&n.src.includes(t))return n;return null}const Rn=new br("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),lP=new class CX{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function TX(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function SX(t){return Bw.apply(this,arguments)}function Bw(){return(Bw=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:TX(r)},s=pX.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Rn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function AX(t){return $w.apply(this,arguments)}function $w(){return($w=m(function*(t,e=lP,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Rn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Rn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new kX;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:6e4),dP({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function dP(t,e,n){return jw.apply(this,arguments)}function jw(){return(jw=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=lP){var s;const{appId:o,measurementId:a}=t;try{yield xX(r,e)}catch(u){if(a)return xt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield SX(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!MX(c)){if(i.deleteThrottleMetadata(o),a)return xt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?fv(n,i.intervalMillis,30):fv(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),xt.debug(`Calling attemptFetch again in ${l} millis`),dP(t,d,r,i)}})).apply(this,arguments)}function xX(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function MX(t){if(!(t instanceof or&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class kX{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Gw,Qw;function Hw(){return(Hw=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function hP(t){Qw=t}function fP(t){Gw=t}function LX(){return Yw.apply(this,arguments)}function Yw(){return(Yw=m(function*(){if(!vs())return xt.warn(Rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Ic()}catch(t){return xt.warn(Rn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function Zw(){return(Zw=m(function*(t,e,n,r,i,s,o){var a;const u=AX(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&xt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>xt.error(f)),e.push(u);const c=LX().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);IX(s)||gX(s,l.measurementId),Qw&&(i("consent","default",Qw),hP(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[dX]=d),i("config",l.measurementId,h),Gw&&(i("set",Gw),fP(void 0)),l.measurementId})).apply(this,arguments)}class UX{constructor(e){this.app=e}_delete(){return delete ti[this.app.options.appId],Promise.resolve()}}let ti={},pP=[];const gP={};let yP,ni,mf="dataLayer",Xw=!1;function $X(t,e,n){!function BX(){const t=[];if(uv()&&t.push("This is a browser extension environment."),cv()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Rn.create("invalid-analytics-context",{errorInfo:e});xt.warn(n.message)}}();const r=t.options.appId;if(!r)throw Rn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Rn.create("no-api-key");xt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ti[r])throw Rn.create("already-exists",{id:r});if(!Xw){!function mX(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(mf);const{wrappedGtag:s,gtagCore:o}=function wX(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function vX(t,e,n,r){function s(){return(s=m(function*(o,a,u){try{"event"===o?yield _X(t,e,n,a,u):"config"===o?yield yX(t,e,n,r,a,u):"consent"===o?t("consent","update",u):t("set",a)}catch(c){xt.error(c)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(ti,pP,gP,mf,"gtag");ni=s,yP=o,Xw=!0}return ti[r]=function VX(t,e,n,r,i,s,o){return Zw.apply(this,arguments)}(t,pP,gP,e,yP,mf,n),new UX(t)}function GX(){return Jw.apply(this,arguments)}function Jw(){return(Jw=m(function*(){if(uv()||!cv()||!vs())return!1;try{return yield Ic()}catch{return!1}})).apply(this,arguments)}const _P="@firebase/analytics";!function qX(){nn(new Ht(gf,(e,{options:n})=>$X(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),nn(new Ht("analytics-internal",function t(e){try{const n=e.getProvider(gf).getImmediate();return{logEvent:(r,i,s)=>function HX(t,e,n,r){t=qn(t),function RX(t,e,n,r,i){return Hw.apply(this,arguments)}(ni,ti[t.app.options.appId],e,n,r).catch(i=>xt.error(i))}(n,r,i,s)}}catch(n){throw Rn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Qe(_P,"0.9.1"),Qe(_P,"0.9.1","esm2017")}();class zX extends wn{constructor(e,n){super()}schedule(e,n=0){return this}}const yf={setInterval(t,e,...n){const{delegate:r}=yf;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=yf;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class wP extends zX{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return yf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&yf.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,oo(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const IP={now:()=>(IP.delegate||Date).now(),delegate:void 0};class bc{constructor(e,n=bc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}bc.now=IP.now;class EP extends bc{constructor(e,n=bc.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const QX=new class KX extends EP{}(class WX extends wP{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),YX=new EP(wP),eI=new Ao("7.5.0"),tI="__angularfire_symbol__analyticsIsSupportedValue",nI="__angularfire_symbol__analyticsIsSupported",rI="__angularfire_symbol__remoteConfigIsSupportedValue",iI="__angularfire_symbol__remoteConfigIsSupported",sI="__angularfire_symbol__messagingIsSupportedValue",oI="__angularfire_symbol__messagingIsSupported";globalThis[nI]||(globalThis[nI]=GX().then(t=>globalThis[tI]=t).catch(()=>globalThis[tI]=!1)),globalThis[oI]||(globalThis[oI]=aP().then(t=>globalThis[sI]=t).catch(()=>globalThis[sI]=!1)),globalThis[iI]||(globalThis[iI]=SZ().then(t=>globalThis[rI]=t).catch(()=>globalThis[rI]=!1));const cI=(t,e)=>{const n=e?[e]:wO(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function da(){}class DP{constructor(e,n=QX){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class ZX{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",da,{},da,da)),n.pipe(Tt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let bP=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new DP(Zone.current)),this.insideAngular=n.run(()=>new DP(Zone.current,YX)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)($(Le))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ss(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function XX(t){return Ss().ngZone.runOutsideAngular(()=>t())}function As(t){return Ss().ngZone.run(()=>t())}function JX(t){return Ss(),function eJ(t){return function(n){return(n=n.lift(new ZX(t.ngZone))).pipe(ql(t.outsideAngular),Hl(t.insideAngular))}}(Ss())(t)}const tJ=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),As(()=>t.apply(void 0,r))},_f=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=As(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",da,{},da,da)))),r[s]=tJ(r[s],n));const i=XX(()=>t.apply(this,r));if(!e){if(i instanceof Pe){const s=Ss();return i.pipe(ql(s.outsideAngular),Hl(s.insideAngular))}return As(()=>i)}return i instanceof Pe?i.pipe(JX):i instanceof Promise?As(()=>new Promise((s,o)=>i.then(a=>As(()=>s(a)),a=>As(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:As(()=>i)};class ha{constructor(e){return e}}class CP{constructor(){return wO()}}const lI=new L("angularfire2._apps"),rJ={provide:ha,useFactory:function nJ(t){return t&&1===t.length?t[0]:new ha(vO())},deps:[[new Xt,lI]]},iJ={provide:CP,deps:[[new Xt,lI]]};function sJ(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ha(r)}}let oJ=(()=>{class t{constructor(n){Qe("angularfire",eI.full,"core"),Qe("angularfire",eI.full,"app"),Qe("angular",aA.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)($(Xd))},t.\u0275mod=Wt({type:t}),t.\u0275inj=Ft({providers:[rJ,iJ]}),t})();const uJ=_f(_O,!0);const cJ=function TP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},SP=new br("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),AP=new aa("@firebase/auth");function vf(t,...e){AP.logLevel<=he.ERROR&&AP.error(`Auth (${df}): ${t}`,...e)}function gn(t,...e){throw dI(t,...e)}function Cr(t,...e){return dI(t,...e)}function xP(t,e,n){const r=Object.assign(Object.assign({},cJ()),{[e]:n});return new br("auth","Firebase",r).create(e,{appName:t.name})}function dI(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return SP.create(t,...e)}function A(t,e,...n){if(!t)throw dI(e,...n)}function Tr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vf(e),new Error(e)}function xi(t,e){t||Tr(e)}const MP=new Map;function ri(t){xi(t instanceof Function,"Expected a class definition");let e=MP.get(t);return e?(xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,MP.set(t,e),e)}function kP(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Tc{constructor(e,n){this.shortDelay=e,this.longDelay=n,xi(n>e,"Short delay should be less than long delay!"),this.isMobile=function Z9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}()||function J9(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function hJ(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function hI(){return"http:"===kP()||"https:"===kP()}()||uv()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class RP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},gJ=new Tc(3e4,6e4);function yt(t,e,n,r){return pI.apply(this,arguments)}function pI(){return(pI=m(function*(t,e,n,r,i={}){return NP(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=lO(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),RP.fetch()(OP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function NP(t,e,n){return gI.apply(this,arguments)}function gI(){return(gI=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},pJ),e);try{const i=new mJ(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Sc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Sc(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Sc(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw Sc(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw xP(t,l,c);gn(t,l)}}catch(i){if(i instanceof or)throw i;gn(t,"network-request-failed")}})).apply(this,arguments)}function OP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function fI(t,e){xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class mJ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cr(this.auth,"network-request-failed")),gJ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Cr(t,e,r);return i.customData._tokenResponse=n,i}function yI(){return(yI=m(function*(t,e){return yt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function vJ(t,e){return vI.apply(this,arguments)}function vI(){return(vI=m(function*(t,e){return yt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Ac(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function wI(){return(wI=m(function*(t,e=!1){const n=qn(t),r=yield n.getIdToken(e),i=wf(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ac(II(i.auth_time)),issuedAtTime:Ac(II(i.iat)),expirationTime:Ac(II(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function II(t){return 1e3*Number(t)}function wf(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return vf("JWT malformed, contained fewer than 3 sections"),null;try{const i=tf(n);return i?JSON.parse(i):(vf("Failed to decode base64 JWT payload"),null)}catch(i){return vf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function si(t,e){return EI.apply(this,arguments)}function EI(){return(EI=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof or&&EJ(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function EJ({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class DJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class PP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ac(this.lastLoginAt),this.creationTime=Ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xc(t){return DI.apply(this,arguments)}function DI(){return(DI=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield si(t,vJ(n,{idToken:r}));A(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?TJ(s.providerUserInfo):[],a=CJ(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new PP(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function bI(){return(bI=m(function*(t){const e=qn(t);yield xc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function CJ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function TJ(t){return t.map(e=>{var{providerId:n}=e,r=LT(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function CI(){return(CI=m(function*(t,e){const n=yield NP(t,{},m(function*(){const r=lO({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=OP(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",RP.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Mc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(typeof e.idToken<"u","internal-error"),A(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function IJ(t){const e=wf(t);return A(e,"internal-error"),A(typeof e.exp<"u","internal-error"),A(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function SJ(t,e){return CI.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Mc;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mc,this.toJSON())}_performRefresh(){return Tr("not implemented")}}function Mi(t,e){A("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class xs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=LT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new PP(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield si(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function wJ(t){return wI.apply(this,arguments)}(this,e)}reload(){return function bJ(t){return bI.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new xs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield xc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield si(e,function yJ(t,e){return yI.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,I=null!==(c=n.createdAt)&&void 0!==c?c:void 0,D=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:R,isAnonymous:V,providerData:B,stsTokenManager:et}=n;A(v&&et,e,"internal-error");const so=Mc.fromJSON(this.name,et);A("string"==typeof v,e,"internal-error"),Mi(d,e.name),Mi(h,e.name),A("boolean"==typeof R,e,"internal-error"),A("boolean"==typeof V,e,"internal-error"),Mi(f,e.name),Mi(p,e.name),Mi(g,e.name),Mi(y,e.name),Mi(I,e.name),Mi(D,e.name);const TT=new xs({uid:v,auth:e,email:h,emailVerified:R,displayName:d,isAnonymous:V,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:so,createdAt:I,lastLoginAt:D});return B&&Array.isArray(B)&&(TT.providerData=B.map(mae=>Object.assign({},mae))),y&&(TT._redirectEventId=y),TT}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new Mc;i.updateFromServerResponse(n);const s=new xs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield xc(s),s})()}}const FP=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function If(t,e,n){return`firebase:${t}:${e}:${n}`}class pa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=If(this.userKey,i.apiKey,s),this.fullPersistenceKey=If("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?xs._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new pa(ri(FP),e,r);const i=(yield Promise.all(n.map(function(){var c=m(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||ri(FP);const o=If(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=xs._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=m(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new pa(s,e,r)):new pa(s,e,r)})()}}function LP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function BP(t=kn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function VP(t=kn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function jP(t=kn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function GP(t=kn()){return/webos/i.test(t)}(e))return"Webos";if(function TI(t=kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function UP(t=kn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function $P(t=kn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function HP(t,e=[]){let n;switch(t){case"Browser":n=LP(kn());break;case"Worker":n=`${LP(kn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${df}/${r}`}class MJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class kJ{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qP(this),this.idTokenSubscription=new qP(this),this.beforeStateQueue=new MJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SP,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield pa.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield xc(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function fJ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?qn(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(ri(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new br("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&ri(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield pa.create(n,[ri(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}class qP{constructor(e){this.auth=e,this.observer=null,this.addObserver=function rQ(t,e){const n=new iQ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function lF(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new Tc(3e4,6e4),new Tc(2e3,1e4),new Tc(3e4,6e4),new Tc(5e3,15e3);var EF="@firebase/auth";class Dte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}nf(),function Cte(t){nn(new Ht("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{A(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),A(!o?.includes(":"),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HP(t)},l=new kJ(a,u,c);return function dJ(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ri);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),nn(new Ht("auth-internal",e=>{const n=function mn(t){return qn(t)}(e.getProvider("auth").getImmediate());return new Dte(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qe(EF,"0.21.1",function bte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Qe(EF,"0.21.1","esm2017")}("Browser");class TF{constructor(){return cI("auth")}}const uD=new Map,SF={activated:!1,tokenObservers:[]},Rte={initialized:!1,enabled:!1};function Mt(t){return uD.get(t)||Object.assign({},SF)}function Nf(){return Rte}class Vte{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new rf,yield function Ute(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new rf,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const rn=new br("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function xF(t){if(!Mt(t).activated)throw rn.create("use-before-activation",{appName:t.name})}function dD(t,e){return hD.apply(this,arguments)}function hD(){return hD=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw rn.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw rn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw rn.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw rn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),hD.apply(this,arguments)}function Gte(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Pc="firebase-app-check-store";let Ff=null;function kF(){return Ff||(Ff=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(rn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Pc,{keyPath:"compositeKey"})}}catch(n){e(rn.create("storage-open",{originalErrorMessage:n?.message}))}}),Ff)}function fD(){return fD=m(function*(t,e){const r=(yield kF()).transaction(Pc,"readwrite"),s=r.objectStore(Pc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(rn.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),fD.apply(this,arguments)}const Fc=new aa("@firebase/app-check");function mD(t,e){return vs()?function Wte(t,e){return function RF(t,e){return fD.apply(this,arguments)}(function OF(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Fc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function PF(){return Nf().enabled}function FF(){return _D.apply(this,arguments)}function _D(){return _D=m(function*(){const t=Nf();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),_D.apply(this,arguments)}const Jte={error:"UNKNOWN_ERROR"};function ene(t){return av.encodeString(JSON.stringify(t),!1)}function Lf(t){return vD.apply(this,arguments)}function vD(){return vD=m(function*(t,e=!1){const n=t.app;xF(n);const r=Mt(n);let s,i=r.token;if(i&&!ga(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(ga(u)?i=u:yield mD(n,void 0))}if(!e&&i&&ga(i))return{token:i.token};let a,o=!1;if(PF()){r.exchangeTokenPromise||(r.exchangeTokenPromise=dD(Gte(n,yield FF()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield mD(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Mt(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Fc.warn(u.message):Fc.error(u),s=u}return i?s?a=ga(i)?{token:i.token,internalError:s}:UF(s):(a={token:i.token},r.token=i,yield mD(n,i)):a=UF(s),o&&VF(n,a),a}),vD.apply(this,arguments)}function ID(t,e){const n=Mt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function LF(t){const{app:e}=t,n=Mt(e);let r=n.tokenRefresher;r||(r=function tne(t){const{app:e}=t;return new Vte(m(function*(){let r;if(r=Mt(e).token?yield Lf(t,!0):yield Lf(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Mt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function VF(t,e){const n=Mt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function ga(t){return t.expireTimeMillis-Date.now()>0}function UF(t){return{token:ene(Jte),error:t}}class nne{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Mt(this.app);for(const n of e)ID(this.app,n.next);return Promise.resolve()}}const WF="app-check-internal";!function mne(){nn(new Ht("app-check",t=>function rne(t,e){return new nne(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(WF).initialize()})),nn(new Ht(WF,t=>function ine(t){return{getToken:e=>Lf(t,e),addTokenListener:e=>function wD(t,e,n,r){const{app:i}=t,s=Mt(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&ga(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),LF(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>LF(t))}(t,"INTERNAL",e),removeTokenListener:e=>ID(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Qe("@firebase/app-check","0.6.1")}();class QF{constructor(){return cI("app-check")}}typeof window<"u"&&window;var F,Ine=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ai={},TD=TD||{},Q=Ine||self;function Uf(){}function Bf(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Lc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var SD="closure_uid_"+(1e9*Math.random()>>>0),Dne=0;function bne(t,e,n){return t.call.apply(t.bind,arguments)}function Cne(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function qt(t,e,n){return(qt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bne:Cne).apply(null,arguments)}function $f(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function kt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ki(){this.s=this.s,this.o=this.o}ki.prototype.s=!1,ki.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Ene(t){Object.prototype.hasOwnProperty.call(t,SD)&&t[SD]||(t[SD]=++Dne)}(this)},ki.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const YF=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function AD(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function ZF(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Bf(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function zt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}zt.prototype.h=function(){this.defaultPrevented=!0};var Sne=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Q.addEventListener("test",Uf,e),Q.removeEventListener("test",Uf,e)}catch{}return t}();function jf(t){return/^[\s\xa0]*$/.test(t)}var XF=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function xD(t,e){return t<e?-1:t>e?1:0}function Gf(){var t=Q.navigator;return t&&(t=t.userAgent)?t:""}function Sr(t){return-1!=Gf().indexOf(t)}function MD(t){return MD[" "](t),t}MD[" "]=Uf;var Hf,xne=Sr("Opera"),ma=Sr("Trident")||Sr("MSIE"),JF=Sr("Edge"),kD=JF||ma,eL=Sr("Gecko")&&!(-1!=Gf().toLowerCase().indexOf("webkit")&&!Sr("Edge"))&&!(Sr("Trident")||Sr("MSIE"))&&!Sr("Edge"),Mne=-1!=Gf().toLowerCase().indexOf("webkit")&&!Sr("Edge");function tL(){var t=Q.document;return t?t.documentMode:void 0}e:{var RD="",ND=function(){var t=Gf();return eL?/rv:([^\);]+)(\)|;)/.exec(t):JF?/Edge\/([\d\.]+)/.exec(t):ma?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Mne?/WebKit\/(\S+)/.exec(t):xne?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(ND&&(RD=ND?ND[1]:""),ma){var OD=tL();if(null!=OD&&OD>parseFloat(RD)){Hf=String(OD);break e}}Hf=RD}var kne={};var Nne=Q.document&&ma&&(tL()||parseInt(Hf,10))||void 0;function Vc(t,e){if(zt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(eL){e:{try{MD(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:One[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Vc.X.h.call(this)}}kt(Vc,zt);var One={2:"touch",3:"pen",4:"mouse"};Vc.prototype.h=function(){Vc.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Uc="closure_listenable_"+(1e6*Math.random()|0),Pne=0;function Fne(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++Pne,this.ba=this.ea=!1}function qf(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function FD(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function rL(t){const e={};for(const n in t)e[n]=t[n];return e}const iL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sL(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<iL.length;s++)n=iL[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function zf(t){this.src=t,this.g={},this.h=0}function LD(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=YF(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(qf(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function VD(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}zf.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=VD(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):((e=new Fne(e,this.src,s,!!r,i)).ea=n,t.push(e)),e};var UD="closure_lm_"+(1e6*Math.random()|0),BD={};function oL(t,e,n,r,i){if(r&&r.once)return uL(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)oL(t,e[s],n,r,i);return null}return n=HD(n),t&&t[Uc]?t.N(e,n,Lc(r)?!!r.capture:!!r,i):aL(t,e,n,!1,r,i)}function aL(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Lc(i)?!!i.capture:!!i,a=jD(t);if(a||(t[UD]=a=new zf(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Lne(){const e=Vne;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Sne||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(lL(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function uL(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)uL(t,e[s],n,r,i);return null}return n=HD(n),t&&t[Uc]?t.O(e,n,Lc(r)?!!r.capture:!!r,i):aL(t,e,n,!0,r,i)}function cL(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)cL(t,e[s],n,r,i);else r=Lc(r)?!!r.capture:!!r,n=HD(n),t&&t[Uc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=VD(s=t.g[e],n,r,i))&&(qf(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=jD(t))&&(e=t.g[e.toString()],t=-1,e&&(t=VD(e,n,r,i)),(n=-1<t?e[t]:null)&&$D(n))}function $D(t){if("number"!=typeof t&&t&&!t.ba){var e=t.src;if(e&&e[Uc])LD(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(lL(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=jD(e))?(LD(n,t),0==n.h&&(n.src=null,e[UD]=null)):qf(t)}}}function lL(t){return t in BD?BD[t]:BD[t]="on"+t}function Vne(t,e){if(t.ba)t=!0;else{e=new Vc(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&$D(t),t=n.call(r,e)}return t}function jD(t){return(t=t[UD])instanceof zf?t:null}var GD="__closure_events_fn_"+(1e9*Math.random()>>>0);function HD(t){return"function"==typeof t?t:(t[GD]||(t[GD]=function(e){return t.handleEvent(e)}),t[GD])}function _t(){ki.call(this),this.i=new zf(this),this.P=this,this.I=null}function Rt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new zt(e,t);else if(e instanceof zt)e.target=e.target||t;else{var i=e;sL(e=new zt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Wf(o,r,!0,e)&&i}if(i=Wf(o=e.g=t,r,!0,e)&&i,i=Wf(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Wf(o=e.g=n[s],r,!1,e)&&i}function Wf(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,u=o.ha||o.src;o.ea&&LD(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}kt(_t,ki),_t.prototype[Uc]=!0,_t.prototype.removeEventListener=function(t,e,n,r){cL(this,t,e,n,r)},_t.prototype.M=function(){if(_t.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)qf(n[r]);delete t.g[e],t.h--}}this.I=null},_t.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},_t.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var qD=Q.JSON.stringify;function Une(){var t=fL;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var zD,dL=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new $ne,t=>t.reset());class $ne{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function jne(t){Q.setTimeout(()=>{throw t},0)}function hL(t,e){zD||function Gne(){var t=Q.Promise.resolve(void 0);zD=function(){t.then(Hne)}}(),WD||(zD(),WD=!0),fL.add(t,e)}var WD=!1,fL=new class Bne{constructor(){this.h=this.g=null}add(e,n){const r=dL.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function Hne(){for(var t;t=Une();){try{t.h.call(t.g)}catch(n){jne(n)}var e=dL;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}WD=!1}function Kf(t,e){_t.call(this),this.h=t||1,this.g=e||Q,this.j=qt(this.lb,this),this.l=Date.now()}function KD(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}function QD(t,e,n){if("function"==typeof t)n&&(t=qt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=qt(t.handleEvent,t)}return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function pL(t){t.g=QD(()=>{t.g=null,t.i&&(t.i=!1,pL(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}kt(Kf,_t),(F=Kf.prototype).ca=!1,F.R=null,F.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Rt(this,"tick"),this.ca&&(KD(this),this.start()))}},F.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},F.M=function(){Kf.X.M.call(this),KD(this),delete this.g};class qne extends ki{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:pL(this)}M(){super.M(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bc(t){ki.call(this),this.h=t,this.g={}}kt(Bc,ki);var gL=[];function mL(t,e,n,r){Array.isArray(n)||(n&&(gL[0]=n.toString()),n=gL);for(var i=0;i<n.length;i++){var s=oL(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function yL(t){FD(t.g,function(e,n){this.g.hasOwnProperty(n)&&$D(e)},t),t.g={}}function Qf(){this.g=!0}function ya(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Qne(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return qD(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Bc.prototype.M=function(){Bc.X.M.call(this),yL(this)},Bc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qf.prototype.Aa=function(){this.g=!1},Qf.prototype.info=function(){};var Ns={},_L=null;function Yf(){return _L=_L||new _t}function vL(t){zt.call(this,Ns.Pa,t)}function $c(t){const e=Yf();Rt(e,new vL(e))}function wL(t,e){zt.call(this,Ns.STAT_EVENT,t),this.stat=e}function sn(t){const e=Yf();Rt(e,new wL(e,t))}function IL(t,e){zt.call(this,Ns.Qa,t),this.size=e}function jc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}Ns.Pa="serverreachability",kt(vL,zt),Ns.STAT_EVENT="statevent",kt(wL,zt),Ns.Qa="timingevent",kt(IL,zt);var Zf={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},EL={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function YD(){}function bL(){}YD.prototype.h=null;var JD,Gc={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function ZD(){zt.call(this,"d")}function XD(){zt.call(this,"c")}function Xf(){}function Hc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Bc(this),this.O=Yne,this.T=new Kf(t=kD?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new CL}function CL(){this.i=null,this.g="",this.h=!1}kt(ZD,zt),kt(XD,zt),kt(Xf,YD),Xf.prototype.g=function(){return new XMLHttpRequest},Xf.prototype.i=function(){return{}},JD=new Xf;var Yne=45e3,eb={},Jf={};function tb(t,e,n){t.K=1,t.v=rp(ui(e)),t.s=n,t.P=!0,TL(t,null)}function TL(t,e){t.F=Date.now(),qc(t),t.A=ui(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),FL(n.i,"t",r),t.C=0,n=t.l.H,t.h=new CL,t.g=oV(t.l,n?e:null,!t.s),0<t.N&&(t.L=new qne(qt(t.La,t,t.g),t.N)),mL(t.S,t.g,"readystatechange",t.ib),e=t.H?rL(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),$c(),function zne(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.U,t.s)}function SL(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Da}function AL(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=Zne(t,n),i==Jf){4==e&&(t.o=4,sn(14),r=!1),ya(t.j,t.m,null,"[Incomplete Response]");break}if(i==eb){t.o=4,sn(15),ya(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}ya(t.j,t.m,i,null),nb(t,i)}SL(t)&&i!=Jf&&i!=eb&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,sn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,(e=t.l).g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),lb(e),e.K=!0,sn(11))):(ya(t.j,t.m,n,"[Invalid Chunked Response]"),Os(t),zc(t))}function Zne(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Jf:(n=Number(e.substring(n,r)),isNaN(n)?eb:(r+=1)+n>e.length?Jf:(e=e.substr(r,n),t.C=r+n,e))}function qc(t){t.V=Date.now()+t.O,xL(t,t.O)}function xL(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=jc(qt(t.gb,t),e)}function ep(t){t.B&&(Q.clearTimeout(t.B),t.B=null)}function zc(t){0==t.l.G||t.I||nV(t.l,t)}function Os(t){ep(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,KD(t.T),yL(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function nb(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||rb(n.h,t)))if(!t.J&&rb(n.h,t)&&3==n.G){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break e;cp(n),ap(n)}cb(n),sn(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=jc(qt(n.cb,n),6e3));if(1>=UL(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Fs(n,11)}else if((t.J||n.g==t)&&cp(n),!jf(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.I=c[1],n.ka=c[2];const l=c[3];null!=l&&(n.ma=l,n.j.info("VER="+n.ma));const d=c[4];null!=d&&(n.Ca=d,n.j.info("SVER="+n.Ca));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.J=r=1.5*h,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ib(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.za=g,Ne(r.F,r.D,g))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms"));var o=t;if((r=n).sa=sV(r,r.H?r.ka:null,r.V),o.J){BL(r.h,o);var a=o,u=r.J;u&&a.setTimeout(u),a.B&&(ep(a),qc(a)),r.g=o}else eV(r);0<n.i.length&&up(n)}else"stop"!=c[0]&&"close"!=c[0]||Fs(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Fs(n,7):ub(n):"noop"!=c[0]&&n.l&&n.l.wa(c),n.A=0)}$c()}catch{}}function ML(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Bf(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Jne(t){if(t.oa&&"function"==typeof t.oa)return t.oa();if(!t.W||"function"!=typeof t.W){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Bf(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Xne(t){if(t.W&&"function"==typeof t.W)return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Bf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(F=Hc.prototype).setTimeout=function(t){this.O=t},F.ib=function(t){t=t.target;const e=this.L;e&&3==ci(t)?e.l():this.La(t)},F.La=function(t){try{if(t==this.g)e:{const l=ci(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>l)&&(3!=l||kD||this.g&&(this.h.h||this.g.fa()||KL(this.g)))){this.I||4!=l||7==e||$c(),ep(this);var n=this.g.aa();this.Y=n;t:if(SL(this)){var r=KL(this.g);t="";var i=r.length,s=4==ci(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Os(this),zc(this);var o="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==n,function Wne(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,l,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jf(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,sn(12),Os(this),zc(this);break e}ya(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,nb(this,n)}this.P?(AL(this,l,o),kD&&this.i&&3==l&&(mL(this.S,this.T,"tick",this.hb),this.T.start())):(ya(this.j,this.m,o,null),nb(this,o)),4==l&&Os(this),this.i&&!this.I&&(4==l?nV(this.l,this):(this.i=!1,qc(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,sn(12)):(this.o=0,sn(13)),Os(this),zc(this)}}}catch{}},F.hb=function(){if(this.g){var t=ci(this.g),e=this.g.fa();this.C<e.length&&(ep(this),AL(this,t,e),this.i&&4!=t&&qc(this))}},F.cancel=function(){this.I=!0,Os(this)},F.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(function Kne(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&($c(),sn(17)),Os(this),this.o=2,zc(this)):xL(this,this.V-t)};var kL=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ps(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ps){this.h=void 0!==e?e:t.h,tp(this,t.j),this.s=t.s,this.g=t.g,np(this,t.m),this.l=t.l,e=t.i;var n=new Qc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),RL(this,n),this.o=t.o}else t&&(n=String(t).match(kL))?(this.h=!!e,tp(this,n[1]||"",!0),this.s=Wc(n[2]||""),this.g=Wc(n[3]||"",!0),np(this,n[4]),this.l=Wc(n[5]||"",!0),RL(this,n[6]||"",!0),this.o=Wc(n[7]||"")):(this.h=!!e,this.i=new Qc(null,this.h))}function ui(t){return new Ps(t)}function tp(t,e,n){t.j=n?Wc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function np(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function RL(t,e,n){e instanceof Qc?(t.i=e,function ore(t,e){e&&!t.j&&(Ri(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(OL(this,r),FL(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Kc(e,ire)),t.i=new Qc(e,t.h))}function Ne(t,e,n){t.i.set(e,n)}function rp(t){return Ne(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Wc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Kc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,tre),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function tre(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ps.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Kc(e,NL,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Kc(e,NL,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Kc(n,"/"==n.charAt(0)?rre:nre,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Kc(n,sre)),t.join("")};var NL=/[#\/\?@]/g,nre=/[#\?:]/g,rre=/[#\?]/g,ire=/[#\?@]/g,sre=/#/g;function Qc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ri(t){t.g||(t.g=new Map,t.h=0,t.i&&function ere(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function OL(t,e){Ri(t),e=_a(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function PL(t,e){return Ri(t),e=_a(t,e),t.g.has(e)}function FL(t,e,n){OL(t,e),0<n.length&&(t.i=null,t.g.set(_a(t,e),AD(n)),t.h+=n.length)}function _a(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function LL(t){this.l=t||ure,t=Q.PerformanceNavigationTiming?0<(t=Q.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Q.g&&Q.g.Ga&&Q.g.Ga()&&Q.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(F=Qc.prototype).add=function(t,e){Ri(this),this.i=null,t=_a(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},F.forEach=function(t,e){Ri(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},F.oa=function(){Ri(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},F.W=function(t){Ri(this);let e=[];if("string"==typeof t)PL(this,t)&&(e=e.concat(this.g.get(_a(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},F.set=function(t,e){return Ri(this),this.i=null,PL(this,t=_a(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},F.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},F.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var ure=10;function VL(t){return!!t.h||!!t.g&&t.g.size>=t.j}function UL(t){return t.h?1:t.g?t.g.size:0}function rb(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function ib(t,e){t.g?t.g.add(e):t.h=e}function BL(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function $L(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return AD(t.i)}function sb(){}function cre(){this.g=new sb}function lre(t,e,n){const r=n||"";try{ML(t,function(i,s){let o=i;Lc(i)&&(o=qD(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ip(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Yc(t){this.l=t.ac||null,this.j=t.jb||!1}function sp(t,e){_t.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=ob,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}LL.prototype.cancel=function(){if(this.i=$L(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},sb.prototype.stringify=function(t){return Q.JSON.stringify(t,void 0)},sb.prototype.parse=function(t){return Q.JSON.parse(t,void 0)},kt(Yc,YD),Yc.prototype.g=function(){return new sp(this.l,this.j)},Yc.prototype.i=function(t){return function(){return t}}({}),kt(sp,_t);var ob=0;function jL(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}function Zc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Xc(t)}function Xc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(F=sp.prototype).open=function(t,e){if(this.readyState!=ob)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Xc(this)},F.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Q).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},F.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zc(this)),this.readyState=ob},F.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Xc(this)),this.g&&(this.readyState=3,Xc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jL(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))},F.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Zc(this):Xc(this),3==this.readyState&&jL(this)}},F.Va=function(t){this.g&&(this.response=this.responseText=t,Zc(this))},F.Ua=function(t){this.g&&(this.response=t,Zc(this))},F.ga=function(){this.g&&Zc(this)},F.setRequestHeader=function(t,e){this.v.append(t,e)},F.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},F.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(sp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var hre=Q.JSON.parse;function Ge(t){_t.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=GL,this.K=this.L=!1}kt(Ge,_t);var GL="",fre=/^https?$/i,pre=["POST","PUT"];function HL(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,qL(t),op(t)}function qL(t){t.D||(t.D=!0,Rt(t,"complete"),Rt(t,"error"))}function zL(t){if(t.h&&typeof TD<"u"&&(!t.C[1]||4!=ci(t)||2!=t.aa()))if(t.v&&4==ci(t))QD(t.Ha,0,t);else if(Rt(t,"readystatechange"),4==ci(t)){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(kL)[1]||null;if(!i&&Q.self&&Q.self.location){var s=Q.self.location.protocol;i=s.substr(0,s.length-1)}r=!fre.test(i?i.toLowerCase():"")}n=r}if(n)Rt(t,"complete"),Rt(t,"success");else{t.m=6;try{var o=2<ci(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",qL(t)}}finally{op(t)}}}function op(t,e){if(t.g){WL(t);const n=t.g,r=t.C[0]?Uf:null;t.g=null,t.C=null,e||Rt(t,"ready");try{n.onreadystatechange=r}catch{}}}function WL(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Q.clearTimeout(t.A),t.A=null)}function ci(t){return t.g?t.g.readyState:0}function KL(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case GL:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function QL(t){let e="";return FD(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function ab(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=QL(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ne(t,e,n))}function Jc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function YL(t){this.Ca=0,this.i=[],this.j=new Qf,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Jc("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Jc("baseRetryDelayMs",5e3,t),this.bb=Jc("retryDelaySeedMs",1e4,t),this.$a=Jc("forwardChannelMaxRetries",2,t),this.ta=Jc("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new LL(t&&t.concurrentRequestLimit),this.Fa=new cre,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function ub(t){if(ZL(t),3==t.G){var e=t.U++,n=ui(t.F);Ne(n,"SID",t.I),Ne(n,"RID",e),Ne(n,"TYPE","terminate"),el(t,n),(e=new Hc(t,t.j,e,void 0)).K=2,e.v=rp(ui(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon&&(n=Q.navigator.sendBeacon(e.v.toString(),"")),!n&&Q.Image&&((new Image).src=e.v,n=!0),n||(e.g=oV(e.l,null),e.g.da(e.v)),e.F=Date.now(),qc(e)}iV(t)}function ap(t){t.g&&(lb(t),t.g.cancel(),t.g=null)}function ZL(t){ap(t),t.u&&(Q.clearTimeout(t.u),t.u=null),cp(t),t.h.cancel(),t.m&&("number"==typeof t.m&&Q.clearTimeout(t.m),t.m=null)}function up(t){VL(t.h)||t.m||(t.m=!0,hL(t.Ja,t),t.C=0)}function XL(t,e){var n;n=e?e.m:t.U++;const r=ui(t.F);Ne(r,"SID",t.I),Ne(r,"RID",n),Ne(r,"AID",t.T),el(t,r),t.o&&t.s&&ab(r,t.o,t.s),n=new Hc(t,t.j,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=JL(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),ib(t.h,n),tb(n,r,e)}function el(t,e){t.ia&&FD(t.ia,function(n,r){Ne(e,r,n)}),t.l&&ML({},function(n,r){Ne(e,r,n)})}function JL(t,e,n){n=Math.min(t.i.length,n);var r=t.l?qt(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{lre(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function eV(t){t.g||t.u||(t.Z=1,hL(t.Ia,t),t.A=0)}function cb(t){return!(t.g||t.u||3<=t.A||(t.Z++,t.u=jc(qt(t.Ia,t),rV(t,t.A)),t.A++,0))}function lb(t){null!=t.B&&(Q.clearTimeout(t.B),t.B=null)}function tV(t){t.g=new Hc(t,t.j,"rpc",t.Z),null===t.o&&(t.g.H=t.s),t.g.N=0;var e=ui(t.sa);Ne(e,"RID","rpc"),Ne(e,"SID",t.I),Ne(e,"CI",t.L?"0":"1"),Ne(e,"AID",t.T),Ne(e,"TYPE","xmlhttp"),el(t,e),t.o&&t.s&&ab(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=rp(ui(e)),n.s=null,n.P=!0,TL(n,t)}function cp(t){null!=t.v&&(Q.clearTimeout(t.v),t.v=null)}function nV(t,e){var n=null;if(t.g==e){cp(t),lb(t),t.g=null;var r=2}else{if(!rb(t.h,e))return;n=e.D,BL(t.h,e),r=1}if(0!=t.G)if(t.pa=e.Y,e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Rt(r=Yf(),new IL(r,n)),up(t)}else eV(t);else if(3==(i=e.o)||0==i&&0<t.pa||!(1==r&&function mre(t,e){return!(UL(t.h)>=t.h.j-(t.m?1:0)||(t.m?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.C>=(t.Za?0:t.$a)||(t.m=jc(qt(t.Ja,t,e),rV(t,t.C)),t.C++,0)))}(t,e)||2==r&&cb(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Fs(t,5);break;case 4:Fs(t,10);break;case 3:Fs(t,6);break;default:Fs(t,2)}}function rV(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Fs(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var r=qt(t.kb,t);n||(n=new Ps("//www.google.com/images/cleardot.gif"),Q.location&&"http"==Q.location.protocol||tp(n,"https"),rp(n)),function dre(t,e){const n=new Qf;if(Q.Image){const r=new Image;r.onload=$f(ip,n,r,"TestLoadImage: loaded",!0,e),r.onerror=$f(ip,n,r,"TestLoadImage: error",!1,e),r.onabort=$f(ip,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=$f(ip,n,r,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else sn(2);t.G=0,t.l&&t.l.va(e),iV(t),ZL(t)}function iV(t){if(t.G=0,t.la=[],t.l){const e=$L(t.h);(0!=e.length||0!=t.i.length)&&(ZF(t.la,e),ZF(t.la,t.i),t.h.i.length=0,AD(t.i),t.i.length=0),t.l.ua()}}function sV(t,e,n){var r=n instanceof Ps?ui(n):new Ps(n,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),np(r,r.m);else{var i=Q.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ps(null,void 0);r&&tp(s,r),e&&(s.g=e),i&&np(s,i),n&&(s.l=n),r=s}return e=t.za,(n=t.D)&&e&&Ne(r,n,e),Ne(r,"VER",t.ma),el(t,r),r}function oV(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ge(n&&t.Da&&!t.ra?new Yc({jb:!0}):t.ra)).Ka(t.H),e}function aV(){}function lp(){if(ma&&!(10<=Number(Nne)))throw Error("Environmental error: no available transport.")}function Nn(t,e){_t.call(this),this.g=new YL(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!jf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!jf(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new va(this)}function uV(t){ZD.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function cV(){XD.call(this),this.status=1}function va(t){this.g=t}(F=Ge.prototype).Ka=function(t){this.L=t},F.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():JD.g(),this.C=function DL(t){return t.h||(t.h=t.i())}(this.u?this.u:JD),this.g.onreadystatechange=qt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void HL(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Q.FormData&&t instanceof Q.FormData,!(0<=YF(pre,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{WL(this),0<this.B&&((this.K=function gre(t){return ma&&function Rne(){return function Ane(t){var e=kne;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=XF(String(Hf)).split("."),n=XF("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=xD(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||xD(0==i[2].length,0==s[2].length)||xD(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qt(this.qa,this)):this.A=QD(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){HL(this,s)}},F.qa=function(){typeof TD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rt(this,"timeout"),this.abort(8))},F.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Rt(this,"complete"),Rt(this,"abort"),op(this))},F.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),op(this,!0)),Ge.X.M.call(this)},F.Ha=function(){this.s||(this.F||this.v||this.l?zL(this):this.fb())},F.fb=function(){zL(this)},F.aa=function(){try{return 2<ci(this)?this.g.status:-1}catch{return-1}},F.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},F.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),hre(e)}},F.Ea=function(){return this.m},F.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(F=YL.prototype).ma=8,F.G=1,F.Ja=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Hc(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=rL(s),sL(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=JL(this,i,e),Ne(n=ui(this.F),"RID",t),Ne(n,"CVER",22),this.D&&Ne(n,"X-HTTP-Session-Id",this.D),el(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(QL(s)))+"&"+e:this.o&&ab(n,this.o,s)),ib(this.h,i),this.Ya&&Ne(n,"TYPE","init"),this.O?(Ne(n,"$req",e),Ne(n,"SID","null"),i.Z=!0,tb(i,n,null)):tb(i,n,e),this.G=2}}else 3==this.G&&(t?XL(this,t):0==this.i.length||VL(this.h)||XL(this))},F.Ia=function(){if(this.u=null,tV(this),this.$&&!(this.K||null==this.g||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=jc(qt(this.eb,this),t)}},F.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,sn(10),ap(this),tV(this))},F.cb=function(){null!=this.v&&(this.v=null,ap(this),cb(this),sn(19))},F.kb=function(t){t?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))},(F=aV.prototype).xa=function(){},F.wa=function(){},F.va=function(){},F.ua=function(){},F.Ra=function(){},lp.prototype.g=function(t,e){return new Nn(t,e)},kt(Nn,_t),Nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;sn(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=sV(t,null,t.V),up(t)},Nn.prototype.close=function(){ub(this.g)},Nn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=qD(t),t=n);e.i.push(new class{constructor(t,e){this.h=t,this.g=e}}(e.ab++,t)),3==e.G&&up(e)},Nn.prototype.M=function(){this.g.l=null,delete this.j,ub(this.g),delete this.g,Nn.X.M.call(this)},kt(uV,ZD),kt(cV,XD),kt(va,aV),va.prototype.xa=function(){Rt(this.g,"a")},va.prototype.wa=function(t){Rt(this.g,new uV(t))},va.prototype.va=function(t){Rt(this.g,new cV)},va.prototype.ua=function(){Rt(this.g,"b")},lp.prototype.createWebChannel=lp.prototype.g,Nn.prototype.send=Nn.prototype.u,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,Zf.NO_ERROR=0,Zf.TIMEOUT=8,Zf.HTTP_ERROR=6,EL.COMPLETE="complete",bL.EventType=Gc,Gc.OPEN="a",Gc.CLOSE="b",Gc.ERROR="c",Gc.MESSAGE="d",_t.prototype.listen=_t.prototype.N,Ge.prototype.listenOnce=Ge.prototype.O,Ge.prototype.getLastError=Ge.prototype.Oa,Ge.prototype.getLastErrorCode=Ge.prototype.Ea,Ge.prototype.getStatus=Ge.prototype.aa,Ge.prototype.getResponseJson=Ge.prototype.Sa,Ge.prototype.getResponseText=Ge.prototype.fa,Ge.prototype.send=Ge.prototype.da,Ge.prototype.setWithCredentials=Ge.prototype.Ka;var yre=ai.createWebChannelTransport=function(){return new lp},_re=ai.getStatEventTarget=function(){return Yf()},db=ai.ErrorCode=Zf,vre=ai.EventType=EL,wre=ai.Event=Ns,lV=ai.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Ire=ai.FetchXmlHttpFactory=Yc,dp=ai.WebChannel=bL,Ere=ai.XhrIo=Ge;const dV="@firebase/firestore";class vt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vt.UNAUTHENTICATED=new vt(null),vt.GOOGLE_CREDENTIALS=new vt("google-credentials-uid"),vt.FIRST_PARTY=new vt("first-party-uid"),vt.MOCK_USER=new vt("mock-user");let wa="9.16.0";const Ni=new aa("@firebase/firestore");function hb(){return Ni.logLevel}function T(t,...e){if(Ni.logLevel<=he.DEBUG){const n=e.map(fb);Ni.debug(`Firestore (${wa}): ${t}`,...n)}}function Ye(t,...e){if(Ni.logLevel<=he.ERROR){const n=e.map(fb);Ni.error(`Firestore (${wa}): ${t}`,...n)}}function Ia(t,...e){if(Ni.logLevel<=he.WARN){const n=e.map(fb);Ni.warn(`Firestore (${wa}): ${t}`,...n)}}function fb(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function O(t="Unexpected state"){const e=`FIRESTORE (${wa}) INTERNAL ASSERTION FAILED: `+t;throw Ye(e),new Error(e)}function P(t,e){t||O()}function M(t,e){return t}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class hV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dre{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vt.UNAUTHENTICATED))}shutdown(){}}class bre{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Cre{constructor(e){this.t=e,this.currentUser=vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new pt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new pt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(m(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new pt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(P("string"==typeof r.accessToken),new hV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return P(null===e||"string"==typeof e),new vt(e)}}class Tre{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=vt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(P(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Sre{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new Tre(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Are{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{null!=s.error&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,T("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(P("string"==typeof n.token),this.A=n.token,new fV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function xre(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class pV{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=xre(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Y(t,e){return t<e?-1:t>e?1:0}function Ea(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Ue{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ue.fromMillis(Date.now())}static fromDate(e){return Ue.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ue(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class U{constructor(e){this.timestamp=e}static fromTimestamp(e){return new U(e)}static min(){return new U(new Ue(0,0))}static max(){return new U(new Ue(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class tl{constructor(e,n,r){void 0===n?n=0:n>e.length&&O(),void 0===r?r=e.length-n:r>e.length-n&&O(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===tl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof tl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class fe extends tl{construct(e,n,r){return new fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new fe(n)}static emptyPath(){return new fe([])}}const Mre=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends tl{construct(e,n,r){return new Ze(e,n,r)}static isValidIdentifier(e){return Mre.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ze(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new b(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new b(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new b(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new b(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(n)}static emptyPath(){return new Ze([])}}class x{constructor(e){this.path=e}static fromPath(e){return new x(fe.fromString(e))}static fromName(e){return new x(fe.fromString(e).popFirst(5))}static empty(){return new x(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new x(new fe(e.slice()))}}function yV(t){return new On(t.readTime,t.key,-1)}class On{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new On(U.min(),x.empty(),-1)}static max(){return new On(U.max(),x.empty(),-1)}}function gb(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=x.comparator(t.documentKey,e.documentKey),0!==n?n:Y(t.largestBatchId,e.largestBatchId))}const _V="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Nre{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Oi(t){return mb.apply(this,arguments)}function mb(){return mb=m(function*(t){if(t.code!==w.FAILED_PRECONDITION||t.message!==_V)throw t;T("LocalStore","Unexpectedly lost primary lease")}),mb.apply(this,arguments)}class _{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new _((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof _?n:_.resolve(n)}catch(n){return _.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):_.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):_.reject(n)}static resolve(e){return new _((n,r)=>{n(e)})}static reject(e){return new _((n,r)=>{r(e)})}static waitFor(e){return new _((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=_.resolve(!1);for(const r of e)n=n.next(i=>i?_.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new _((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new _((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Pi(t){return"IndexedDbTransactionError"===t.name}let Pn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ct&&this.ct(n),n}}return t.at=-1,t})();class Vre{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Us{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Us("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Us&&e.projectId===this.projectId&&e.database===this.database}}function wV(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function IV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function il(t){return null==t}function sl(t){return 0===t&&1/t==-1/0}class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new gt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Y(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const Ure=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fi(t){if(P(!!t),"string"==typeof t){let e=0;const n=Ure.exec(t);if(P(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function $s(t){return"string"==typeof t?gt.fromBase64String(t):gt.fromUint8Array(t)}function _b(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function DV(t){const e=t.mapValue.fields.__previous_value__;return _b(e)?DV(e):e}function ol(t){const e=Fi(t.mapValue.fields.__local_write_time__.timestampValue);return new Ue(e.seconds,e.nanos)}const Li_mapValue={fields:{__type__:{stringValue:"__max__"}}};function js(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_b(t)?4:SV(t)?9007199254740991:10:O()}function Ar(t,e){if(t===e)return!0;const n=js(t);if(n!==js(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ol(t).isEqual(ol(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Fi(r.timestampValue),o=Fi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,$s(t.bytesValue).isEqual($s(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return He(r.geoPointValue.latitude)===He(i.geoPointValue.latitude)&&He(r.geoPointValue.longitude)===He(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return He(r.integerValue)===He(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=He(r.doubleValue),o=He(i.doubleValue);return s===o?sl(s)===sl(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ea(t.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(wV(s)!==wV(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Ar(s[a],o[a])))return!1;return!0}(t,e);default:return O()}var i}function al(t,e){return void 0!==(t.values||[]).find(n=>Ar(n,e))}function Vi(t,e){if(t===e)return 0;const n=js(t),r=js(e);if(n!==r)return Y(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Y(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=He(i.integerValue||i.doubleValue),a=He(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return bV(t.timestampValue,e.timestampValue);case 4:return bV(ol(t),ol(e));case 5:return Y(t.stringValue,e.stringValue);case 6:return function(i,s){const o=$s(i),a=$s(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=Y(o[u],a[u]);if(0!==c)return c}return Y(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Y(He(i.latitude),He(s.latitude));return 0!==o?o:Y(He(i.longitude),He(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Vi(o[u],a[u]);if(c)return c}return Y(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Li_mapValue&&s===Li_mapValue)return 0;if(i===Li_mapValue)return 1;if(s===Li_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=Y(a[l],c[l]);if(0!==d)return d;const h=Vi(o[a[l]],u[c[l]]);if(0!==h)return h}return Y(a.length,c.length)}(t.mapValue,e.mapValue);default:throw O()}}function bV(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Y(t,e);const n=Fi(t),r=Fi(e),i=Y(n.seconds,r.seconds);return 0!==i?i:Y(n.nanos,r.nanos)}function Da(t){return vb(t)}function vb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Fi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?$s(t.bytesValue).toBase64():"referenceValue"in t?x.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=vb(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${vb(r.fields[a])}`;return s+"}"}(t.mapValue):O();var e}function wb(t){return!!t&&"integerValue"in t}function ul(t){return!!t&&"arrayValue"in t}function CV(t){return!!t&&"nullValue"in t}function TV(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mp(t){return!!t&&"mapValue"in t}function cl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Bs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function SV(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ui{constructor(e,n){this.position=e,this.inclusive=n}}function MV(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?x.comparator(x.fromName(o.referenceValue),n.key):Vi(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function kV(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ar(t.position[n],e.position[n]))return!1;return!0}class RV{}class ue extends RV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new jre(e,n,r):"array-contains"===n?new qre(e,r):"in"===n?new VV(e,r):"not-in"===n?new zre(e,r):"array-contains-any"===n?new Wre(e,r):new ue(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Gre(e,r):new Hre(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Vi(n,this.value)):null!==n&&js(this.value)===js(n)&&this.matchesComparison(Vi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class we extends RV{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new we(e,n)}matches(e){return ba(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return null!==e?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ba(t){return"and"===t.op}function Eb(t){return function NV(t){for(const e of t.filters)if(e instanceof we)return!1;return!0}(t)&&ba(t)}function Db(t){if(t instanceof ue)return t.field.canonicalString()+t.op.toString()+Da(t.value);if(Eb(t))return t.filters.map(e=>Db(e)).join(",");{const e=t.filters.map(n=>Db(n)).join(",");return`${t.op}(${e})`}}function OV(t,e){return t instanceof ue?(n=t,(r=e)instanceof ue&&n.op===r.op&&n.field.isEqual(r.field)&&Ar(n.value,r.value)):t instanceof we?function(n,r){return r instanceof we&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&OV(s,r.filters[o]),!0)}(t,e):void O();var n,r}function FV(t){return t instanceof ue?function(e){return`${e.field.canonicalString()} ${e.op} ${Da(e.value)}`}(t):t instanceof we?function(e){return e.op.toString()+" {"+e.getFilters().map(FV).join(" ,")+"}"}(t):"Filter"}class jre extends ue{constructor(e,n,r){super(e,n,r),this.key=x.fromName(r.referenceValue)}matches(e){const n=x.comparator(e.key,this.key);return this.matchesComparison(n)}}class Gre extends ue{constructor(e,n){super(e,"in",n),this.keys=LV(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Hre extends ue{constructor(e,n){super(e,"not-in",n),this.keys=LV(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function LV(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>x.fromName(r.referenceValue))}class qre extends ue{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ul(n)&&al(n.arrayValue,this.value)}}class VV extends ue{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&al(this.value.arrayValue,n)}}class zre extends ue{constructor(e,n){super(e,"not-in",n)}matches(e){if(al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!al(this.value.arrayValue,n)}}class Wre extends ue{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ul(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>al(this.value.arrayValue,r))}}class Ca{constructor(e,n="asc"){this.field=e,this.dir=n}}function Kre(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class qe{constructor(e,n){this.comparator=e,this.root=n||Nt.EMPTY}insert(e,n){return new qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yp(this.root,e,this.comparator,!1)}getReverseIterator(){return new yp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yp(this.root,e,this.comparator,!0)}}class yp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Nt.RED,this.left=i??Nt.EMPTY,this.right=s??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Nt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Nt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();const e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1,Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Nt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ie{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new UV(this.data.getIterator())}getIteratorFrom(e){return new UV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ie)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ie(this.comparator);return n.data=e,n}}class UV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class yn{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new yn([])}unionWith(e){let n=new Ie(Ze.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ea(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Ot{constructor(e){this.value=e}static empty(){return new Ot({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!mp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cl(n)}setAll(e){let n=Ze.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=cl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());mp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];mp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ot(cl(this.value))}}function BV(t){const e=[];return Bs(t.fields,(n,r)=>{const i=new Ze([n]);if(mp(r)){const s=BV(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new yn(e)}class xe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new xe(e,0,U.min(),U.min(),U.min(),Ot.empty(),0)}static newFoundDocument(e,n,r,i){return new xe(e,1,n,U.min(),r,i,0)}static newNoDocument(e,n){return new xe(e,2,n,U.min(),U.min(),Ot.empty(),0)}static newUnknownDocument(e,n){return new xe(e,3,n,U.min(),U.min(),Ot.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(U.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ot.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ot.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=U.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qre{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function bb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Qre(t,e,n,r,i,s,o)}function Hs(t){const e=M(t);if(null===e.ft){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Db(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),il(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Da(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Da(r)).join(",")),e.ft=n}return e.ft}function ll(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Kre(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!OV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kV(t.startAt,e.startAt)&&kV(t.endAt,e.endAt)}function _p(t){return x.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class li{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.dt=null,this._t=null}}function Sa(t){return new li(t)}function HV(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function qs(t){const e=M(t);if(null===e.dt){e.dt=[];const n=function wp(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function Cb(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.dt.push(new Ca(n)),e.dt.push(new Ca(Ze.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Ca(Ze.keyField(),s))}}}return e.dt}function on(t){const e=M(t);if(!e._t)if("F"===e.limitType)e._t=bb(e.path,e.collectionGroup,qs(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of qs(e))n.push(new Ca(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Ui(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ui(e.startAt.position,e.startAt.inclusive):null;e._t=bb(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Ip(t,e,n){return new li(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dl(t,e){return ll(on(t),on(e))&&t.limitType===e.limitType}function qV(t){return`${Hs(on(t))}|lt:${t.limitType}`}function Ab(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>FV(r)).join(", ")}]`),il(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Da(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Da(r)).join(",")),`Target(${n})`}(on(t))}; limitType=${t.limitType})`}function xb(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):x.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of qs(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=MV(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,qs(n),r)||n.endAt&&!function(i,s,o){const a=MV(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,qs(n),r)));var n,r}function WV(t){return(e,n)=>{let r=!1;for(const i of qs(t)){const s=Yre(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Yre(t,e,n){const r=t.field.isKeyField()?x.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Vi(a,u):O()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return O()}}function KV(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sl(e)?"-0":e}}function QV(t){return{integerValue:""+t}}function YV(t,e){return function EV(t){return"number"==typeof t&&Number.isInteger(t)&&!sl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?QV(e):KV(t,e)}class Ep{constructor(){this._=void 0}}function Zre(t,e,n){return t instanceof Aa?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof zs?XV(t,e):t instanceof Ws?JV(t,e):function(r,i){const s=ZV(r,i),o=eU(s)+eU(r.gt);return wb(s)&&wb(r.gt)?QV(o):KV(r.yt,o)}(t,e)}function Xre(t,e,n){return t instanceof zs?XV(t,e):t instanceof Ws?JV(t,e):n}function ZV(t,e){return t instanceof xa?wb(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Aa extends Ep{}class zs extends Ep{constructor(e){super(),this.elements=e}}function XV(t,e){const n=tU(e);for(const r of t.elements)n.some(i=>Ar(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ws extends Ep{constructor(e){super(),this.elements=e}}function JV(t,e){let n=tU(e);for(const r of t.elements)n=n.filter(i=>!Ar(i,r));return{arrayValue:{values:n}}}class xa extends Ep{constructor(e,n){super(),this.yt=e,this.gt=n}}function eU(t){return He(t.integerValue||t.doubleValue)}function tU(t){return ul(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class eie{constructor(e,n){this.version=e,this.transformResults=n}}class Oe{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Oe}static exists(e){return new Oe(void 0,e)}static updateTime(e){return new Oe(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dp(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class bp{}function nU(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new ka(t.key,Oe.none()):new Ma(t.key,t.data,Oe.none());{const n=t.data,r=Ot.empty();let i=new Ie(Ze.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new di(t.key,r,new yn(i.toArray()),Oe.none())}}function tie(t,e,n){t instanceof Ma?function(r,i,s){const o=r.value.clone(),a=sU(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof di?function(r,i,s){if(!Dp(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=sU(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(iU(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function fl(t,e,n,r){return t instanceof Ma?function(i,s,o,a){if(!Dp(i.precondition,s))return o;const u=i.value.clone(),c=oU(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof di?function(i,s,o,a){if(!Dp(i.precondition,s))return o;const u=oU(i.fieldTransforms,a,s),c=s.data;return c.setAll(iU(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,Dp(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function nie(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=ZV(r.transform,i||null);null!=s&&(null===n&&(n=Ot.empty()),n.set(r.field,s))}return n||null}function rU(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Ea(n,r,(i,s)=>function Jre(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof zs&&r instanceof zs||n instanceof Ws&&r instanceof Ws?Ea(n.elements,r.elements,Ar):n instanceof xa&&r instanceof xa?Ar(n.gt,r.gt):n instanceof Aa&&r instanceof Aa);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Ma extends bp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class di extends bp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function iU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function sU(t,e,n){const r=new Map;P(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Xre(o,a,n[i]))}return r}function oU(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Zre(s,o,e))}return r}class ka extends bp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mb extends bp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rie{constructor(e){this.count=e}}var st,pe;function aU(t){switch(t){default:return O();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function uU(t){if(void 0===t)return Ye("GRPC error has no .code"),w.UNKNOWN;switch(t){case st.OK:return w.OK;case st.CANCELLED:return w.CANCELLED;case st.UNKNOWN:return w.UNKNOWN;case st.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case st.INTERNAL:return w.INTERNAL;case st.UNAVAILABLE:return w.UNAVAILABLE;case st.UNAUTHENTICATED:return w.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case st.NOT_FOUND:return w.NOT_FOUND;case st.ALREADY_EXISTS:return w.ALREADY_EXISTS;case st.PERMISSION_DENIED:return w.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case st.ABORTED:return w.ABORTED;case st.OUT_OF_RANGE:return w.OUT_OF_RANGE;case st.UNIMPLEMENTED:return w.UNIMPLEMENTED;case st.DATA_LOSS:return w.DATA_LOSS;default:return O()}}(pe=st||(st={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";class Bi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return IV(this.inner)}size(){return this.innerSize}}const iie=new qe(x.comparator);function _n(){return iie}const cU=new qe(x.comparator);function pl(...t){let e=cU;for(const n of t)e=e.insert(n.key,n);return e}function lU(t){let e=cU;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xr(){return gl()}function dU(){return gl()}function gl(){return new Bi(t=>t.toString(),(t,e)=>t.isEqual(e))}const sie=new qe(x.comparator),oie=new Ie(x.comparator);function ee(...t){let e=oie;for(const n of t)e=e.add(n);return e}const aie=new Ie(Y);function Cp(){return aie}class ml{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,yl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ml(U.min(),i,Cp(),_n(),ee())}}class yl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yl(r,n,ee(),ee(),ee())}}class Tp{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class hU{constructor(e,n){this.targetId=e,this.Et=n}}class fU{constructor(e,n,r=gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class pU{constructor(){this.At=0,this.Rt=mU(),this.bt=gt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=ee(),n=ee(),r=ee();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:O()}}),new yl(this.bt,this.Pt,e,n,r)}xt(){this.vt=!1,this.Rt=mU()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class uie{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=_n(),this.qt=gU(),this.Ut=new Ie(Y)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const r=this.Wt(n);switch(e.state){case 0:this.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:O()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.zt(i)&&n(i)})}Jt(e){const n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){const s=i.target;if(_p(s))if(0===r){const o=new x(s.path);this.Qt(n,o,xe.newNoDocument(o,U.min()))}else P(1===r);else this.Xt(n)!==r&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&_p(a.target)){const u=new x(a.target.path);null!==this.Lt.get(u)||this.te(o,u)||this.Qt(o,u,xe.newNoDocument(u,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=ee();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Yt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new ml(e,n,this.Ut,this.Lt,r);return this.Lt=_n(),this.qt=gU(),this.Ut=new Ie(Y),i}Gt(e,n){if(!this.zt(e))return;const r=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new pU,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new Ie(Y),this.qt=this.qt.insert(e,n)),n}zt(e){const n=null!==this.Yt(e);return n||T("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new pU),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function gU(){return new qe(x.comparator)}function mU(){return new qe(x.comparator)}const cie={asc:"ASCENDING",desc:"DESCENDING"},lie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},die={and:"AND",or:"OR"};class hie{constructor(e,n){this.databaseId=e,this.wt=n}}function Ra(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yU(t,e){return t.wt?e.toBase64():e.toUint8Array()}function fie(t,e){return Ra(t,e.toTimestamp())}function Xe(t){return P(!!t),U.fromTimestamp(function(e){const n=Fi(e);return new Ue(n.seconds,n.nanos)}(t))}function kb(t,e){return(n=t,new fe(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function _U(t){const e=fe.fromString(t);return P(SU(e)),e}function _l(t,e){return kb(t.databaseId,e.path)}function Mr(t,e){const n=_U(e);if(n.get(1)!==t.databaseId.projectId)throw new b(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new b(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new x(wU(n))}function Rb(t,e){return kb(t.databaseId,e)}function vl(t){return new fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wU(t){return P(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function IU(t,e,n){return{name:_l(t,e),fields:n.value.mapValue.fields}}function DU(t,e){return{documents:[Rb(t,e.path)]}}function Ob(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Rb(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Rb(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return TU(we.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Na((l=c).field),direction:_ie(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(c=e.limit,t.wt||il(c)?c:{value:c});var c,a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function bU(t){let e=function vU(t){const e=_U(t);return 4===e.length?fe.emptyPath():wU(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){P(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=CU(l);return d instanceof we&&Eb(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Ca(Oa((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,il(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Ui((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Ui(l.values||[],!l.before)}(n.endAt)),function GV(t,e,n,r,i,s,o,a){return new li(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function CU(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Oa(e.unaryFilter.field);return ue.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Oa(e.unaryFilter.field);return ue.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Oa(e.unaryFilter.field);return ue.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Oa(e.unaryFilter.field);return ue.create(s,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(t):void 0!==t.fieldFilter?function(e){return ue.create(Oa(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return we.create(e.compositeFilter.filters.map(n=>CU(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return O()}}(e.compositeFilter.op))}(t):O()}function _ie(t){return cie[t]}function vie(t){return lie[t]}function wie(t){return die[t]}function Na(t){return{fieldPath:t.canonicalString()}}function Oa(t){return Ze.fromServerFormat(t.fieldPath)}function TU(t){return t instanceof ue?function(e){if("=="===e.op){if(TV(e.value))return{unaryFilter:{field:Na(e.field),op:"IS_NAN"}};if(CV(e.value))return{unaryFilter:{field:Na(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(TV(e.value))return{unaryFilter:{field:Na(e.field),op:"IS_NOT_NAN"}};if(CV(e.value))return{unaryFilter:{field:Na(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Na(e.field),op:vie(e.op),value:e.value}}}(t):t instanceof we?function(e){const n=e.getFilters().map(r=>TU(r));return 1===n.length?n[0]:{compositeFilter:{op:wie(e.op),filters:n}}}(t):O()}function Iie(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function SU(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Fb{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&tie(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=dU();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=nU(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(U.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ee())}isEqual(e){return this.batchId===e.batchId&&Ea(this.mutations,e.mutations,(n,r)=>rU(n,r))&&Ea(this.baseMutations,e.baseMutations,(n,r)=>rU(n,r))}}class Lb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){P(e.mutations.length===r.length);let i=sie;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Lb(e,n,r,i)}}class Vb{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class $i{constructor(e,n,r,i,s=U.min(),o=U.min(),a=gt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new $i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class OU{constructor(e){this.ie=e}}function Ub(t){const e=bU({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ip(e,e.limit,"L"):e}class Zs{constructor(){}ue(e,n){this.ce(e,n),n.ae()}ce(e,n){if("nullValue"in e)this.he(n,5);else if("booleanValue"in e)this.he(n,10),n.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(n,15),n.le(He(e.integerValue));else if("doubleValue"in e){const r=He(e.doubleValue);isNaN(r)?this.he(n,13):(this.he(n,15),sl(r)?n.le(0):n.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(n,20),"string"==typeof r?n.fe(r):(n.fe(`${r.seconds||""}`),n.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,n),this._e(n);else if("bytesValue"in e)this.he(n,30),n.we($s(e.bytesValue)),this._e(n);else if("referenceValue"in e)this.me(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(n,45),n.le(r.latitude||0),n.le(r.longitude||0)}else"mapValue"in e?SV(e)?this.he(n,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,n),this._e(n)):"arrayValue"in e?(this.ye(e.arrayValue,n),this._e(n)):O()}de(e,n){this.he(n,25),this.pe(e,n)}pe(e,n){n.fe(e)}ge(e,n){const r=e.fields||{};this.he(n,55);for(const i of Object.keys(r))this.de(i,n),this.ce(r[i],n)}ye(e,n){const r=e.values||[];this.he(n,50);for(const i of r)this.ce(i,n)}me(e,n){this.he(n,37),x.fromName(e).path.forEach(r=>{this.he(n,60),this.pe(r,n)})}he(e,n){e.le(n)}_e(e){e.le(2)}}Zs.Ie=new Zs;class Kie{constructor(){this.Je=new qb}addToCollectionParentIndex(e,n){return this.Je.add(n),_.resolve()}getCollectionParents(e,n){return _.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return _.resolve()}deleteFieldIndex(e,n){return _.resolve()}getDocumentsMatchingTarget(e,n){return _.resolve(null)}getIndexType(e,n){return _.resolve(0)}getFieldIndexes(e,n){return _.resolve([])}getNextCollectionGroupToUpdate(e){return _.resolve(null)}getMinOffset(e,n){return _.resolve(On.min())}getMinOffsetFromCollectionGroup(e,n){return _.resolve(On.min())}updateCollectionGroup(e,n,r){return _.resolve()}updateIndexEntries(e,n){return _.resolve()}}class qb{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ie(fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ie(fe.comparator)).toArray()}}new Uint8Array(0);class vn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(41943040,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class Js{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Js(0)}static vn(){return new Js(-1)}}class tse{constructor(){this.changes=new Bi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?_.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ise{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class iB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&fl(r.mutation,i,yn.empty(),Ue.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ee()){const i=xr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=pl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=xr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=_n();const o=gl(),a=gl();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof di)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),fl(l.mutation,c,l.mutation.getFieldMask(),Ue.now())):o.set(c.key,yn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new ise(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=gl();let i=new qe((o,a)=>o-a),s=ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||yn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||ee()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=dU();l.forEach(h=>{if(!s.has(h)){const f=nU(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return _.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return x.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function Tb(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):_.resolve(xr());let a=-1,u=s;return o.next(c=>_.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?_.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ee())).next(l=>({batchId:a,changes:lU(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new x(n)).next(r=>{let i=pl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=pl();return this.indexManager.getCollectionParents(e,i).next(o=>_.forEach(o,a=>{const u=(c=n,l=a.child(i),new li(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,u)=>{const c=u.getKey();null===i.get(c)&&(i=i.insert(c,xe.newInvalidDocument(c)))});let o=pl();return i.forEach((a,u)=>{const c=s.get(a);void 0!==c&&fl(c.mutation,u,yn.empty(),Ue.now()),xb(n,u)&&(o=o.insert(a,u))}),o})}}class sse{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return _.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Xe(r.createTime)}),_.resolve()}getNamedQuery(e,n){return _.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,{name:(r=n).name,query:Ub(r.bundledQuery),readTime:Xe(r.readTime)}),_.resolve();var r}}class ose{constructor(){this.overlays=new qe(x.comparator),this.es=new Map}getOverlay(e,n){return _.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xr();return _.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.oe(e,n,s)}),_.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),_.resolve()}getOverlaysForCollection(e,n,r){const i=xr(),s=n.length+1,o=new x(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return _.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new qe((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=xr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=xr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return _.resolve(a)}oe(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Vb(n,r));let s=this.es.get(n);void 0===s&&(s=ee(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}class zb{constructor(){this.ns=new Ie(It.ss),this.rs=new Ie(It.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new It(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new It(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new x(new fe([])),r=new It(n,e),i=new It(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new x(new fe([])),r=new It(n,e),i=new It(n,e+1);let s=ee();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new It(e,0),r=this.ns.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class It{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return x.comparator(e.key,n.key)||Y(e._s,n._s)}static os(e,n){return Y(e._s,n._s)||x.comparator(e.key,n.key)}}class ase{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Ie(It.ss)}checkEmpty(e){return _.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++;const o=new Fb(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new It(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _.resolve(o)}lookupMutationBatch(e,n){return _.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.ps(n+1),s=i<0?0:i;return _.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return _.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new It(n,0),i=new It(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),_.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ie(Y);return n.forEach(i=>{const s=new It(i,0),o=new It(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),_.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;x.isDocumentKey(s)||(s=s.child(""));const o=new It(new x(s),0);let a=new Ie(Y);return this.gs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u._s)),!0)},o),_.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){P(0===this.Ts(n.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return _.forEach(n.mutations,i=>{const s=new It(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new It(n,0),i=this.gs.firstAfterOrEqual(r);return _.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return _.resolve()}Ts(e,n){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class use{constructor(e){this.Es=e,this.docs=new qe(x.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return _.resolve(r?r.document.mutableCopy():xe.newInvalidDocument(n))}getEntries(e,n){let r=_n();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():xe.newInvalidDocument(i))}),_.resolve(r)}getAllFromCollection(e,n,r){let i=_n();const s=new x(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||gb(yV(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return _.resolve(i)}getAllFromCollectionGroup(e,n,r,i){O()}As(e,n){return _.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new cse(this)}getSize(e){return _.resolve(this.size)}}class cse extends tse{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),_.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}class lse{constructor(e){this.persistence=e,this.Rs=new Bi(n=>Hs(n),ll),this.lastRemoteSnapshotVersion=U.min(),this.highestTargetId=0,this.bs=0,this.Ps=new zb,this.targetCount=0,this.vs=Js.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),_.resolve()}getLastRemoteSnapshotVersion(e){return _.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),_.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),_.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Js(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,_.resolve()}updateTargetData(e,n){return this.Dn(n),_.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,_.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),_.waitFor(s).next(()=>i)}getTargetCount(e){return _.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return _.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),_.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),_.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),_.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return _.resolve(r)}containsKey(e,n){return _.resolve(this.Ps.containsKey(n))}}class sB{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Pn(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new lse(this),this.indexManager=new Kie,this.remoteDocumentCache=new use(r=>this.referenceDelegate.xs(r)),this.yt=new OU(n),this.Ns=new sse(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ose,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new ase(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){T("MemoryPersistence","Starting transaction:",e);const i=new dse(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,n){return _.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class dse extends Nre{constructor(e){super(),this.currentSequenceNumber=e}}class Fp{constructor(e){this.persistence=e,this.Fs=new zb,this.$s=null}static Bs(e){return new Fp(e)}get Ls(){if(this.$s)return this.$s;throw O()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),_.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),_.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),_.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _.forEach(this.Ls,r=>{const i=x.fromPath(r);return this.qs(e,i).next(s=>{s||n.removeEntry(i,U.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return _.or([()=>_.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}class Yb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=ee(),i=ee();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Yb(e,n.fromCache,r,i)}}class aB{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Mi(e,n))}ki(e,n){if(HV(n))return _.resolve(null);let r=on(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Ip(n,null,"F"),r=on(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ee(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Fi(n,a);return this.$i(n,c,o,u.readTime)?this.ki(e,Ip(n,null,"F")):this.Bi(e,c,n,u)}))})))}Oi(e,n,r,i){return HV(n)||i.isEqual(U.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Mi(e,n):(hb()<=he.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ab(n)),this.Bi(e,o,n,function mV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=U.fromTimestamp(1e9===r?new Ue(n+1,0):new Ue(n,r));return new On(i,x.empty(),e)}(i,-1)))})}Fi(e,n){let r=new Ie(WV(e));return n.forEach((i,s)=>{xb(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,n){return hb()<=he.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",Ab(n)),this.Ni.getDocumentsMatchingQuery(e,n,On.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class fse{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.yt=i,this.qi=new qe(Y),this.Ui=new Bi(s=>Hs(s),ll),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iB(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function cB(t,e){return Zb.apply(this,arguments)}function Zb(){return Zb=m(function*(t,e){const n=M(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ee();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})}),Zb.apply(this,arguments)}function pse(t,e){const n=M(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=_.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);P(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ee();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function lB(t){const e=M(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function gse(t,e){const n=M(t),r=e.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Cs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Cs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,y;e.targetMismatches.has(d)?f=f.withResumeToken(gt.EMPTY_BYTE_STRING,U.min()).withLastLimboFreeSnapshotVersion(U.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Cs.updateTargetData(s,f))});let u=_n(),c=ee();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function dB(t,e,n){let r=ee(),i=ee();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=_n();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(U.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):T("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Wi:o,zi:i}})}(s,o,e.documentUpdates).next(l=>{u=l.Wi,c=l.zi})),!r.isEqual(U.min())){const l=n.Cs.getLastRemoteSnapshotVersion(s).next(d=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return _.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.qi=i,s))}function mse(t,e){const n=M(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function La(t,e){const n=M(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,_.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new $i(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(r.targetId,r),n.Ui.set(e,r.targetId)),r})}function Va(t,e,n){return Xb.apply(this,arguments)}function Xb(){return Xb=m(function*(t,e,n){const r=M(t),i=r.qi.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Pi(o))throw o;T("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),Xb.apply(this,arguments)}function Vp(t,e,n){const r=M(t);let i=U.min(),s=ee();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=M(a),d=l.Ui.get(c);return void 0!==d?_.resolve(l.qi.get(d)):l.Cs.getTargetData(u,c)}(r,o,on(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:U.min(),n?s:ee())).next(a=>(function pB(t,e,n){let r=t.Ki.get(e)||U.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}(r,function zV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,Hi:s})))}class rC{constructor(){this.activeTargetIds=Cp()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yB{constructor(){this.Lr=new rC,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new rC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vse{Ur(e){}shutdown(){}}class _B{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const wse={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ise{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Ese extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,s){const o=this.ho(e,n);T("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(u=>(T("RestConnection","Received: ",u),u),u=>{throw Ia("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}_o(e,n,r,i,s,o){return this.ao(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+wa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){return`${this.oo}/v1/${n}:${wse[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new Ere;a.setWithCredentials(!0),a.listenOnce(vre.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case db.NO_ERROR:const c=a.getResponseJson();T("Connection","XHR received:",JSON.stringify(c)),s(c);break;case db.TIMEOUT:T("Connection",'RPC "'+e+'" timed out'),o(new b(w.DEADLINE_EXCEEDED,"Request time out"));break;case db.HTTP_ERROR:const l=a.getStatus();if(T("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d?.error;if(h&&h.status&&h.message){const f=function(p){const g=p.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(g)>=0?g:w.UNKNOWN}(h.status);o(new b(f,h.message))}else o(new b(w.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new b(w.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{T("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=yre(),o=_re(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Ire({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const u=i.join("");T("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new Ise({Hr:p=>{d?T("Connection","Not sending because WebChannel is closed:",p):(l||(T("Connection","Opening WebChannel transport."),c.open(),l=!0),T("Connection","WebChannel sending:",p),c.send(p))},Jr:()=>c.close()}),f=(p,g,y)=>{p.listen(g,I=>{try{y(I)}catch(D){setTimeout(()=>{throw D},0)}})};return f(c,dp.EventType.OPEN,()=>{d||T("Connection","WebChannel transport opened.")}),f(c,dp.EventType.CLOSE,()=>{d||(d=!0,T("Connection","WebChannel transport closed"),h.io())}),f(c,dp.EventType.ERROR,p=>{d||(d=!0,Ia("Connection","WebChannel transport errored:",p),h.io(new b(w.UNAVAILABLE,"The operation could not be completed")))}),f(c,dp.EventType.MESSAGE,p=>{var g;if(!d){const y=p.data[0];P(!!y);const D=y.error||(null===(g=y[0])||void 0===g?void 0:g.error);if(D){T("Connection","WebChannel received error:",D);const v=D.status;let R=function(B){const et=st[B];if(void 0!==et)return uU(et)}(v),V=D.message;void 0===R&&(R=w.INTERNAL,V="Unknown error status: "+v+" with message "+D.message),d=!0,h.io(new b(R,V)),c.close()}else T("Connection","WebChannel received:",y),h.ro(y)}}),f(o,wre.STAT_EVENT,p=>{p.stat===lV.PROXY?T("Connection","Detected buffering proxy"):p.stat===lV.NOPROXY&&T("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function $p(){return typeof document<"u"?document:null}function xl(t){return new hie(t,!0)}class sC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class wB{constructor(e,n,r,i,s,o,a,u){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new sC(e,n)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return m(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return m(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,n){var r=this;return m(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():n&&n.code===w.RESOURCE_EXHAUSTED?(Ye(n.toString()),Ye("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):n&&n.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(n)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new b(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro(m(function*(){e.state=0,e.start()}))}Qo(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Dse extends wB{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.yt=s}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=function gie(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:O(),i=e.targetChange.targetIds||[],s=function(u,c){return u.wt?(P(void 0===c||"string"==typeof c),gt.fromBase64String(c||"")):(P(void 0===c||c instanceof Uint8Array),gt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?w.UNKNOWN:uU(u.code);return new b(c,u.message||"")}(o);n=new fU(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Mr(t,r.document.name),s=Xe(r.document.updateTime),o=r.document.createTime?Xe(r.document.createTime):U.min(),a=new Ot({mapValue:{fields:r.document.fields}}),u=xe.newFoundDocument(i,s,o,a);n=new Tp(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Mr(t,r.document),s=r.readTime?Xe(r.readTime):U.min(),o=xe.newNoDocument(i,s);n=new Tp([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Mr(t,r.document);n=new Tp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return O();{const r=e.filter,s=new rie(r.count||0);n=new hU(r.targetId,s)}}var u;return n}(this.yt,e),r=function(i){if(!("targetChange"in i))return U.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?U.min():s.readTime?Xe(s.readTime):U.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=vl(this.yt),n.addTarget=function(i,s){let o;const a=s.target;return o=_p(a)?{documents:DU(i,a)}:{query:Ob(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=yU(i,s.resumeToken):s.snapshotVersion.compareTo(U.min())>0&&(o.readTime=Ra(i,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const r=function yie(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return O()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=vl(this.yt),n.removeTarget=e,this.Bo(n)}}class bse extends wB{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(P(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=function mie(t,e){return t&&t.length>0?(P(void 0!==e),t.map(n=>function(r,i){let s=Xe(r.updateTime?r.updateTime:i);return s.isEqual(U.min())&&(s=Xe(i)),new eie(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Xe(e.commitTime);return this.listener.Zo(r,n)}return P(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=vl(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function wl(t,e){let n;if(e instanceof Ma)n={update:IU(t,e.key,e.value)};else if(e instanceof ka)n={delete:_l(t,e.key)};else if(e instanceof di)n={update:IU(t,e.key,e.data),updateMask:Iie(e.fieldMask)};else{if(!(e instanceof Mb))return O();n={verify:_l(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Aa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof zs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ws)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof xa)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw O()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:fie(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:O()),n;var i}(this.yt,r))};this.Bo(n)}}class Cse extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new b(w.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(w.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new b(w.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class Sse{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ye(n),this.ou=!1):T("OnlineStateTracker",n)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Ase{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(a=>{r.enqueueAndForget(m(function*(){var u;hi(o)&&(T("RemoteStore","Restarting streams for network reachability change."),yield(u=m(function*(c){const l=M(c);l._u.add(4),yield Ua(l),l.gu.set("Unknown"),l._u.delete(4),yield Ml(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.gu=new Sse(r,i)}}function Ml(t){return aC.apply(this,arguments)}function aC(){return aC=m(function*(t){if(hi(t))for(const e of t.wu)yield e(!0)}),aC.apply(this,arguments)}function Ua(t){return uC.apply(this,arguments)}function uC(){return uC=m(function*(t){for(const e of t.wu)yield e(!1)}),uC.apply(this,arguments)}function jp(t,e){const n=M(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),dC(n)?lC(n):$a(n).ko()&&cC(n,e))}function kl(t,e){const n=M(t),r=$a(n);n.du.delete(e),r.ko()&&IB(n,e),0===n.du.size&&(r.ko()?r.Fo():hi(n)&&n.gu.set("Unknown"))}function cC(t,e){t.yu.Ot(e.targetId),$a(t).zo(e)}function IB(t,e){t.yu.Ot(e),$a(t).Ho(e)}function lC(t){t.yu=new uie({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),$a(t).start(),t.gu.uu()}function dC(t){return hi(t)&&!$a(t).No()&&t.du.size>0}function hi(t){return 0===M(t)._u.size}function EB(t){t.yu=void 0}function xse(t){return hC.apply(this,arguments)}function hC(){return hC=m(function*(t){t.du.forEach((e,n)=>{cC(t,e)})}),hC.apply(this,arguments)}function Mse(t,e){return fC.apply(this,arguments)}function fC(){return fC=m(function*(t,e){EB(t),dC(t)?(t.gu.hu(e),lC(t)):t.gu.set("Unknown")}),fC.apply(this,arguments)}function kse(t,e,n){return pC.apply(this,arguments)}function pC(){return pC=m(function*(t,e,n){if(t.gu.set("Online"),e instanceof fU&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.du.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.du.delete(a),i.yu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){T("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Gp(t,r)}else if(e instanceof Tp?t.yu.Kt(e):e instanceof hU?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(U.min()))try{const r=yield lB(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.du.get(u);c&&i.du.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.du.get(a);if(!u)return;i.du.set(a,u.withResumeToken(gt.EMPTY_BYTE_STRING,u.snapshotVersion)),IB(i,a);const c=new $i(u.target,a,1,u.sequenceNumber);cC(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){T("RemoteStore","Failed to raise snapshot:",r),yield Gp(t,r)}var r}),pC.apply(this,arguments)}function Gp(t,e,n){return gC.apply(this,arguments)}function gC(){return gC=m(function*(t,e,n){if(!Pi(e))throw e;t._u.add(1),yield Ua(t),t.gu.set("Offline"),n||(n=()=>lB(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){T("RemoteStore","Retrying IndexedDB access"),yield n(),t._u.delete(1),yield Ml(t)}))}),gC.apply(this,arguments)}function DB(t,e){return e().catch(n=>Gp(t,n,e))}function Ba(t){return mC.apply(this,arguments)}function mC(){return mC=m(function*(t){const e=M(t),n=qi(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Rse(e);)try{const i=yield mse(e.localStore,r);if(null===i){0===e.fu.length&&n.Fo();break}r=i.batchId,Nse(e,i)}catch(i){yield Gp(e,i)}bB(e)&&CB(e)}),mC.apply(this,arguments)}function Rse(t){return hi(t)&&t.fu.length<10}function Nse(t,e){t.fu.push(e);const n=qi(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function bB(t){return hi(t)&&!qi(t).No()&&t.fu.length>0}function CB(t){qi(t).start()}function Ose(t){return yC.apply(this,arguments)}function yC(){return yC=m(function*(t){qi(t).eu()}),yC.apply(this,arguments)}function Pse(t){return _C.apply(this,arguments)}function _C(){return _C=m(function*(t){const e=qi(t);for(const n of t.fu)e.Xo(n.mutations)}),_C.apply(this,arguments)}function Fse(t,e,n){return vC.apply(this,arguments)}function vC(){return vC=m(function*(t,e,n){const r=t.fu.shift(),i=Lb.from(r,e,n);yield DB(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Ba(t)}),vC.apply(this,arguments)}function Lse(t,e){return wC.apply(this,arguments)}function wC(){return wC=m(function*(t,e){var n;e&&qi(t).Yo&&(yield(n=m(function*(r,i){if(aU(s=i.code)&&s!==w.ABORTED){const o=r.fu.shift();qi(r).Mo(),yield DB(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Ba(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),bB(t)&&CB(t)}),wC.apply(this,arguments)}function TB(t,e){return IC.apply(this,arguments)}function IC(){return IC=m(function*(t,e){const n=M(t);n.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");const r=hi(n);n._u.add(3),yield Ua(n),r&&n.gu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),yield Ml(n)}),IC.apply(this,arguments)}function DC(){return DC=m(function*(t,e){const n=M(t);e?(n._u.delete(2),yield Ml(n)):e||(n._u.add(2),yield Ua(n),n.gu.set("Unknown"))}),DC.apply(this,arguments)}function $a(t){return t.pu||(t.pu=function(e,n,r){const i=M(e);return i.su(),new Dse(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:xse.bind(null,t),Zr:Mse.bind(null,t),Wo:kse.bind(null,t)}),t.wu.push(function(){var e=m(function*(n){n?(t.pu.Mo(),dC(t)?lC(t):t.gu.set("Unknown")):(yield t.pu.stop(),EB(t))});return function(n){return e.apply(this,arguments)}}())),t.pu}function qi(t){return t.Iu||(t.Iu=function(e,n,r){const i=M(e);return i.su(),new bse(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:Ose.bind(null,t),Zr:Lse.bind(null,t),tu:Pse.bind(null,t),Zo:Fse.bind(null,t)}),t.wu.push(function(){var e=m(function*(n){n?(t.Iu.Mo(),yield Ba(t)):(yield t.Iu.stop(),t.fu.length>0&&(T("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Iu}class bC{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new pt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new bC(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ja(t,e){if(Ye("AsyncQueue",`${e}: ${t}`),Pi(t))return new b(w.UNAVAILABLE,`${e}: ${t}`);throw t}class Ga{constructor(e){this.comparator=e?(n,r)=>e(n,r)||x.comparator(n.key,r.key):(n,r)=>x.comparator(n.key,r.key),this.keyedMap=pl(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new Ga(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ga)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Ga;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class SB{constructor(){this.Tu=new qe(x.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(n,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(n):1===e.type&&2===r.type?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):O():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ha{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ha(e,n,Ga.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Vse{constructor(){this.Au=void 0,this.listeners=[]}}class Use{constructor(){this.queries=new Bi(e=>qV(e),dl),this.onlineState="Unknown",this.Ru=new Set}}function TC(){return TC=m(function*(t,e){const n=M(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Vse),i)try{s.Au=yield n.onListen(r)}catch(o){const a=ja(o,`Initialization of query '${Ab(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&xC(n)}),TC.apply(this,arguments)}function AC(){return AC=m(function*(t,e){const n=M(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),AC.apply(this,arguments)}function Bse(t,e){const n=M(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&xC(n)}function $se(t,e,n){const r=M(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function xC(t){t.Ru.forEach(e=>{e.next()})}class MC{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ha(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){return!e.fromCache||(!this.options.Nu||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class MB{constructor(e){this.key=e}}class kB{constructor(e){this.key=e}}class RB{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ee(),this.mutatedKeys=ee(),this.Gu=WV(e),this.Qu=new Ga(this.Gu)}get ju(){return this.qu}Wu(e,n){const r=n?n.zu:new SB,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=xb(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),y=!0):this.Hu(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.Gu(f,u)>0||c&&this.Gu(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return f(d)-f(h)}(c.type,l.type)||this.Gu(c.doc,l.doc)),this.Ju(r);const o=n?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,u=a!==this.Uu;return this.Uu=a,0!==s.length||u?{snapshot:new Ha(this.query,e.Qu,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new SB,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=ee(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new kB(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new MB(r))}),n}tc(e){this.qu=e.Hi,this.Ku=ee();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return Ha.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class Hse{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class qse{constructor(e){this.key=e,this.nc=!1}}class zse{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Bi(a=>qV(a),dl),this.rc=new Map,this.oc=new Set,this.uc=new qe(x.comparator),this.cc=new Map,this.ac=new zb,this.hc={},this.lc=new Map,this.fc=Js.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Wse(t,e){return kC.apply(this,arguments)}function kC(){return kC=m(function*(t,e){const n=eT(t);let r,i;const s=n.ic.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=yield La(n.localStore,on(e));n.isPrimaryClient&&jp(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield RC(n,e,r,"current"===a,o.resumeToken)}return i}),kC.apply(this,arguments)}function RC(t,e,n,r,i){return NC.apply(this,arguments)}function NC(){return NC=m(function*(t,e,n,r,i){t._c=(d,h,f)=>{return(p=m(function*(g,y,I,D){let v=y.view.Wu(I);v.$i&&(v=yield Vp(g.localStore,y.query,!1).then(({documents:B})=>y.view.Wu(B,v)));const R=D&&D.targetChanges.get(y.targetId),V=y.view.applyChanges(v,g.isPrimaryClient,R);return GC(g,y.targetId,V.Xu),V.snapshot}),function(g,y,I,D){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield Vp(t.localStore,e,!0),o=new RB(e,s.Hi),a=o.Wu(s.documents),u=yl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);GC(t,n,c.Xu);const l=new Hse(e,n,o);return t.ic.set(e,l),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),c.snapshot}),NC.apply(this,arguments)}function Kse(t,e){return OC.apply(this,arguments)}function OC(){return OC=m(function*(t,e){const n=M(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(s=>!dl(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Va(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),kl(n.remoteStore,r.targetId),qa(n,r.targetId)}).catch(Oi))):(qa(n,r.targetId),yield Va(n.localStore,r.targetId,!0))}),OC.apply(this,arguments)}function PC(){return PC=m(function*(t,e,n){const r=tT(t);try{const i=yield function(s,o){const a=M(s),u=Ue.now(),c=o.reduce((h,f)=>h.add(f.key),ee());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=_n(),p=ee();return a.Gi.getEntries(h,c).next(g=>{f=g,f.forEach((y,I)=>{I.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const y=[];for(const I of o){const D=nie(I,l.get(I.key).overlayedDocument);null!=D&&y.push(new di(I.key,D,BV(D.value.mapValue),Oe.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(g=>{d=g;const y=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,y)})}).then(()=>({batchId:d.batchId,changes:lU(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.hc[s.currentUser.toKey()];u||(u=new qe(Y)),u=u.insert(o,a),s.hc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield fi(r,i.changes),yield Ba(r.remoteStore)}catch(i){const s=ja(i,"Failed to persist write");n.reject(s)}}),PC.apply(this,arguments)}function NB(t,e){return FC.apply(this,arguments)}function FC(){return FC=m(function*(t,e){const n=M(t);try{const r=yield gse(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.cc.get(s);o&&(P(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?P(o.nc):i.removedDocuments.size>0&&(P(o.nc),o.nc=!1))}),yield fi(n,r,e)}catch(r){yield Oi(r)}}),FC.apply(this,arguments)}function OB(t,e,n){const r=M(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=M(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.bu(o)&&(u=!0)}),u&&xC(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Yse(t,e,n){return LC.apply(this,arguments)}function LC(){return LC=m(function*(t,e,n){const r=M(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new qe(x.comparator);o=o.insert(s,xe.newNoDocument(s,U.min()));const a=ee().add(s),u=new ml(U.min(),new Map,new Ie(Y),o,a);yield NB(r,u),r.uc=r.uc.remove(s),r.cc.delete(e),HC(r)}else yield Va(r.localStore,e,!1).then(()=>qa(r,e,n)).catch(Oi)}),LC.apply(this,arguments)}function Zse(t,e){return VC.apply(this,arguments)}function VC(){return VC=m(function*(t,e){const n=M(t),r=e.batch.batchId;try{const i=yield pse(n.localStore,e);jC(n,r,null),$C(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield fi(n,i)}catch(i){yield Oi(i)}}),VC.apply(this,arguments)}function Xse(t,e,n){return UC.apply(this,arguments)}function UC(){return UC=m(function*(t,e,n){const r=M(t);try{const i=yield function(s,o){const a=M(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(P(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);jC(r,e,n),$C(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield fi(r,i)}catch(i){yield Oi(i)}}),UC.apply(this,arguments)}function $C(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function jC(t,e,n){const r=M(t);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function qa(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||PB(t,r)})}function PB(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);null!==n&&(kl(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),HC(t))}function GC(t,e,n){for(const r of n)r instanceof MB?(t.ac.addReference(r.key,e),eoe(t,r)):r instanceof kB?(T("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||PB(t,r.key)):O()}function eoe(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(T("SyncEngine","New document in limbo: "+n),t.oc.add(r),HC(t))}function HC(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new x(fe.fromString(e)),r=t.fc.next();t.cc.set(r,new qse(n)),t.uc=t.uc.insert(n,r),jp(t.remoteStore,new $i(on(Sa(n.path)),r,2,Pn.at))}}function fi(t,e,n){return qC.apply(this,arguments)}function qC(){return qC=m(function*(t,e,n){const r=M(t),i=[],s=[],o=[];var a;r.ic.isEmpty()||(r.ic.forEach((a,u)=>{o.push(r._c(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=Yb.Ci(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.sc.Wo(i),yield(a=m(function*(u,c){const l=M(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>_.forEach(c,h=>_.forEach(h.Si,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>_.forEach(h.Di,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Pi(d))throw d;T("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.qi.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.qi=l.qi.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),qC.apply(this,arguments)}function toe(t,e){return zC.apply(this,arguments)}function zC(){return zC=m(function*(t,e){const n=M(t);if(!n.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());const r=yield cB(n.localStore,e);n.currentUser=e,(i=n).lc.forEach(o=>{o.forEach(a=>{a.reject(new b(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield fi(n,r.ji)}var i}),zC.apply(this,arguments)}function noe(t,e){const n=M(t),r=n.cc.get(e);if(r&&r.nc)return ee().add(r.key);{let i=ee();const s=n.rc.get(e);if(!s)return i;for(const o of s){const a=n.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function eT(t){const e=M(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=NB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=noe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Yse.bind(null,e),e.sc.Wo=Bse.bind(null,e.eventManager),e.sc.wc=$se.bind(null,e.eventManager),e}function tT(t){const e=M(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Zse.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xse.bind(null,e),e}class doe{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.yt=xl(e.databaseInfo.databaseId),n.sharedClientState=n.gc(e),n.persistence=n.yc(e),yield n.persistence.start(),n.localStore=n.Ic(e),n.gcScheduler=n.Tc(e,n.localStore),n.indexBackfillerScheduler=n.Ec(e,n.localStore)})()}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return function uB(t,e,n,r){return new fse(t,e,n,r)}(this.persistence,new aB,e.initialUser,this.yt)}yc(e){return new sB(Fp.Bs,this.yt)}gc(e){return new yB}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class nT{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>OB(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=toe.bind(null,r.syncEngine),yield function EC(t,e){return DC.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Use}createDatastore(e){const n=xl(e.databaseInfo.databaseId),r=new Ese(e.databaseInfo);return new Cse(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>OB(this.syncEngine,a,0),o=_B.C()?new _B:new vse,new Ase(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new zse(r,i,s,o,a,u);return c&&(l.dc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=m(function*(n){const r=M(n);T("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Ua(r),r.mu.shutdown(),r.gu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}function rT(t,e,n){if(!n)throw new b(w.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function VB(t){if(!x.isDocumentKey(t))throw new b(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UB(t){if(x.isDocumentKey(t))throw new b(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":O()}function ce(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hp(t);throw new b(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}const $B=new Map;class jB{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new b(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function poe(t,e,n,r){if(!0===e&&!0===r)throw new b(w.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jB({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jB(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Dre;switch(n.type){case"gapi":return new Sre(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new b(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=$B.get(e);n&&(T("ComponentProvider","Removing Datastore"),$B.delete(e),n.terminate())}(this),Promise.resolve()}}class Je{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Je(this.firestore,e,this._key)}}class Pt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Pt(this.firestore,e,this._query)}}class Rr extends Pt{constructor(e,n,r){super(e,n,Sa(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Je(this.firestore,null,new x(e))}withConverter(e){return new Rr(this.firestore,e,this._path)}}function GB(t,e,...n){if(t=qn(t),rT("collection","path",e),t instanceof Rl){const r=fe.fromString(e,...n);return UB(r),new Rr(t,null,r)}{if(!(t instanceof Je||t instanceof Rr))throw new b(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return UB(r),new Rr(t.firestore,null,r)}}function HB(t,e,...n){if(t=qn(t),1===arguments.length&&(e=pV.R()),rT("doc","path",e),t instanceof Rl){const r=fe.fromString(e,...n);return VB(r),new Je(t,null,new x(r))}{if(!(t instanceof Je||t instanceof Rr))throw new b(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return VB(r),new Je(t.firestore,t instanceof Rr?t.converter:null,new x(r))}}class qp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Ye("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Ioe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vt.UNAUTHENTICATED,this.clientId=pV.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){T("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(T("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new pt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=ja(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function WB(t,e){return iT.apply(this,arguments)}function iT(){return iT=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield cB(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),iT.apply(this,arguments)}function KB(t,e){return sT.apply(this,arguments)}function sT(){return sT=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield oT(t);T("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>TB(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>TB(e.remoteStore,s)),t.onlineComponents=e}),sT.apply(this,arguments)}function oT(t){return aT.apply(this,arguments)}function aT(){return aT=m(function*(t){return t.offlineComponents||(T("FirestoreClient","Using default OfflineComponentProvider"),yield WB(t,new doe)),t.offlineComponents}),aT.apply(this,arguments)}function zp(t){return uT.apply(this,arguments)}function uT(){return uT=m(function*(t){return t.onlineComponents||(T("FirestoreClient","Using default OnlineComponentProvider"),yield KB(t,new nT)),t.onlineComponents}),uT.apply(this,arguments)}function za(t){return dT.apply(this,arguments)}function dT(){return dT=m(function*(t){const e=yield zp(t),n=e.eventManager;return n.onListen=Wse.bind(null,e.syncEngine),n.onUnlisten=Kse.bind(null,e.syncEngine),n}),dT.apply(this,arguments)}class xoe{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new sC(this,"async_queue_retry"),this.Wc=()=>{const n=$p();n&&T("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=$p();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=$p();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new pt;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return m(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(n){if(!Pi(n))throw n;T("AsyncQueue","Operation failed with retryable error: "+n)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Ye("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=bC.createAndSchedule(this,e,n,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&O()}verifyOperationInProgress(){}Xc(){var e=this;return m(function*(){let n;do{n=e.Bc,yield n}while(n!==e.Bc)})()}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function hT(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Me extends Rl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new xoe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||JB(this),this._firestoreClient.terminate()}}function koe(t,e){const r="string"==typeof t?t:e||"(default)",i=lf("object"==typeof t?t:vO(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=nf())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function goe(t,e,n,r={}){var i;const s=(t=ce(t,Rl))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Ia("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=vt.MOCK_USER;else{o=function Y9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ef(JSON.stringify({alg:"none",type:"JWT"})),ef(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new b(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new vt(u)}t._authCredentials=new bre(new hV(o,a))}}(i,...s)}return i}function ot(t){return t._firestoreClient||JB(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function JB(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Vre(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new Ioe(t._authCredentials,t._appCheckCredentials,t._queue,r)}class to{constructor(e){this._byteString=e}static fromBase64String(e){try{return new to(gt.fromBase64String(e))}catch(n){throw new b(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new to(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wa{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new b(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class n2{constructor(e){this._methodName=e}}class fT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Y(this._lat,e._lat)||Y(this._long,e._long)}}const Roe=/^__.*__$/;class Noe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new di(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ma(e,this.data,n,this.fieldTransforms)}}function i2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}class Kp{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Kp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Yp(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(i2(this.sa)&&Roe.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Ooe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=r||xl(e)}da(e,n,r,i=!1){return new Kp({sa:e,methodName:n,fa:r,path:Ze.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Ka(t){const e=t._freezeSettings(),n=xl(t._databaseId);return new Ooe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pT(t,e,n,r,i,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,i);mT("Data must be an object, but it was:",o,r);const a=c2(r,o);let u,c;if(s.merge)u=new yn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=yT(e,d,n);if(!o.contains(h))throw new b(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);d2(l,h)||l.push(h)}u=new yn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new Noe(new Ot(a),u,c)}function no(t,e){if(l2(t=qn(t)))return mT("Unsupported field value:",e,t),c2(t,e);if(t instanceof n2)return function(n,r){if(!i2(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=no(o,r.aa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=qn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return YV(r.yt,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Ue.fromDate(n);return{timestampValue:Ra(r.yt,i)}}if(n instanceof Ue){const i=new Ue(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ra(r.yt,i)}}if(n instanceof fT)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof to)return{bytesValue:yU(r.yt,n._byteString)};if(n instanceof Je){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:kb(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${Hp(n)}`)}(t,e)}function c2(t,e){const n={};return IV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(t,(r,i)=>{const s=no(i,e.ra(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function l2(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ue||t instanceof fT||t instanceof to||t instanceof Je||t instanceof n2)}function mT(t,e,n){if(!l2(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Hp(n);throw e.ha("an object"===r?t+" a custom object":t+" "+r)}var r}function yT(t,e,n){if((e=qn(e))instanceof Wa)return e._internalPath;if("string"==typeof e)return Qp(t,e);throw Yp("Field path arguments must be of type string or ",t,!1,void 0,n)}const Voe=new RegExp("[~\\*/\\[\\]]");function Qp(t,e,n){if(e.search(Voe)>=0)throw Yp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wa(...e.split("."))._internalPath}catch{throw Yp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Yp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new b(w.INVALID_ARGUMENT,a+t+u)}function d2(t,e){return t.some(n=>n.isEqual(e))}class _T{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Uoe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Uoe extends _T{data(){return super.data()}}function Zp(t,e){return"string"==typeof e?Qp(t,e):e instanceof Wa?e._internalPath:e._delegate._internalPath}class $oe{convertValue(e,n="none"){switch(js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw O()}}convertObject(e,n){const r={};return Bs(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new fT(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=DV(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ol(e));default:return null}}convertTimestamp(e){const n=Fi(e);return new Ue(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=fe.fromString(e);P(SU(r));const i=new Us(r.get(1),r.get(3)),s=new x(r.popFirst(5));return i.isEqual(n)||Ye(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class ro{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ya extends _T{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new tg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Zp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class tg extends Ya{data(e={}){return super.data(e)}}class Za{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ro(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new tg(this._firestore,this._userDataWriter,r.key,r,new ro(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new b(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new tg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ro(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new tg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ro(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:joe(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function joe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}class zi extends $oe{constructor(e){super(),this.firestore=e}convertBytes(e){return new to(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Je(this.firestore,null,n)}}function Goe(t){return Pl(ce(t.firestore,Me),[new ka(t._key,Oe.none())])}function Pl(t,e){return function(n,r){const i=new pt;return n.asyncQueue.enqueueAndForget(m(function*(){return function Qse(t,e,n){return PC.apply(this,arguments)}(yield function lT(t){return zp(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(ot(t),e)}!function(t,e=!0){wa=df,nn(new Ht("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Me(new Cre(n.getProvider("auth-internal")),new Are(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new b(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Us(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Qe(dV,"3.8.1",t),Qe(dV,"3.8.1","esm2017")}();var Qoe={includeMetadataChanges:!1};function ET(t,e){return void 0===e&&(e=Qoe),new Pe(function(n){var r=function qoe(t,...e){var n,r,i;t=qn(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||hT(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(hT(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof Je)c=ce(t.firestore,Me),l=Sa(t._key.path),u={next:d=>{e[o]&&e[o](function IT(t,e,n){const r=n.docs.get(e._key),i=new zi(t);return new Ya(t,i,e._key,r,new ro(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ce(t,Pt);c=ce(d.firestore,Me),l=d._query;const h=new zi(c);u={next:f=>{e[o]&&e[o](new Za(c,h,d,f))},error:e[o+1],complete:e[o+2]},function h2(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new b(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new qp(p),y=new MC(h,g,f);return d.asyncQueue.enqueueAndForget(m(function*(){return function CC(t,e){return TC.apply(this,arguments)}(yield za(d),y)})),()=>{g.bc(),d.asyncQueue.enqueueAndForget(m(function*(){return function SC(t,e){return AC.apply(this,arguments)}(yield za(d),y)}))}}(ot(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function nae(t,e){return void 0===e&&(e={}),function tae(t){return ET(t,{includeMetadataChanges:!0}).pipe(se(function(e){return e.docs}))}(t).pipe(se(function(n){return n.map(function(r){return function w2(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class rg{constructor(e){return e}}const b2="firestore",CT=new L("angularfire2.firestore-instances");function sae(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new rg(r)}}const oae={provide:class rae{constructor(){return cI(b2)}},deps:[[new Xt,CT]]},aae={provide:rg,useFactory:function iae(t,e){const n=function uI(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(b2,t,e);return n&&new rg(n)},deps:[[new Xt,CT],ha]};let uae=(()=>{class t{constructor(){Qe("angularfire",eI.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=Ft({providers:[aae,oae]}),t})();const lae=_f(nae,!0),dae=_f(Goe,!0),hae=_f(koe,!0);class io{constructor(e){this.firestore=e}addUser(e){return function Hoe(t,e){const n=ce(t.firestore,Me),r=HB(t),i=function wT(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Pl(n,[pT(Ka(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Oe.exists(!1))]).then(()=>r)}(GB(this.firestore,"user"),e)}getUser(){const e=GB(this.firestore,"user");return lae(e,{idField:"id"})}deletedUser(e){const n=HB(this.firestore,`user/${e.id}`);return dae(n)}}io.\u0275fac=function(e){return new(e||io)($(rg))},io.\u0275prov=q({token:io,factory:io.\u0275fac,providedIn:"root"});class Xa{constructor(e){this.userService=e,this.formRegister=new Wh({nameUser:new wc,email:new wc,role:new wc})}ngOnInit(){}onSubmit(){var e=this;return m(function*(){console.log(e.formRegister.value);const n=e.userService.addUser(e.formRegister.value);console.log(n)})()}}Xa.\u0275fac=function(e){return new(e||Xa)(C(io))},Xa.\u0275cmp=mi({type:Xa,selectors:[["app-register"]],decls:19,vars:1,consts:[[1,"container",2,"background-color","azure"],[1,"row"],[1,"col","col-sm-4","mx-auto"],[3,"formGroup"],[1,"mt-3"],[1,"form-label"],["type","text","type","text","formControlName","nameUser","name","nameUser",1,"form-control"],["type","text","type","text","formControlName","email","name","email",1,"form-control"],["type","text","type","text","formControlName","role","name","role",1,"form-control"],[1,"mt-3","text-center"],[1,"btn","btn-primary",3,"click"]],template:function(e,n){1&e&&(We(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",4)(5,"label",5),jt(6,"Name"),ke(),mr(7,"input",6),ke(),We(8,"div",4)(9,"label",5),jt(10,"Email"),ke(),mr(11,"input",7),ke(),We(12,"div",4)(13,"label",5),jt(14,"Role"),ke(),mr(15,"input",8),ke(),We(16,"div",9)(17,"button",10),dn("click",function(){return n.onSubmit()}),jt(18,"Ingresar"),ke()()()()()()),2&e&&(ko(3),Vd("formGroup",n.formRegister))},dependencies:[$1,$h,T1,S1,Jh,nv]});class Fl{}function fae(t,e){if(1&t){const n=function ix(){return E()}();We(0,"tr")(1,"td"),jt(2),ke(),We(3,"td"),jt(4),ke(),We(5,"td"),jt(6),ke(),We(7,"td",7)(8,"button",8),dn("click",function(){const s=function b0(t){return X.lFrame.contextLView=t,t[8]}(n).$implicit;return function C0(t){return X.lFrame.contextLView=null,t}(lx().onClickDeleted(s))}),jt(9,"Eliminar"),ke()()()}if(2&t){const n=e.$implicit;ko(2),Fu(n.nameUser),ko(2),Fu(n.email),ko(2),Fu(n.role)}}Fl.\u0275fac=function(e){return new(e||Fl)},Fl.\u0275cmp=mi({type:Fl,selectors:[["app-home"]],decls:1,vars:0,template:function(e,n){1&e&&mr(0,"app-register")},dependencies:[Xa]});class Ll{constructor(e){this.userServices=e}ngOnInit(){this.userServices.getUser().subscribe(e=>{this.user=e})}onClickDeleted(e){const n=this.userServices.deletedUser(e);console.log(n)}}Ll.\u0275fac=function(e){return new(e||Ll)(C(io))},Ll.\u0275cmp=mi({type:Ll,selectors:[["app-list"]],decls:17,vars:1,consts:[[1,"container"],[1,"row"],[1,"col"],[1,"mb-4"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"btn","btn-danger",3,"click"]],template:function(e,n){1&e&&(We(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),jt(5,"Listado de Usuarios"),ke()(),We(6,"table",4)(7,"thead")(8,"tr")(9,"th",5),jt(10,"Name"),ke(),We(11,"th",5),jt(12,"Email"),ke(),We(13,"th",5),jt(14,"Role"),ke()()(),We(15,"tbody"),function nx(t,e,n,r,i,s,o,a){const u=E(),c=de(),l=t+22,d=c.firstCreatePass?function Uq(t,e,n,r,i,s,o,a,u){const c=e.consts,l=No(e,t,4,o||null,yi(c,a));Vm(e,n,l,yi(c,u)),od(e,l);const d=l.tViews=Lm(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];dr(d,!1);const h=u[11].createComment("");wd(c,u,h,d),Bt(h,u),kd(u,u[l]=FA(h,u,h,d)),rd(d)&&Pm(c,u,d),null!=o&&Fm(u,d,a)}(16,fae,10,3,"tr",6),ke()()()()()),2&e&&(ko(16),Vd("ngForOf",n.user))},dependencies:[uR]});const pae=[{path:"",component:Fl},{path:"register",component:Xa},{path:"list",component:Ll},{path:"**",redirectTo:"",pathMatch:"full"}];class Ja{}Ja.\u0275fac=function(e){return new(e||Ja)},Ja.\u0275mod=Wt({type:Ja}),Ja.\u0275inj=Ft({imports:[XN.forRoot(pae),XN]});class Vl{}Vl.\u0275fac=function(e){return new(e||Vl)},Vl.\u0275cmp=mi({type:Vl,selectors:[["app-navbar"]],decls:14,vars:0,consts:[[1,"navbar","navbar-expand-lg","bg-light","mb-5"],[1,"container-fluid"],[1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","home",1,"nav-link","active"],["aria-current","page","routerLink","list",1,"nav-link","active"]],template:function(e,n){1&e&&(We(0,"nav",0)(1,"div",1)(2,"a",2),jt(3,"UserList"),ke(),We(4,"button",3),mr(5,"span",4),ke(),We(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),jt(10,"Home"),ke()(),We(11,"li",7)(12,"a",9),jt(13,"Lista de Usuarios"),ke()()()()()())},dependencies:[Bh]});class Ul{constructor(){this.title="actividad-25"}}Ul.\u0275fac=function(e){return new(e||Ul)},Ul.\u0275cmp=mi({type:Ul,selectors:[["app-root"]],decls:3,vars:0,consts:[[2,"background-color","azure"]],template:function(e,n){1&e&&(mr(0,"app-navbar"),We(1,"div",0),mr(2,"router-outlet"),ke())},dependencies:[A_,Vl]});class eu{}eu.\u0275fac=function(e){return new(e||eu)},eu.\u0275mod=Wt({type:eu}),eu.\u0275inj=Ft({imports:[e_]});class tu{}tu.\u0275fac=function(e){return new(e||tu)},tu.\u0275mod=Wt({type:tu}),tu.\u0275inj=Ft({imports:[e_,P9,F9]});const gae_firebase={apiKey:"AIzaSyBRZnZFKjbbuvn_VvPbyeJc1xXOAb-vvZo",authDomain:"angularclase25.firebaseapp.com",projectId:"angularclase25",storageBucket:"angularclase25.appspot.com",messagingSenderId:"458505005803",appId:"1:458505005803:web:b105d46b023cbec4d82cae",measurementId:"G-RV62K324VR"};class nu{}nu.\u0275fac=function(e){return new(e||nu)},nu.\u0275mod=Wt({type:nu,bootstrap:[Ul]}),nu.\u0275inj=Ft({imports:[z6,Ja,tu,eu,function aJ(t,...e){return{ngModule:oJ,providers:[{provide:lI,useFactory:sJ(t),multi:!0,deps:[Le,An,bP,...e]}]}}(()=>uJ(gae_firebase)),function cae(t,...e){return{ngModule:uae,providers:[{provide:CT,useFactory:sae(t),multi:!0,deps:[Le,An,bP,CP,[new Xt,TF],[new Xt,QF],...e]}]}}(()=>hae())]}),q6().bootstrapModule(nu).catch(t=>console.error(t))}},De=>{De(De.s=360)}]);